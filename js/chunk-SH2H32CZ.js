import{a as dn,b as sc}from"./chunk-BDUWLAUS.js";import{j as ze}from"./chunk-OBMTZ2R2.js";import{$a as V,$b as cn,$e as xi,A as Zs,Aa as Gr,Ab as ut,Ae as Ja,B as At,Ba as oe,Bb as Wo,Be as Ya,Ca as le,Cb as St,Ce as Qa,Cf as mt,Da as we,Db as kt,De as Y,E as Js,Eb as er,Ee as ar,Fa as ge,Fe as hn,Ga as Dr,Ge as se,Hb as Ko,He as W,I as Ys,Ia as st,Ib as Zo,Ie as cr,J as Qs,Ja as Da,Jb as Jo,Je as zt,K as Mo,Ka as Oo,Kb as Yo,Ke as _t,La as jo,Lb as Rt,Ma as it,Mb as Me,Me as Q,Nb as Qo,Ne as ie,O as $r,Oa as Or,Ob as Xo,Oe as li,P as rt,Pa as G,Pb as tr,Q as It,Qb as rr,Qe as Xa,Ra as J,Rb as Zr,Sa as Oa,Sb as en,Se as ur,Ta as Ke,Tb as Ft,Te as ec,Ub as tn,Ue as tc,V as Xs,Vb as rn,Ve as rc,Wb as on,We as eo,Xb as nn,Xe as yn,Y as ot,Yb as sn,Ye as oc,Z as Mr,Za as at,Zb as or,Ze as hi,_b as an,_e as yi,ab as ti,ac as un,af as to,bb as ri,bc as mn,ca as ei,cc as fn,dc as nr,ea as Ce,eb as oi,ec as fi,fb as ct,fc as pi,ga as q,gc as Jr,gf as gi,ha as Go,ia as D,ib as ja,if as xn,jf as gn,ka as X,kb as jr,la as Do,lb as ni,le as Yr,lf as bi,ma as O,mb as si,me,mf as wi,na as A,nb as Bt,ne as fe,oa as He,ob as ii,oe as Te,of as mr,pa as ne,pb as ai,pc as di,pe as $,pf as ro,qb as Vr,qc as Nt,qe as ln,qf as _e,ra as K,rb as Wr,rc as sr,rf as nc,s as qo,sb as Vo,sc as Se,se as Qr,sf as bn,t as U,ta as We,tb as ci,tc as ir,te as Ht,tf as wn,u as de,ua as j,ub as ui,ue as Va,vb as Kr,vc as ue,ve as Xr,w as H,wb as Xt,we as Wa,x as Ks,xa as nt,xb as mi,xc as pn,xe as Ka,xf as fr,y as $o,ya as be,ye as Za,za as $e,zb as Ct,ze as Ge}from"./chunk-J26BEOSD.js";import{a as Ga}from"./chunk-MQMLE4BX.js";import{e as Ma,i,k as a,o as c}from"./chunk-JY5TIRRF.js";i();c();a();i();c();a();i();c();a();function S(e,t,r){let o=e[t.name];if(typeof o=="function")return o;let n=e[r];return typeof n=="function"?n:s=>t(e,s)}i();c();a();i();c();a();i();c();a();var oo=class extends H{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}};var ic="/docs/contract/encodeEventTopics";function Ue(e){let{abi:t,eventName:r,args:o}=e,n=t[0];if(r){let f=Or({abi:t,name:r});if(!f)throw new Mo(r,{docsPath:ic});n=f}if(n.type!=="event")throw new Mo(void 0,{docsPath:ic});let s=qo(n),u=nt(s),m=[];if(o&&"inputs"in n){let f=n.inputs?.filter(d=>"indexed"in d&&d.indexed),p=Array.isArray(o)?o:Object.values(o).length>0?f?.map(d=>o[d.name])??[]:[];p.length>0&&(m=f?.map((d,l)=>Array.isArray(p[l])?p[l].map((g,b)=>ac({param:d,value:p[l][b]})):typeof p[l]<"u"&&p[l]!==null?ac({param:d,value:p[l]}):null)??[])}return[u,...m]}function ac({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return j(ne(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new oo(e.type);return it([e],[t])}i();c();a();function ft(e,{method:t}){let r={};return e.transport.type==="fallback"&&e.transport.onResponse?.(({method:o,response:n,status:s,transport:u})=>{s==="success"&&t===o&&(r[n]=u.request)}),o=>r[o]||e.request}async function pr(e,t){let{address:r,abi:o,args:n,eventName:s,fromBlock:u,strict:m,toBlock:f}=t,p=ft(e,{method:"eth_newFilter"}),d=s?Ue({abi:o,args:n,eventName:s}):void 0,l=await e.request({method:"eth_newFilter",params:[{address:r,fromBlock:typeof u=="bigint"?A(u):u,toBlock:typeof f=="bigint"?A(f):f,topics:d}]});return{abi:o,args:n,eventName:s,id:l,request:p(l),strict:!!m,type:"event"}}i();c();a();i();c();a();var lf=3;function ve(e,{abi:t,address:r,args:o,docsPath:n,functionName:s,sender:u}){let m=e instanceof Ct?e:e instanceof H?e.walk(w=>"data"in w)||e.walk():{},{code:f,data:p,details:d,message:l,shortMessage:g}=m,b=e instanceof At?new mi({functionName:s}):[lf,Rt.code].includes(f)&&(p||d||l||g)||f===Me.code&&d==="execution reverted"&&p?new Xt({abi:t,data:typeof p=="object"?p.data:p,functionName:s,message:m instanceof St?d:g??l}):e;return new Kr(b,{abi:t,args:o,contractAddress:r,docsPath:n,functionName:s,sender:u})}i();c();a();i();c();a();i();c();a();i();c();a();function cc(e){let t=j(`0x${e.substring(4)}`).substring(26);return Gr(`0x${t}`)}i();c();a();async function vi({hash:e,signature:t}){let r=U(e)?e:X(e),{secp256k1:o}=await import("./secp256k1-HJFTETDJ.js");return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){let{r:p,s:d,v:l,yParity:g}=t,b=Number(g??l),w=uc(b);return new o.Signature(q(p),q(d)).addRecoveryBit(w)}let u=U(t)?t:X(t);if(de(u)!==65)throw new Error("invalid signature length");let m=D(`0x${u.slice(130)}`),f=uc(m);return o.Signature.fromCompact(u.substring(2,130)).addRecoveryBit(f)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function uc(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function Ae({hash:e,signature:t}){return cc(await vi({hash:e,signature:t}))}i();c();a();i();c();a();function Ee(e,t="hex"){let r=mc(e),o=Ke(new Uint8Array(r.length));return r.encode(o),t==="hex"?O(o.bytes):o.bytes}function hf(e,t="bytes"){return Ee(e,t)}function yf(e,t="hex"){return Ee(e,t)}function mc(e){return Array.isArray(e)?xf(e.map(t=>mc(t))):gf(e)}function xf(e){let t=e.reduce((n,s)=>n+s.length,0),r=fc(t);return{length:t<=55?1+t:1+r+t,encode(n){t<=55?n.pushByte(192+t):(n.pushByte(247+r),r===1?n.pushUint8(t):r===2?n.pushUint16(t):r===3?n.pushUint24(t):n.pushUint32(t));for(let{encode:s}of e)s(n)}}}function gf(e){let t=typeof e=="string"?K(e):e,r=fc(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+r+t.length,encode(n){t.length===1&&t[0]<128?n.pushBytes(t):t.length<=55?(n.pushByte(128+t.length),n.pushBytes(t)):(n.pushByte(183+r),r===1?n.pushUint8(t.length):r===2?n.pushUint16(t.length):r===3?n.pushUint24(t.length):n.pushUint32(t.length),n.pushBytes(t))}}}function fc(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new H("Length is too large.")}function pc(e){let{chainId:t,nonce:r,to:o}=e,n=e.contractAddress??e.address,s=j(ge(["0x05",Ee([t?A(t):"0x",n,r?A(r):"0x"])]));return o==="bytes"?K(s):s}async function pt(e){let{authorization:t,signature:r}=e;return Ae({hash:pc(t),signature:r??t})}i();c();a();i();c();a();var no=class extends H{constructor(t,{account:r,docsPath:o,chain:n,data:s,gas:u,gasPrice:m,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:d,to:l,value:g}){let b=ja({from:r?.address,to:l,value:typeof g<"u"&&`${oi(g)} ${n?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:u,gasPrice:typeof m<"u"&&`${ct(m)} gwei`,maxFeePerGas:typeof f<"u"&&`${ct(f)} gwei`,maxPriorityFeePerGas:typeof p<"u"&&`${ct(p)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",b].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}};function dc(e,{docsPath:t,...r}){let o=(()=>{let n=sr(e,r);return n instanceof Nt?e:n})();return new no(o,{docsPath:t,...r})}i();c();a();i();c();a();i();c();a();var Ut=class extends H{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}},Ze=class extends H{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}},so=class extends H{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${ct(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}};i();c();a();i();c();a();i();c();a();var Lt=class extends H{constructor({blockHash:t,blockNumber:r}){let o="Block";t&&(o=`Block at hash "${t}"`),r&&(o=`Block at number "${r}"`),super(`${o} could not be found.`,{name:"BlockNotFoundError"})}};i();c();a();i();c();a();var vn={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function dt(e,t){let r={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?D(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?D(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?vn[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(r.authorizationList=wf(e.authorizationList)),r.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof r.v=="bigint"){if(r.v===0n||r.v===27n)return 0;if(r.v===1n||r.v===28n)return 1;if(r.v>=35n)return r.v%2n===0n?1:0}})(),r.type==="legacy"&&(delete r.accessList,delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.yParity),r.type==="eip2930"&&(delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas),r.type==="eip1559"&&delete r.maxFeePerBlobGas,r}var bf=ir("transaction",dt);function wf(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function dr(e,t){let r=(e.transactions??[]).map(o=>typeof o=="string"?o:dt(o));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:r,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}var vf=ir("block",dr);async function ae(e,{blockHash:t,blockNumber:r,blockTag:o=e.experimental_blockTag??"latest",includeTransactions:n}={}){let s=n??!1,u=r!==void 0?A(r):void 0,m=null;if(t?m=await e.request({method:"eth_getBlockByHash",params:[t,s]},{dedupe:!0}):m=await e.request({method:"eth_getBlockByNumber",params:[u||o,s]},{dedupe:!!u}),!m)throw new Lt({blockHash:t,blockNumber:r});return(e.chain?.formatters?.block?.format||dr)(m,"getBlock")}i();c();a();async function lr(e){let t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function lc(e,t){return Ei(e,t)}async function Ei(e,t){let{block:r,chain:o=e.chain,request:n}=t||{};try{let s=o?.fees?.maxPriorityFeePerGas??o?.fees?.defaultPriorityFee;if(typeof s=="function"){let m=r||await S(e,ae,"getBlock")({}),f=await s({block:m,client:e,request:n});if(f===null)throw new Error;return f}if(typeof s<"u")return s;let u=await e.request({method:"eth_maxPriorityFeePerGas"});return q(u)}catch{let[s,u]=await Promise.all([r?Promise.resolve(r):S(e,ae,"getBlock")({}),S(e,lr,"getGasPrice")({})]);if(typeof s.baseFeePerGas!="bigint")throw new Ze;let m=u-s.baseFeePerGas;return m<0n?0n:m}}async function hc(e,t){return En(e,t)}async function En(e,t){let{block:r,chain:o=e.chain,request:n,type:s="eip1559"}=t||{},u=await(async()=>typeof o?.fees?.baseFeeMultiplier=="function"?o.fees.baseFeeMultiplier({block:r,client:e,request:n}):o?.fees?.baseFeeMultiplier??1.2)();if(u<1)throw new Ut;let f=10**(u.toString().split(".")[1]?.length??0),p=g=>g*BigInt(Math.ceil(u*f))/BigInt(f),d=r||await S(e,ae,"getBlock")({});if(typeof o?.fees?.estimateFeesPerGas=="function"){let g=await o.fees.estimateFeesPerGas({block:r,client:e,multiply:p,request:n,type:s});if(g!==null)return g}if(s==="eip1559"){if(typeof d.baseFeePerGas!="bigint")throw new Ze;let g=typeof n?.maxPriorityFeePerGas=="bigint"?n.maxPriorityFeePerGas:await Ei(e,{block:d,chain:o,request:n}),b=p(d.baseFeePerGas);return{maxFeePerGas:n?.maxFeePerGas??b+g,maxPriorityFeePerGas:g}}return{gasPrice:n?.gasPrice??p(await S(e,lr,"getGasPrice")({}))}}i();c();a();async function lt(e,{address:t,blockTag:r="latest",blockNumber:o}){let n=await e.request({method:"eth_getTransactionCount",params:[t,typeof o=="bigint"?A(o):r]},{dedupe:!!o});return D(n)}i();c();a();function qt(e){let{kzg:t}=e,r=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),o=typeof e.blobs[0]=="string"?e.blobs.map(s=>K(s)):e.blobs,n=[];for(let s of o)n.push(Uint8Array.from(t.blobToKzgCommitment(s)));return r==="bytes"?n:n.map(s=>O(s))}i();c();a();function $t(e){let{kzg:t}=e,r=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),o=typeof e.blobs[0]=="string"?e.blobs.map(u=>K(u)):e.blobs,n=typeof e.commitments[0]=="string"?e.commitments.map(u=>K(u)):e.commitments,s=[];for(let u=0;u<o.length;u++){let m=o[u],f=n[u];s.push(Uint8Array.from(t.computeBlobKzgProof(m,f)))}return r==="bytes"?s:s.map(u=>O(u))}i();c();a();i();c();a();i();c();a();function Pi(e,t){let r=t||"hex",o=dn(U(e,{strict:!1})?ne(e):e);return r==="bytes"?o:X(o)}function io(e){let{commitment:t,version:r=1}=e,o=e.to??(typeof t=="string"?"hex":"bytes"),n=Pi(t,"bytes");return n.set([r],0),o==="bytes"?n:O(n)}function ao(e){let{commitments:t,version:r}=e,o=e.to??(typeof t[0]=="string"?"hex":"bytes"),n=[];for(let s of t)n.push(io({commitment:s,to:o,version:r}));return n}i();c();a();i();c();a();i();c();a();var Pn=class extends H{constructor({maxSize:t,size:r}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${r} bytes`],name:"BlobSizeTooLargeError"})}},hr=class extends H{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}},Tn=class extends H{constructor({hash:t,size:r}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${r}`],name:"InvalidVersionedHashSizeError"})}},An=class extends H{constructor({hash:t,version:r}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${1}`,`Received: ${r}`],name:"InvalidVersionedHashVersionError"})}};function Ti(e){let t=e.to??(typeof e.data=="string"?"hex":"bytes"),r=typeof e.data=="string"?K(e.data):e.data,o=de(r);if(!o)throw new hr;if(o>761855)throw new Pn({maxSize:761855,size:o});let n=[],s=!0,u=0;for(;s;){let m=Ke(new Uint8Array(131072)),f=0;for(;f<4096;){let p=r.slice(u,u+31);if(m.pushByte(0),m.pushBytes(p),p.length<31){m.pushByte(128),s=!1;break}f++,u+=31}n.push(m)}return t==="bytes"?n.map(m=>m.bytes):n.map(m=>O(m.bytes))}function Mt(e){let{data:t,kzg:r,to:o}=e,n=e.blobs??Ti({data:t,to:o}),s=e.commitments??qt({blobs:n,kzg:r,to:o}),u=e.proofs??$t({blobs:n,commitments:s,kzg:r,to:o}),m=[];for(let f=0;f<n.length;f++)m.push({blob:n[f],commitment:s[f],proof:u[f]});return m}i();c();a();function co(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new ni({transaction:e})}i();c();a();i();c();a();function ht(e,{docsPath:t,...r}){let o=(()=>{let n=sr(e,r);return n instanceof Nt?e:n})();return new ai(o,{docsPath:t,...r})}i();c();a();async function he(e){let t=await e.request({method:"eth_chainId"},{dedupe:!0});return D(t)}async function yr(e,t){let{account:r=e.account,accessList:o,authorizationList:n,chain:s=e.chain,blobVersionedHashes:u,blobs:m,data:f,gas:p,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:g,maxPriorityFeePerGas:b,nonce:w,nonceManager:v,to:E,type:P,value:T,...B}=t,I=await(async()=>{if(!r||!v||typeof w<"u")return w;let N=G(r),z=s?s.id:await S(e,he,"getChainId")({});return await v.consume({address:N.address,chainId:z,client:e})})();me(t);let C=s?.formatters?.transactionRequest?.format,R=(C||ue)({...Se(B,{format:C}),account:r?G(r):void 0,accessList:o,authorizationList:n,blobs:m,blobVersionedHashes:u,data:f,gas:p,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:g,maxPriorityFeePerGas:b,nonce:I,to:E,type:P,value:T},"fillTransaction");try{let N=await e.request({method:"eth_fillTransaction",params:[R]}),F=(s?.formatters?.transaction?.format||dt)(N.tx);delete F.blockHash,delete F.blockNumber,delete F.r,delete F.s,delete F.transactionIndex,delete F.v,delete F.yParity,F.data=F.input,F.gas&&(F.gas=t.gas??F.gas),F.gasPrice&&(F.gasPrice=t.gasPrice??F.gasPrice),F.maxFeePerBlobGas&&(F.maxFeePerBlobGas=t.maxFeePerBlobGas??F.maxFeePerBlobGas),F.maxFeePerGas&&(F.maxFeePerGas=t.maxFeePerGas??F.maxFeePerGas),F.maxPriorityFeePerGas&&(F.maxPriorityFeePerGas=t.maxPriorityFeePerGas??F.maxPriorityFeePerGas),F.nonce&&(F.nonce=t.nonce??F.nonce);let L=await(async()=>{if(typeof s?.fees?.baseFeeMultiplier=="function"){let Be=await S(e,ae,"getBlock")({});return s.fees.baseFeeMultiplier({block:Be,client:e,request:t})}return s?.fees?.baseFeeMultiplier??1.2})();if(L<1)throw new Ut;let Z=10**(L.toString().split(".")[1]?.length??0),re=Be=>Be*BigInt(Math.ceil(L*Z))/BigInt(Z);return F.maxFeePerGas&&!t.maxFeePerGas&&(F.maxFeePerGas=re(F.maxFeePerGas)),F.gasPrice&&!t.gasPrice&&(F.gasPrice=re(F.gasPrice)),{raw:N.raw,transaction:{from:R.from,...F}}}catch(N){throw ht(N,{...t,chain:e.chain})}}var uo=["blobVersionedHashes","chainId","fees","gas","nonce","type"],yc=new Map,Ai=new $e(128);async function De(e,t){let r=t;r.account??=e.account,r.parameters??=uo;let{account:o,chain:n=e.chain,nonceManager:s,parameters:u}=r,m=(()=>{if(typeof n?.prepareTransactionRequest=="function")return{fn:n.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(n?.prepareTransactionRequest))return{fn:n.prepareTransactionRequest[0],runAt:n.prepareTransactionRequest[1].runAt}})(),f;async function p(){return f||(typeof r.chainId<"u"?r.chainId:n?n.id:(f=await S(e,he,"getChainId")({}),f))}let d=o&&G(o),l=r.nonce;if(u.includes("nonce")&&typeof l>"u"&&d&&s){let I=await p();l=await s.consume({address:d.address,chainId:I,client:e})}m?.fn&&m.runAt?.includes("beforeFillTransaction")&&(r=await m.fn({...r,chain:n},{phase:"beforeFillTransaction"}),l??=r.nonce);let b=((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r.kzg&&r.blobs||Ai.get(e.uid)===!1||!["fees","gas"].some(C=>u.includes(C))?!1:!!(u.includes("chainId")&&typeof r.chainId!="number"||u.includes("nonce")&&typeof l!="number"||u.includes("fees")&&typeof r.gasPrice!="bigint"&&(typeof r.maxFeePerGas!="bigint"||typeof r.maxPriorityFeePerGas!="bigint")||u.includes("gas")&&typeof r.gas!="bigint"))?await S(e,yr,"fillTransaction")({...r,nonce:l}).then(I=>{let{chainId:C,from:k,gas:R,gasPrice:N,nonce:z,maxFeePerBlobGas:F,maxFeePerGas:L,maxPriorityFeePerGas:_,type:Z,...re}=I.transaction;return Ai.set(e.uid,!0),{...r,...k?{from:k}:{},...Z?{type:Z}:{},...typeof C<"u"?{chainId:C}:{},...typeof R<"u"?{gas:R}:{},...typeof N<"u"?{gasPrice:N}:{},...typeof z<"u"?{nonce:z}:{},...typeof F<"u"?{maxFeePerBlobGas:F}:{},...typeof L<"u"?{maxFeePerGas:L}:{},...typeof _<"u"?{maxPriorityFeePerGas:_}:{},..."nonceKey"in re&&typeof re.nonceKey<"u"?{nonceKey:re.nonceKey}:{}}}).catch(I=>{let C=I;return C.name!=="TransactionExecutionError"||C.walk?.(R=>{let N=R;return N.name==="MethodNotFoundRpcError"||N.name==="MethodNotSupportedRpcError"})&&Ai.set(e.uid,!1),r}):r;l??=b.nonce,r={...b,...d?{from:d?.address}:{},...l?{nonce:l}:{}};let{blobs:w,gas:v,kzg:E,type:P}=r;m?.fn&&m.runAt?.includes("beforeFillParameters")&&(r=await m.fn({...r,chain:n},{phase:"beforeFillParameters"}));let T;async function B(){return T||(T=await S(e,ae,"getBlock")({blockTag:"latest"}),T)}if(u.includes("nonce")&&typeof l>"u"&&d&&!s&&(r.nonce=await S(e,lt,"getTransactionCount")({address:d.address,blockTag:"pending"})),(u.includes("blobVersionedHashes")||u.includes("sidecars"))&&w&&E){let I=qt({blobs:w,kzg:E});if(u.includes("blobVersionedHashes")){let C=ao({commitments:I,to:"hex"});r.blobVersionedHashes=C}if(u.includes("sidecars")){let C=$t({blobs:w,commitments:I,kzg:E}),k=Mt({blobs:w,commitments:I,proofs:C,to:"hex"});r.sidecars=k}}if(u.includes("chainId")&&(r.chainId=await p()),(u.includes("fees")||u.includes("type"))&&typeof P>"u")try{r.type=co(r)}catch{let I=yc.get(e.uid);typeof I>"u"&&(I=typeof(await B())?.baseFeePerGas=="bigint",yc.set(e.uid,I)),r.type=I?"eip1559":"legacy"}if(u.includes("fees"))if(r.type!=="legacy"&&r.type!=="eip2930"){if(typeof r.maxFeePerGas>"u"||typeof r.maxPriorityFeePerGas>"u"){let I=await B(),{maxFeePerGas:C,maxPriorityFeePerGas:k}=await En(e,{block:I,chain:n,request:r});if(typeof r.maxPriorityFeePerGas>"u"&&r.maxFeePerGas&&r.maxFeePerGas<k)throw new so({maxPriorityFeePerGas:k});r.maxPriorityFeePerGas=k,r.maxFeePerGas=C}}else{if(typeof r.maxFeePerGas<"u"||typeof r.maxPriorityFeePerGas<"u")throw new Ze;if(typeof r.gasPrice>"u"){let I=await B(),{gasPrice:C}=await En(e,{block:I,chain:n,request:r,type:"legacy"});r.gasPrice=C}}return u.includes("gas")&&typeof v>"u"&&(r.gas=await S(e,xr,"estimateGas")({...r,account:d,prepare:d?.type==="local"?[]:["blobVersionedHashes"]})),m?.fn&&m.runAt?.includes("afterFillParameters")&&(r=await m.fn({...r,chain:n},{phase:"afterFillParameters"})),me(r),delete r.parameters,r}async function xr(e,t){let{account:r=e.account,prepare:o=!0}=t,n=r?G(r):void 0,s=(()=>{if(Array.isArray(o))return o;if(n?.type!=="local")return["blobVersionedHashes"]})();try{let u=await(async()=>{if(t.to)return t.to;if(t.authorizationList&&t.authorizationList.length>0)return await pt({authorization:t.authorizationList[0]}).catch(()=>{throw new H("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:m,authorizationList:f,blobs:p,blobVersionedHashes:d,blockNumber:l,blockTag:g,data:b,gas:w,gasPrice:v,maxFeePerBlobGas:E,maxFeePerGas:P,maxPriorityFeePerGas:T,nonce:B,value:I,stateOverride:C,...k}=o?await De(e,{...t,parameters:s,to:u}):t;if(w&&t.gas!==w)return w;let N=(typeof l=="bigint"?A(l):void 0)||g,z=pn(C);me(t);let F=e.chain?.formatters?.transactionRequest?.format,_=(F||ue)({...Se(k,{format:F}),account:n,accessList:m,authorizationList:f,blobs:p,blobVersionedHashes:d,data:b,gasPrice:v,maxFeePerBlobGas:E,maxFeePerGas:P,maxPriorityFeePerGas:T,nonce:B,to:u,value:I},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:z?[_,N??e.experimental_blockTag??"latest",z]:N?[_,N]:[_]}))}catch(u){throw dc(u,{...t,account:n,chain:e.chain})}}async function In(e,t){let{abi:r,address:o,args:n,functionName:s,dataSuffix:u,...m}=t,f=J({abi:r,args:n,functionName:s});try{return await S(e,xr,"estimateGas")({data:`${f}${u?u.replace("0x",""):""}`,to:o,...m})}catch(p){let d=m.account?G(m.account):void 0;throw ve(p,{abi:r,address:o,args:n,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:d?.address})}}i();c();a();i();c();a();i();c();a();i();c();a();var xc="/docs/contract/decodeEventLog";function yt(e){let{abi:t,data:r,strict:o,topics:n}=e,s=o??!0,[u,...m]=n;if(!u)throw new Ys({docsPath:xc});let f=t.find(v=>v.type==="event"&&u===nt(qo(v)));if(!(f&&"name"in f)||f.type!=="event")throw new Qs(u,{docsPath:xc});let{name:p,inputs:d}=f,l=d?.some(v=>!("name"in v&&v.name)),g=l?[]:{},b=d.map((v,E)=>[v,E]).filter(([v])=>"indexed"in v&&v.indexed);for(let v=0;v<b.length;v++){let[E,P]=b[v],T=m[v];if(!T)throw new It({abiItem:f,param:E});g[l?P:E.name||P]=Tf({param:E,value:T})}let w=d.filter(v=>!("indexed"in v&&v.indexed));if(w.length>0){if(r&&r!=="0x")try{let v=at(w,r);if(v)if(l)for(let E=0;E<d.length;E++)g[E]=g[E]??v.shift();else for(let E=0;E<w.length;E++)g[w[E].name]=v[E]}catch(v){if(s)throw v instanceof Zs||v instanceof Oa?new rt({abiItem:f,data:r,params:w,size:de(r)}):v}else if(s)throw new rt({abiItem:f,data:"0x",params:w,size:0})}return{eventName:p,args:Object.values(g).length>0?g:void 0}}function Tf({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(at([e],t)||[])[0]}function Gt(e){let{abi:t,args:r,logs:o,strict:n=!0}=e,s=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return o.map(u=>{let m=t.filter(d=>d.type==="event"&&u.topics[0]===nt(d));if(m.length===0)return null;let f,p;for(let d of m)try{f=yt({...u,abi:[d],strict:!0}),p=d;break}catch{}if(!f&&!n){p=m[0];try{f=yt({...u,abi:[p],strict:!1})}catch{let d=p.inputs?.some(l=>!("name"in l&&l.name));return{...u,args:d?[]:{},eventName:p.name}}}return!f||!p||s&&!s.includes(f.eventName)||!Af({args:f.args,inputs:p.inputs,matchArgs:r})?null:{...f,...u}}).filter(Boolean)}function Af(e){let{args:t,inputs:r,matchArgs:o}=e;if(!o)return!0;if(!t)return!1;function n(s,u,m){try{return s.type==="address"?fe(u,m):s.type==="string"||s.type==="bytes"?j(ne(u))===m:u===m}catch{return!1}}return Array.isArray(t)&&Array.isArray(o)?o.every((s,u)=>{if(s==null)return!0;let m=r[u];return m?(Array.isArray(s)?s:[s]).some(p=>n(m,p,t[u])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof o=="object"&&!Array.isArray(o)?Object.entries(o).every(([s,u])=>{if(u==null)return!0;let m=r.find(p=>p.name===s);return m?(Array.isArray(u)?u:[u]).some(p=>n(m,p,t[s])):!1}):!1}i();c();a();function pe(e,{args:t,eventName:r}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,blockTimestamp:e.blockTimestamp?BigInt(e.blockTimestamp):e.blockTimestamp===null?null:void 0,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...r?{args:t,eventName:r}:{}}}async function gr(e,{address:t,blockHash:r,fromBlock:o,toBlock:n,event:s,events:u,args:m,strict:f}={}){let p=f??!1,d=u??(s?[s]:void 0),l=[];d&&(l=[d.flatMap(v=>Ue({abi:[v],eventName:v.name,args:u?void 0:m}))],s&&(l=l[0]));let g;r?g=await e.request({method:"eth_getLogs",params:[{address:t,topics:l,blockHash:r}]}):g=await e.request({method:"eth_getLogs",params:[{address:t,topics:l,fromBlock:typeof o=="bigint"?A(o):o,toBlock:typeof n=="bigint"?A(n):n}]});let b=g.map(w=>pe(w));return d?Gt({abi:d,args:m,logs:b,strict:p}):b}async function br(e,t){let{abi:r,address:o,args:n,blockHash:s,eventName:u,fromBlock:m,toBlock:f,strict:p}=t,d=u?Or({abi:r,name:u}):void 0,l=d?void 0:r.filter(g=>g.type==="event");return S(e,gr,"getLogs")({address:o,args:n,blockHash:s,event:d,events:l,fromBlock:m,toBlock:f,strict:p})}i();c();a();async function ee(e,t){let{abi:r,address:o,args:n,functionName:s,...u}=t,m=J({abi:r,args:n,functionName:s});try{let{data:f}=await S(e,mt,"call")({...u,data:m,to:o});return Te({abi:r,args:n,functionName:s,data:f||"0x"})}catch(f){throw ve(f,{abi:r,address:o,args:n,docsPath:"/docs/contract/readContract",functionName:s})}}i();c();a();async function Bn(e,t){let{abi:r,address:o,args:n,dataSuffix:s,functionName:u,...m}=t,f=m.account?G(m.account):e.account,p=J({abi:r,args:n,functionName:u});try{let{data:d}=await S(e,mt,"call")({batch:!1,data:`${p}${s?s.replace("0x",""):""}`,to:o,...m,account:f}),l=Te({abi:r,args:n,functionName:u,data:d||"0x"}),g=r.filter(b=>"name"in b&&b.name===t.functionName);return{result:l,request:{abi:g,address:o,args:n,dataSuffix:s,functionName:u,...m,account:f}}}catch(d){throw ve(d,{abi:r,address:o,args:n,docsPath:"/docs/contract/simulateContract",functionName:u,sender:f?.address})}}i();c();a();i();c();a();var Ii=new Map,gc=new Map,If=0;function ye(e,t,r){let o=++If,n=()=>Ii.get(e)||[],s=()=>{let d=n();Ii.set(e,d.filter(l=>l.id!==o))},u=()=>{let d=n();if(!d.some(g=>g.id===o))return;let l=gc.get(e);if(d.length===1&&l){let g=l();g instanceof Promise&&g.catch(()=>{})}s()},m=n();if(Ii.set(e,[...m,{id:o,fns:t}]),m&&m.length>0)return u;let f={};for(let d in t)f[d]=(...l)=>{let g=n();if(g.length!==0)for(let b of g)b.fns[d]?.(...l)};let p=r(f);return typeof p=="function"&&gc.set(e,p),u}i();c();a();i();c();a();async function Dt(e){return new Promise(t=>setTimeout(t,e))}function ke(e,{emitOnBegin:t,initialWaitTime:r,interval:o}){let n=!0,s=()=>n=!1;return(async()=>{let m;t&&(m=await e({unpoll:s}));let f=await r?.(m)??o;await Dt(f);let p=async()=>{n&&(await e({unpoll:s}),await Dt(o),p())};p()})(),s}i();c();a();i();c();a();var Bf=new Map,Cf=new Map;function bc(e){let t=(n,s)=>({clear:()=>s.delete(n),get:()=>s.get(n),set:u=>s.set(n,u)}),r=t(e,Bf),o=t(e,Cf);return{clear:()=>{r.clear(),o.clear()},promise:r,response:o}}async function Bi(e,{cacheKey:t,cacheTime:r=Number.POSITIVE_INFINITY}){let o=bc(t),n=o.response.get();if(n&&r>0&&Date.now()-n.created.getTime()<r)return n.data;let s=o.promise.get();s||(s=e(),o.promise.set(s));try{let u=await s;return o.response.set({created:new Date,data:u}),u}finally{o.promise.clear()}}var Sf=e=>`blockNumber.${e}`;async function Oe(e,{cacheTime:t=e.cacheTime}={}){let r=await Bi(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Sf(e.uid),cacheTime:t});return BigInt(r)}i();c();a();async function xt(e,{filter:t}){let r="strict"in t&&t.strict,o=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof o[0]=="string")return o;let n=o.map(s=>pe(s));return!("abi"in t)||!t.abi?n:Gt({abi:t.abi,logs:n,strict:r})}i();c();a();async function gt(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function Cn(e,t){let{abi:r,address:o,args:n,batch:s=!0,eventName:u,fromBlock:m,onError:f,onLogs:p,poll:d,pollingInterval:l=e.pollingInterval,strict:g}=t;return(typeof d<"u"?d:typeof m=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{let E=g??!1,P=V(["watchContractEvent",o,n,s,e.uid,u,l,E,m]);return ye(P,{onLogs:p,onError:f},T=>{let B;m!==void 0&&(B=m-1n);let I,C=!1,k=ke(async()=>{if(!C){try{I=await S(e,pr,"createContractEventFilter")({abi:r,address:o,args:n,eventName:u,strict:E,fromBlock:m})}catch{}C=!0;return}try{let R;if(I)R=await S(e,xt,"getFilterChanges")({filter:I});else{let N=await S(e,Oe,"getBlockNumber")({});B&&B<N?R=await S(e,br,"getContractEvents")({abi:r,address:o,args:n,eventName:u,fromBlock:B+1n,toBlock:N,strict:E}):R=[],B=N}if(R.length===0)return;if(s)T.onLogs(R);else for(let N of R)T.onLogs([N])}catch(R){I&&R instanceof Me&&(C=!1),T.onError?.(R)}},{emitOnBegin:!0,interval:l});return async()=>{I&&await S(e,gt,"uninstallFilter")({filter:I}),k()}})})():(()=>{let E=g??!1,P=V(["watchContractEvent",o,n,s,e.uid,u,l,E]),T=!0,B=()=>T=!1;return ye(P,{onLogs:p,onError:f},I=>((async()=>{try{let C=(()=>{if(e.transport.type==="fallback"){let N=e.transport.transports.find(z=>z.config.type==="webSocket"||z.config.type==="ipc");return N?N.value:e.transport}return e.transport})(),k=u?Ue({abi:r,eventName:u,args:n}):[],{unsubscribe:R}=await C.subscribe({params:["logs",{address:o,topics:k}],onData(N){if(!T)return;let z=N.result;try{let{eventName:F,args:L}=yt({abi:r,data:z.data,topics:z.topics,strict:g}),_=pe(z,{args:L,eventName:F});I.onLogs([_])}catch(F){let L,_;if(F instanceof rt||F instanceof It){if(g)return;L=F.abiItem.name,_=F.abiItem.inputs?.some(re=>!("name"in re&&re.name))}let Z=pe(z,{args:_?[]:{},eventName:L});I.onLogs([Z])}},onError(N){I.onError?.(N)}});B=R,T||B()}catch(C){f?.(C)}})(),()=>B()))})()}i();c();a();i();c();a();var ce=class extends H{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}},Re=class extends H{constructor({docsPath:t,metaMessages:r,type:o}){super(`Account type "${o}" is not supported.`,{docsPath:t,metaMessages:r,name:"AccountTypeNotSupportedError"})}};i();c();a();i();c();a();function Ot({chain:e,currentChainId:t}){if(!e)throw new wi;if(t!==e.id)throw new bi({chain:e,currentChainId:t})}i();c();a();async function wr(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}var Ci=new $e(128);async function bt(e,t){let{account:r=e.account,chain:o=e.chain,accessList:n,authorizationList:s,blobs:u,data:m,gas:f,gasPrice:p,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:g,nonce:b,type:w,value:v,...E}=t;if(typeof r>"u")throw new ce({docsPath:"/docs/actions/wallet/sendTransaction"});let P=r?G(r):null;try{me(t);let T=await(async()=>{if(t.to)return t.to;if(t.to!==null&&s&&s.length>0)return await pt({authorization:s[0]}).catch(()=>{throw new H("`to` is required. Could not infer from `authorizationList`.")})})();if(P?.type==="json-rpc"||P===null){let B;o!==null&&(B=await S(e,he,"getChainId")({}),Ot({currentChainId:B,chain:o}));let I=e.chain?.formatters?.transactionRequest?.format,k=(I||ue)({...Se(E,{format:I}),accessList:n,account:P,authorizationList:s,blobs:u,chainId:B,data:m,gas:f,gasPrice:p,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:g,nonce:b,to:T,type:w,value:v},"sendTransaction"),R=Ci.get(e.uid),N=R?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:N,params:[k]},{retryCount:0})}catch(z){if(R===!1)throw z;let F=z;if(F.name==="InvalidInputRpcError"||F.name==="InvalidParamsRpcError"||F.name==="MethodNotFoundRpcError"||F.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[k]},{retryCount:0}).then(L=>(Ci.set(e.uid,!0),L)).catch(L=>{let _=L;throw _.name==="MethodNotFoundRpcError"||_.name==="MethodNotSupportedRpcError"?(Ci.set(e.uid,!1),F):_});throw F}}if(P?.type==="local"){let B=await S(e,De,"prepareTransactionRequest")({account:P,accessList:n,authorizationList:s,blobs:u,chain:o,data:m,gas:f,gasPrice:p,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:g,nonce:b,nonceManager:P.nonceManager,parameters:[...uo,"sidecars"],type:w,value:v,...E,to:T}),I=o?.serializers?.transaction,C=await P.signTransaction(B,{serializer:I});return await S(e,wr,"sendRawTransaction")({serializedTransaction:C})}throw P?.type==="smart"?new Re({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Re({docsPath:"/docs/actions/wallet/sendTransaction",type:P?.type})}catch(T){throw T instanceof Re?T:ht(T,{...t,account:P,chain:t.chain||void 0})}}async function Je(e,t){return Je.internal(e,bt,"sendTransaction",t)}(function(e){async function t(r,o,n,s){let{abi:u,account:m=r.account,address:f,args:p,dataSuffix:d,functionName:l,...g}=s;if(typeof m>"u")throw new ce({docsPath:"/docs/contract/writeContract"});let b=m?G(m):null,w=J({abi:u,args:p,functionName:l});try{return await S(r,o,n)({data:`${w}${d?d.replace("0x",""):""}`,to:f,account:b,...g})}catch(v){throw ve(v,{abi:u,address:f,args:p,docsPath:"/docs/contract/writeContract",functionName:l,sender:b?.address})}}e.internal=t})(Je||(Je={}));function kf({abi:e,address:t,client:r}){let o=r,[n,s]=o?"public"in o&&"wallet"in o?[o.public,o.wallet]:"public"in o?[o.public,void 0]:"wallet"in o?[void 0,o.wallet]:[o,o]:[void 0,void 0],u=n!=null,m=s!=null,f={},p=!1,d=!1,l=!1;for(let g of e)if(g.type==="function"?g.stateMutability==="view"||g.stateMutability==="pure"?p=!0:d=!0:g.type==="event"&&(l=!0),p&&d&&l)break;return u&&(p&&(f.read=new Proxy({},{get(g,b){return(...w)=>{let{args:v,options:E}=Sn(w);return S(n,ee,"readContract")({abi:e,address:t,functionName:b,args:v,...E})}}})),d&&(f.simulate=new Proxy({},{get(g,b){return(...w)=>{let{args:v,options:E}=Sn(w);return S(n,Bn,"simulateContract")({abi:e,address:t,functionName:b,args:v,...E})}}})),l&&(f.createEventFilter=new Proxy({},{get(g,b){return(...w)=>{let v=e.find(T=>T.type==="event"&&T.name===b),{args:E,options:P}=Si(w,v);return S(n,pr,"createContractEventFilter")({abi:e,address:t,eventName:b,args:E,...P})}}}),f.getEvents=new Proxy({},{get(g,b){return(...w)=>{let v=e.find(T=>T.type==="event"&&T.name===b),{args:E,options:P}=Si(w,v);return S(n,br,"getContractEvents")({abi:e,address:t,eventName:b,args:E,...P})}}}),f.watchEvent=new Proxy({},{get(g,b){return(...w)=>{let v=e.find(T=>T.type==="event"&&T.name===b),{args:E,options:P}=Si(w,v);return S(n,Cn,"watchContractEvent")({abi:e,address:t,eventName:b,args:E,...P})}}}))),m&&d&&(f.write=new Proxy({},{get(g,b){return(...w)=>{let{args:v,options:E}=Sn(w);return S(s,Je,"writeContract")({abi:e,address:t,functionName:b,args:v,...E})}}})),(u||m)&&d&&(f.estimateGas=new Proxy({},{get(g,b){return(...w)=>{let{args:v,options:E}=Sn(w);return S(n??s,In,"estimateContractGas")({abi:e,address:t,functionName:b,args:v,...E,account:E.account??s.account})}}})),f.address=t,f.abi=e,f}function Sn(e){let t=e.length&&Array.isArray(e[0]),r=t?e[0]:[],o=(t?e[1]:e[0])??{};return{args:r,options:o}}function Si(e,t){let r=!1;Array.isArray(e[0])?r=!0:e.length===1?r=t.inputs.some(s=>s.indexed):e.length===2&&(r=!0);let o=r?e[0]:void 0,n=(r?e[1]:e[0])??{};return{args:o,options:n}}i();c();a();i();c();a();var mo=class extends H{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}};i();c();a();function wt(e,{delay:t=100,retryCount:r=2,shouldRetry:o=()=>!0}={}){return new Promise((n,s)=>{let u=async({count:m=0}={})=>{let f=async({error:p})=>{let d=typeof t=="function"?t({count:m,error:p}):t;d&&await Dt(d),u({count:m+1})};try{let p=await e();n(p)}catch(p){if(m<r&&await o({count:m,error:p}))return f({error:p});s(p)}};u()})}i();c();a();i();c();a();var ki={"0x0":"reverted","0x1":"success"};function vr(e,t){let r={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(o=>pe(o)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?D(e.transactionIndex):null,status:e.status?ki[e.status]:null,type:e.type?vn[e.type]||e.type:null};return e.blobGasPrice&&(r.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(r.blobGasUsed=BigInt(e.blobGasUsed)),r}var Rf=ir("transactionReceipt",vr);i();c();a();var Ri="0x5792579257925792579257925792579257925792579257925792579257925792",Fi=A(0,{size:32});async function kn(e,t){let{account:r=e.account,capabilities:o,chain:n=e.chain,experimental_fallback:s,experimental_fallbackDelay:u=32,forceAtomic:m=!1,id:f,version:p="2.0.0"}=t,d=r?G(r):null,l=t.calls.map(g=>{let b=g,w=b.abi?J({abi:b.abi,functionName:b.functionName,args:b.args}):b.data;return{data:b.dataSuffix&&w?we([w,b.dataSuffix]):w,to:b.to,value:b.value?A(b.value):void 0}});try{let g=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:m,calls:l,capabilities:o,chainId:A(n.id),from:d?.address,id:f,version:p}]},{retryCount:0});return typeof g=="string"?{id:g}:g}catch(g){let b=g;if(s&&(b.name==="MethodNotFoundRpcError"||b.name==="MethodNotSupportedRpcError"||b.name==="UnknownRpcError"||b.details.toLowerCase().includes("does not exist / is not available")||b.details.toLowerCase().includes("missing or invalid. request()")||b.details.toLowerCase().includes("did not match any variant of untagged enum")||b.details.toLowerCase().includes("account upgraded to unsupported contract")||b.details.toLowerCase().includes("eip-7702 not supported")||b.details.toLowerCase().includes("unsupported wc_ method")||b.details.toLowerCase().includes("feature toggled misconfigured")||b.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(o&&Object.values(o).some(T=>!T.optional)){let T="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new or(new H(T,{details:T}))}if(m&&l.length>1){let P="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new nr(new H(P,{details:P}))}let w=[];for(let P of l){let T=bt(e,{account:d,chain:n,data:P.data,to:P.to,value:P.value?q(P.value):void 0});w.push(T),u>0&&await new Promise(B=>setTimeout(B,u))}let v=await Promise.allSettled(w);if(v.every(P=>P.status==="rejected"))throw v[0].reason;let E=v.map(P=>P.status==="fulfilled"?P.value:Fi);return{id:we([...E,A(n.id,{size:32}),Ri])}}throw ht(g,{...t,account:d,chain:t.chain})}}async function Rn(e,t){async function r(d){if(d.endsWith(Ri.slice(2))){let g=Ce(st(d,-64,-32)),b=st(d,0,-64).slice(2).match(/.{1,64}/g),w=await Promise.all(b.map(E=>Fi.slice(2)!==E?e.request({method:"eth_getTransactionReceipt",params:[`0x${E}`]},{dedupe:!0}):void 0)),v=w.some(E=>E===null)?100:w.every(E=>E?.status==="0x1")?200:w.every(E=>E?.status==="0x0")?500:600;return{atomic:!1,chainId:D(g),receipts:w.filter(Boolean),status:v,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[d]})}let{atomic:o=!1,chainId:n,receipts:s,version:u="2.0.0",...m}=await r(t.id),[f,p]=(()=>{let d=m.status;return d>=100&&d<200?["pending",d]:d>=200&&d<300?["success",d]:d>=300&&d<700?["failure",d]:d==="CONFIRMED"?["success",200]:d==="PENDING"?["pending",100]:[void 0,d]})();return{...m,atomic:o,chainId:n?D(n):void 0,receipts:s?.map(d=>({...d,blockNumber:q(d.blockNumber),gasUsed:q(d.gasUsed),status:ki[d.status]}))??[],statusCode:p,status:f,version:u}}async function Nn(e,t){let{id:r,pollingInterval:o=e.pollingInterval,status:n=({statusCode:v})=>v===200||v>=300,retryCount:s=4,retryDelay:u=({count:v})=>~~(1<<v)*200,timeout:m=6e4,throwOnFailure:f=!1}=t,p=V(["waitForCallsStatus",e.uid,r]),{promise:d,resolve:l,reject:g}=bn(),b,w=ye(p,{resolve:l,reject:g},v=>{let E=ke(async()=>{let P=T=>{clearTimeout(b),E(),T(),w()};try{let T=await wt(async()=>{let B=await S(e,Rn,"getCallsStatus")({id:r});if(f&&B.status==="failure")throw new mo(B);return B},{retryCount:s,delay:u});if(!n(T))return;P(()=>v.resolve(T))}catch(T){P(()=>v.reject(T))}},{interval:o,emitOnBegin:!0});return E});return b=m?setTimeout(()=>{w(),clearTimeout(b),g(new Fn({id:r}))},m):void 0,await d}var Fn=class extends H{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}};i();c();a();i();c();a();var Hn=256,zn;function _n(e=11){if(!zn||Hn+e>256*2){zn="",Hn=0;for(let t=0;t<256;t++)zn+=(256+Math.random()*256|0).toString(16).substring(1)}return zn.substring(Hn,Hn+++e)}function jt(e){let{batch:t,chain:r,ccipRead:o,key:n="base",name:s="Base Client",type:u="base"}=e,m=e.experimental_blockTag??(typeof r?.experimental_preconfirmationTime=="number"?"pending":void 0),f=r?.blockTime??12e3,p=Math.min(Math.max(Math.floor(f/2),500),4e3),d=e.pollingInterval??p,l=e.cacheTime??d,g=e.account?G(e.account):void 0,{config:b,request:w,value:v}=e.transport({account:g,chain:r,pollingInterval:d}),E={...b,...v},P={account:g,batch:t,cacheTime:l,ccipRead:o,chain:r,key:n,name:s,pollingInterval:d,request:w,transport:E,type:u,uid:_n(),...m?{experimental_blockTag:m}:{}};function T(B){return I=>{let C=I(B);for(let R in P)delete C[R];let k={...B,...C};return Object.assign(k,{extend:T(k)})}}return Object.assign(P,{extend:T(P)})}function Ff(){return null}i();c();a();i();c();a();i();c();a();i();c();a();function Er(e){if(!(e instanceof H))return!1;let t=e.walk(r=>r instanceof Xt);return t instanceof Xt?t.data?.errorName==="HttpError"||t.data?.errorName==="ResolverError"||t.data?.errorName==="ResolverNotContract"||t.data?.errorName==="ResolverNotFound"||t.data?.errorName==="ReverseAddressMismatch"||t.data?.errorName==="UnsupportedResolverProfile":!1}i();c();a();i();c();a();function Un(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;let t=`0x${e.slice(1,65)}`;return U(t)?t:null}function Pr(e){let t=new Uint8Array(32).fill(0);if(!e)return O(t);let r=e.split(".");for(let o=r.length-1;o>=0;o-=1){let n=Un(r[o]),s=n?ne(n):j(We(r[o]),"bytes");t=j(we([t,s]),"bytes")}return O(t)}i();c();a();i();c();a();function wc(e){return`[${e.slice(2)}]`}i();c();a();function Ni(e){let t=new Uint8Array(32).fill(0);return e?Un(e)||j(We(e)):O(t)}function Tr(e){let t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);let r=new Uint8Array(We(t).byteLength+2),o=0,n=t.split(".");for(let s=0;s<n.length;s++){let u=We(n[s]);u.byteLength>255&&(u=We(wc(Ni(n[s])))),r[o]=u.length,r.set(u,o+1),o+=u.length+1}return r.byteLength!==o+1?r.slice(0,o+1):r}async function vc(e,t){let{blockNumber:r,blockTag:o,coinType:n,name:s,gatewayUrls:u,strict:m}=t,{chain:f}=e,p=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!f)throw new Error("client chain not configured. universalResolverAddress is required.");return _e({blockNumber:r,chain:f,contract:"ensUniversalResolver"})})(),d=f?.ensTlds;if(d&&!d.some(g=>s.endsWith(g)))return null;let l=n!=null?[Pr(s),BigInt(n)]:[Pr(s)];try{let g=J({abi:yi,functionName:"addr",args:l}),b={address:p,abi:yn,functionName:"resolveWithGateways",args:[X(Tr(s)),g,u??[fr]],blockNumber:r,blockTag:o},v=await S(e,ee,"readContract")(b);if(v[0]==="0x")return null;let E=Te({abi:yi,args:l,functionName:"addr",data:v[0]});return E==="0x"||Ce(E)==="0x00"?null:E}catch(g){if(m)throw g;if(Er(g))return null;throw g}}i();c();a();i();c();a();i();c();a();i();c();a();var Ln=class extends H{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}},Ye=class extends H{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}},Vt=class extends H{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}},fo=class extends H{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}},po=class extends H{constructor({chainId:t}){super(`Invalid ENSIP-11 chainId: ${t}. Must be between 0 and 0x7fffffff, or 1.`,{name:"EnsInvalidChainIdError"})}};var Nf=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Hf=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,zf=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,_f=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Uf(e){try{let t=await fetch(e,{method:"HEAD"});return t.status===200?t.headers.get("content-type")?.startsWith("image/"):!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(r=>{let o=new Image;o.onload=()=>{r(!0)},o.onerror=()=>{r(!1)},o.src=e})}}function Ec(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Hi({uri:e,gatewayUrls:t}){let r=zf.test(e);if(r)return{uri:e,isOnChain:!0,isEncoded:r};let o=Ec(t?.ipfs,"https://ipfs.io"),n=Ec(t?.arweave,"https://arweave.net"),s=e.match(Nf),{protocol:u,subpath:m,target:f,subtarget:p=""}=s?.groups||{},d=u==="ipns:/"||m==="ipns/",l=u==="ipfs:/"||m==="ipfs/"||Hf.test(e);if(e.startsWith("http")&&!d&&!l){let b=e;return t?.arweave&&(b=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:b,isOnChain:!1,isEncoded:!1}}if((d||l)&&f)return{uri:`${o}/${d?"ipns":"ipfs"}/${f}${p}`,isOnChain:!1,isEncoded:!1};if(u==="ar:/"&&f)return{uri:`${n}/${f}${p||""}`,isOnChain:!1,isEncoded:!1};let g=e.replace(_f,"");if(g.startsWith("<svg")&&(g=`data:image/svg+xml;base64,${btoa(g)}`),g.startsWith("data:")||g.startsWith("{"))return{uri:g,isOnChain:!0,isEncoded:!1};throw new Vt({uri:e})}function zi(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Ln({data:e});return e.image||e.image_url||e.image_data}async function Pc({gatewayUrls:e,uri:t}){try{let r=await fetch(t).then(n=>n.json());return await qn({gatewayUrls:e,uri:zi(r)})}catch{throw new Vt({uri:t})}}async function qn({gatewayUrls:e,uri:t}){let{uri:r,isOnChain:o}=Hi({uri:t,gatewayUrls:e});if(o||await Uf(r))return r;throw new Vt({uri:t})}function Tc(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));let[r,o,n]=t.split("/"),[s,u]=r.split(":"),[m,f]=o.split(":");if(!s||s.toLowerCase()!=="eip155")throw new Ye({reason:"Only EIP-155 supported"});if(!u)throw new Ye({reason:"Chain ID not found"});if(!f)throw new Ye({reason:"Contract address not found"});if(!n)throw new Ye({reason:"Token ID not found"});if(!m)throw new Ye({reason:"ERC namespace not found"});return{chainID:Number.parseInt(u,10),namespace:m.toLowerCase(),contractAddress:f,tokenID:n}}async function Ac(e,{nft:t}){if(t.namespace==="erc721")return ee(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return ee(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new fo({namespace:t.namespace})}async function Ic(e,{gatewayUrls:t,record:r}){return/eip155:/i.test(r)?Lf(e,{gatewayUrls:t,record:r}):qn({uri:r,gatewayUrls:t})}async function Lf(e,{gatewayUrls:t,record:r}){let o=Tc(r),n=await Ac(e,{nft:o}),{uri:s,isOnChain:u,isEncoded:m}=Hi({uri:n,gatewayUrls:t});if(u&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){let p=m?atob(s.replace("data:application/json;base64,","")):s,d=JSON.parse(p);return qn({uri:zi(d),gatewayUrls:t})}let f=o.tokenID;return o.namespace==="erc1155"&&(f=f.replace("0x","").padStart(64,"0")),Pc({gatewayUrls:t,uri:s.replace(/(?:0x)?{id}/,f)})}i();c();a();async function $n(e,t){let{blockNumber:r,blockTag:o,key:n,name:s,gatewayUrls:u,strict:m}=t,{chain:f}=e,p=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!f)throw new Error("client chain not configured. universalResolverAddress is required.");return _e({blockNumber:r,chain:f,contract:"ensUniversalResolver"})})(),d=f?.ensTlds;if(d&&!d.some(l=>s.endsWith(l)))return null;try{let l={address:p,abi:yn,args:[X(Tr(s)),J({abi:hi,functionName:"text",args:[Pr(s),n]}),u??[fr]],functionName:"resolveWithGateways",blockNumber:r,blockTag:o},b=await S(e,ee,"readContract")(l);if(b[0]==="0x")return null;let w=Te({abi:hi,functionName:"text",data:b[0]});return w===""?null:w}catch(l){if(m)throw l;if(Er(l))return null;throw l}}async function Bc(e,{blockNumber:t,blockTag:r,assetGatewayUrls:o,name:n,gatewayUrls:s,strict:u,universalResolverAddress:m}){let f=await S(e,$n,"getEnsText")({blockNumber:t,blockTag:r,key:"avatar",name:n,universalResolverAddress:m,gatewayUrls:s,strict:u});if(!f)return null;try{return await Ic(e,{record:f,gatewayUrls:o})}catch{return null}}i();c();a();async function Cc(e,t){let{address:r,blockNumber:o,blockTag:n,coinType:s=60n,gatewayUrls:u,strict:m}=t,{chain:f}=e,p=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!f)throw new Error("client chain not configured. universalResolverAddress is required.");return _e({blockNumber:o,chain:f,contract:"ensUniversalResolver"})})();try{let d={address:p,abi:oc,args:[r,s,u??[fr]],functionName:"reverseWithGateways",blockNumber:o,blockTag:n},l=S(e,ee,"readContract"),[g]=await l(d);return g||null}catch(d){if(m)throw d;if(Er(d))return null;throw d}}i();c();a();async function Sc(e,t){let{blockNumber:r,blockTag:o,name:n}=t,{chain:s}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!s)throw new Error("client chain not configured. universalResolverAddress is required.");return _e({blockNumber:r,chain:s,contract:"ensUniversalResolver"})})(),m=s?.ensTlds;if(m&&!m.some(p=>n.endsWith(p)))throw new Error(`${n} is not a valid ENS TLD (${m?.join(", ")}) for chain "${s.name}" (id: ${s.id}).`);let[f]=await S(e,ee,"readContract")({address:u,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[X(Tr(n))],blockNumber:r,blockTag:o});return f}i();c();a();async function Mn(e,t){let{account:r=e.account,blockNumber:o,blockTag:n="latest",blobs:s,data:u,gas:m,gasPrice:f,maxFeePerBlobGas:p,maxFeePerGas:d,maxPriorityFeePerGas:l,to:g,value:b,...w}=t,v=r?G(r):void 0;try{me(t);let P=(typeof o=="bigint"?A(o):void 0)||n,T=e.chain?.formatters?.transactionRequest?.format,I=(T||ue)({...Se(w,{format:T}),account:v,blobs:s,data:u,gas:m,gasPrice:f,maxFeePerBlobGas:p,maxFeePerGas:d,maxPriorityFeePerGas:l,to:g,value:b},"createAccessList"),C=await e.request({method:"eth_createAccessList",params:[I,P]});return{accessList:C.accessList,gasUsed:BigInt(C.gasUsed)}}catch(E){throw nc(E,{...t,account:v,chain:e.chain})}}i();c();a();async function kc(e){let t=ft(e,{method:"eth_newBlockFilter"}),r=await e.request({method:"eth_newBlockFilter"});return{id:r,request:t(r),type:"block"}}i();c();a();async function Gn(e,{address:t,args:r,event:o,events:n,fromBlock:s,strict:u,toBlock:m}={}){let f=n??(o?[o]:void 0),p=ft(e,{method:"eth_newFilter"}),d=[];f&&(d=[f.flatMap(b=>Ue({abi:[b],eventName:b.name,args:r}))],o&&(d=d[0]));let l=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof s=="bigint"?A(s):s,toBlock:typeof m=="bigint"?A(m):m,...d.length?{topics:d}:{}}]});return{abi:f,args:r,eventName:o?o.name:void 0,fromBlock:s,id:l,request:p(l),strict:!!u,toBlock:m,type:"event"}}i();c();a();async function Dn(e){let t=ft(e,{method:"eth_newPendingTransactionFilter"}),r=await e.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:t(r),type:"transaction"}}i();c();a();async function Rc(e,{address:t,blockNumber:r,blockTag:o=e.experimental_blockTag??"latest"}){let n=typeof r=="bigint"?A(r):void 0,s=await e.request({method:"eth_getBalance",params:[t,n||o]});return BigInt(s)}i();c();a();async function Fc(e){let t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}i();c();a();async function Nc(e,{blockHash:t,blockNumber:r,blockTag:o="latest"}={}){let n=r!==void 0?A(r):void 0,s;return t?s=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):s=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[n||o]},{dedupe:!!n}),D(s)}i();c();a();async function lo(e,{address:t,blockNumber:r,blockTag:o="latest"}){let n=r!==void 0?A(r):void 0,s=await e.request({method:"eth_getCode",params:[t,n||o]},{dedupe:!!n});if(s!=="0x")return s}i();c();a();i();c();a();var On=class extends H{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}};async function Hc(e,t){let{address:r,factory:o,factoryData:n}=t;try{let[s,u,m,f,p,d,l]=await S(e,ee,"readContract")({abi:qf,address:r,functionName:"eip712Domain",factory:o,factoryData:n});return{domain:{name:u,version:m,chainId:Number(f),verifyingContract:p,salt:d},extensions:l,fields:s}}catch(s){let u=s;throw u.name==="ContractFunctionExecutionError"&&u.cause.name==="ContractFunctionZeroDataError"?new On({address:r}):u}}var qf=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];i();c();a();i();c();a();function zc(e){return{baseFeePerGas:e.baseFeePerGas.map(t=>BigInt(t)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(t=>t.map(r=>BigInt(r)))}}async function _c(e,{blockCount:t,blockNumber:r,blockTag:o="latest",rewardPercentiles:n}){let s=typeof r=="bigint"?A(r):void 0,u=await e.request({method:"eth_feeHistory",params:[A(t),s||o,n]},{dedupe:!!s});return zc(u)}i();c();a();async function Uc(e,{filter:t}){let r=t.strict??!1,n=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(s=>pe(s));return t.abi?Gt({abi:t.abi,logs:n,strict:r}):n}i();c();a();i();c();a();i();c();a();i();c();a();function $f(e,t){if(e.length!==t.length)throw new Js({expectedLength:e.length,givenLength:t.length});let r=[];for(let o=0;o<e.length;o++){let n=e[o],s=t[o];r.push(Lc(n,s))}return ge(r)}function Lc(e,t,r=!1){if(e==="address"){let u=t;if(!le(u))throw new be({address:u});return ot(u.toLowerCase(),{size:r?32:null})}if(e==="string")return He(t);if(e==="bytes")return t;if(e==="bool")return ot(Do(t),{size:r?32:1});let o=e.match(jo);if(o){let[u,m,f="256"]=o,p=Number.parseInt(f,10)/8;return A(t,{size:r?32:p,signed:m==="int"})}let n=e.match(Oo);if(n){let[u,m]=n;if(Number.parseInt(m,10)!==(t.length-2)/2)throw new $r({expectedSize:Number.parseInt(m,10),givenSize:(t.length-2)/2});return ot(t,{dir:"right",size:r?32:null})}let s=e.match(Da);if(s&&Array.isArray(t)){let[u,m]=s,f=[];for(let p=0;p<t.length;p++)f.push(Lc(m,t[p],!0));return f.length===0?"0x":ge(f)}throw new Xs(e)}i();c();a();i();c();a();function jn(e){return!e||typeof e!="object"||!("BYTES_PER_ELEMENT"in e)?!1:e.BYTES_PER_ELEMENT===1&&e.constructor.name==="Uint8Array"}function Mf(e){return e.opcode==="CREATE2"?$c(e):qc(e)}function qc(e){let t=ne(oe(e.from)),r=ne(e.nonce);return r[0]===0&&(r=new Uint8Array([])),oe(`0x${j(Ee([t,r],"bytes")).slice(26)}`)}function $c(e){let t=ne(oe(e.from)),r=ot(jn(e.salt)?e.salt:ne(e.salt),{size:32}),o="bytecodeHash"in e?jn(e.bytecodeHash)?e.bytecodeHash:ne(e.bytecodeHash):j(e.bytecode,"bytes");return oe(Dr(j(we([ne("0xff"),t,r,o])),12))}i();c();a();i();c();a();i();c();a();function Vn(e){let{authorizationList:t}=e;if(t)for(let r of t){let{chainId:o}=r,n=r.address;if(!le(n))throw new be({address:n});if(o<0)throw new mr({chainId:o})}Wt(e)}function Wn(e){let{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new hr;for(let r of t){let o=de(r),n=D(Dr(r,0,1));if(o!==32)throw new Tn({hash:r,size:o});if(n!==1)throw new An({hash:r,version:n})}}Wt(e)}function Wt(e){let{chainId:t,maxPriorityFeePerGas:r,maxFeePerGas:o,to:n}=e;if(t<=0)throw new mr({chainId:t});if(n&&!le(n))throw new be({address:n});if(o&&o>Yr)throw new Jr({maxFeePerGas:o});if(r&&o&&r>o)throw new di({maxFeePerGas:o,maxPriorityFeePerGas:r})}function ho(e){let{chainId:t,maxPriorityFeePerGas:r,gasPrice:o,maxFeePerGas:n,to:s}=e;if(t<=0)throw new mr({chainId:t});if(s&&!le(s))throw new be({address:s});if(r||n)throw new H("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(o&&o>Yr)throw new Jr({maxFeePerGas:o})}function yo(e){let{chainId:t,maxPriorityFeePerGas:r,gasPrice:o,maxFeePerGas:n,to:s}=e;if(s&&!le(s))throw new be({address:s});if(typeof t<"u"&&t<=0)throw new mr({chainId:t});if(r||n)throw new H("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(o&&o>Yr)throw new Jr({maxFeePerGas:o})}i();c();a();function Ar(e){if(!e||e.length===0)return[];let t=[];for(let r=0;r<e.length;r++){let{address:o,storageKeys:n}=e[r];for(let s=0;s<n.length;s++)if(n[s].length-2!==64)throw new ii({storageKey:n[s]});if(!le(o,{strict:!1}))throw new be({address:o});t.push([o,n])}return t}function _i(e,t){let r=co(e);return r==="eip1559"?Of(e,t):r==="eip2930"?jf(e,t):r==="eip4844"?Df(e,t):r==="eip7702"?Gf(e,t):Vf(e,t)}function Gf(e,t){let{authorizationList:r,chainId:o,gas:n,nonce:s,to:u,value:m,maxFeePerGas:f,maxPriorityFeePerGas:p,accessList:d,data:l}=e;Vn(e);let g=Ar(d),b=Mc(r);return ge(["0x04",Ee([A(o),s?A(s):"0x",p?A(p):"0x",f?A(f):"0x",n?A(n):"0x",u??"0x",m?A(m):"0x",l??"0x",g,b,...Ir(e,t)])])}function Df(e,t){let{chainId:r,gas:o,nonce:n,to:s,value:u,maxFeePerBlobGas:m,maxFeePerGas:f,maxPriorityFeePerGas:p,accessList:d,data:l}=e;Wn(e);let g=e.blobVersionedHashes,b=e.sidecars;if(e.blobs&&(typeof g>"u"||typeof b>"u")){let B=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(k=>O(k)),I=e.kzg,C=qt({blobs:B,kzg:I});if(typeof g>"u"&&(g=ao({commitments:C})),typeof b>"u"){let k=$t({blobs:B,commitments:C,kzg:I});b=Mt({blobs:B,commitments:C,proofs:k})}}let w=Ar(d),v=[A(r),n?A(n):"0x",p?A(p):"0x",f?A(f):"0x",o?A(o):"0x",s??"0x",u?A(u):"0x",l??"0x",w,m?A(m):"0x",g??[],...Ir(e,t)],E=[],P=[],T=[];if(b)for(let B=0;B<b.length;B++){let{blob:I,commitment:C,proof:k}=b[B];E.push(I),P.push(C),T.push(k)}return ge(["0x03",b?Ee([v,E,P,T]):Ee(v)])}function Of(e,t){let{chainId:r,gas:o,nonce:n,to:s,value:u,maxFeePerGas:m,maxPriorityFeePerGas:f,accessList:p,data:d}=e;Wt(e);let l=Ar(p),g=[A(r),n?A(n):"0x",f?A(f):"0x",m?A(m):"0x",o?A(o):"0x",s??"0x",u?A(u):"0x",d??"0x",l,...Ir(e,t)];return ge(["0x02",Ee(g)])}function jf(e,t){let{chainId:r,gas:o,data:n,nonce:s,to:u,value:m,accessList:f,gasPrice:p}=e;ho(e);let d=Ar(f),l=[A(r),s?A(s):"0x",p?A(p):"0x",o?A(o):"0x",u??"0x",m?A(m):"0x",n??"0x",d,...Ir(e,t)];return ge(["0x01",Ee(l)])}function Vf(e,t){let{chainId:r=0,gas:o,data:n,nonce:s,to:u,value:m,gasPrice:f}=e;yo(e);let p=[s?A(s):"0x",f?A(f):"0x",o?A(o):"0x",u??"0x",m?A(m):"0x",n??"0x"];if(t){let d=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(r>0)return BigInt(r*2)+BigInt(35n+t.v-27n);let b=27n+(t.v===27n?0n:1n);if(t.v!==b)throw new jr({v:t.v});return b})(),l=Ce(t.r),g=Ce(t.s);p=[...p,A(d),l==="0x00"?"0x":l,g==="0x00"?"0x":g]}else r>0&&(p=[...p,A(r),"0x","0x"]);return Ee(p)}function Ir(e,t){let r=t??e,{v:o,yParity:n}=r;if(typeof r.r>"u")return[];if(typeof r.s>"u")return[];if(typeof o>"u"&&typeof n>"u")return[];let s=Ce(r.r),u=Ce(r.s);return[typeof n=="number"?n?A(1):"0x":o===0n?"0x":o===1n?A(1):o===27n?"0x":A(1),s==="0x00"?"0x":s,u==="0x00"?"0x":u]}function Mc(e){if(!e||e.length===0)return[];let t=[];for(let r of e){let{chainId:o,nonce:n,...s}=r,u=r.address;t.push([o?X(o):"0x",u,n?X(n):"0x",...Ir({},s)])}return t}i();c();a();async function Gc({address:e,authorization:t,signature:r}){return fe(oe(e),await pt({authorization:t,signature:r}))}i();c();a();i();c();a();var Kn=new $e(8192);function Dc(e,{enabled:t=!0,id:r}){if(!t||!r)return e();if(Kn.get(r))return Kn.get(r);let o=e().finally(()=>Kn.delete(r));return Kn.set(r,o),o}function Oc(e,t={}){return async(r,o={})=>{let{dedupe:n=!1,methods:s,retryDelay:u=150,retryCount:m=3,uid:f}={...t,...o},{method:p}=r;if(s?.exclude?.includes(p))throw new rr(new Error("method not supported"),{method:p});if(s?.include&&!s.include.includes(p))throw new rr(new Error("method not supported"),{method:p});let d=n?He(`${f}.${V(r)}`):void 0;return Dc(()=>wt(async()=>{try{return await e(r)}catch(l){let g=l;switch(g.code){case Ko.code:throw new Ko(g);case Zo.code:throw new Zo(g);case Jo.code:throw new Jo(g,{method:r.method});case Yo.code:throw new Yo(g);case Rt.code:throw new Rt(g);case Me.code:throw new Me(g);case Qo.code:throw new Qo(g);case Xo.code:throw new Xo(g);case tr.code:throw new tr(g);case rr.code:throw new rr(g,{method:r.method});case Zr.code:throw new Zr(g);case en.code:throw new en(g);case Ft.code:throw new Ft(g);case tn.code:throw new tn(g);case rn.code:throw new rn(g);case on.code:throw new on(g);case nn.code:throw new nn(g);case sn.code:throw new sn(g);case or.code:throw new or(g);case an.code:throw new an(g);case cn.code:throw new cn(g);case un.code:throw new un(g);case mn.code:throw new mn(g);case fn.code:throw new fn(g);case nr.code:throw new nr(g);case 5e3:throw new Ft(g);default:throw l instanceof H?l:new fi(g)}}},{delay:({count:l,error:g})=>{if(g&&g instanceof ut){let b=g?.headers?.get("Retry-After");if(b?.match(/\d/))return Number.parseInt(b,10)*1e3}return~~(1<<l)*u},retryCount:m,shouldRetry:({error:l})=>Wf(l)}),{enabled:n,id:d})}}function Wf(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===Zr.code||e.code===Rt.code:e instanceof ut&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}i();c();a();function Kf(e){let t={formatters:void 0,fees:void 0,serializers:void 0,...e};function r(o){return n=>{let s=typeof n=="function"?n(o):n,u={...o,...s};return Object.assign(u,{extend:r(u)})}}return Object.assign(t,{extend:r(t)})}function Zf(){return{}}i();c();a();function Jf({chains:e,id:t}){return e.find(r=>r.id===t)}i();c();a();function Zn(e,t="hex"){let r=(()=>{if(typeof e=="string"){if(e.length>3&&e.length%2!==0)throw new ei(e);return K(e)}return e})(),o=Ke(r,{recursiveReadLimit:Number.POSITIVE_INFINITY});return Vc(o,t)}function Vc(e,t="hex"){if(e.bytes.length===0)return t==="hex"?O(e.bytes):e.bytes;let r=e.readByte();if(r<128&&e.decrementPosition(1),r<192){let n=jc(e,r,128),s=e.readBytes(n);return t==="hex"?O(s):s}let o=jc(e,r,192);return Yf(e,o,t)}function jc(e,t,r){if(r===128&&t<128)return 1;if(t<=r+55)return t-r;if(t===r+55+1)return e.readUint8();if(t===r+55+2)return e.readUint16();if(t===r+55+3)return e.readUint24();if(t===r+55+4)return e.readUint32();throw new H("Invalid RLP prefix")}function Yf(e,t,r){let o=e.position,n=[];for(;e.position-o<t;)n.push(Vc(e,r));return n}i();c();a();function Ui(e){return U(e)&&de(e)===32}i();c();a();function Qf(e,t){let r=t||"hex",o=sc(U(e,{strict:!1})?ne(e):e);return r==="bytes"?o:X(o)}i();c();a();i();c();a();i();c();a();i();c();a();i();c();a();function Wc(e){let{source:t}=e,r=new Map,o=new $e(8192),n=new Map,s=({address:u,chainId:m})=>`${u}.${m}`;return{async consume({address:u,chainId:m,client:f}){let p=s({address:u,chainId:m}),d=this.get({address:u,chainId:m,client:f});this.increment({address:u,chainId:m});let l=await d;return await t.set({address:u,chainId:m},l),o.set(p,l),l},async increment({address:u,chainId:m}){let f=s({address:u,chainId:m}),p=r.get(f)??0;r.set(f,p+1)},async get({address:u,chainId:m,client:f}){let p=s({address:u,chainId:m}),d=n.get(p);return d||(d=(async()=>{try{let g=await t.get({address:u,chainId:m,client:f}),b=o.get(p)??0;return b>0&&g<=b?b+1:(o.delete(p),g)}finally{this.reset({address:u,chainId:m})}})(),n.set(p,d)),(r.get(p)??0)+await d},reset({address:u,chainId:m}){let f=s({address:u,chainId:m});r.delete(f),n.delete(f)}}}function Xf(){return{async get(e){let{address:t,client:r}=e;return lt(r,{address:t,blockTag:"pending"})},set(){}}}var ep=Wc({source:Xf()});i();c();a();i();c();a();i();c();a();function go(e,{errorInstance:t=new Error("timed out"),timeout:r,signal:o}){return new Promise((n,s)=>{(async()=>{let u;try{let m=new AbortController;r>0&&(u=setTimeout(()=>{o?m.abort():s(t)},r)),n(await e({signal:m?.signal||null}))}catch(m){m?.name==="AbortError"&&s(t),s(m)}finally{clearTimeout(u)}})()})}i();c();a();function tp(){return{current:0,take(){return this.current++},reset(){this.current=0}}}var bo=tp();function Jn(e,t={}){let{url:r,headers:o}=rp(e);return{async request(n){let{body:s,fetchFn:u=t.fetchFn??fetch,onRequest:m=t.onRequest,onResponse:f=t.onResponse,timeout:p=t.timeout??1e4}=n,d={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:l,method:g,signal:b}=d;try{let w=await go(async({signal:E})=>{let P={...d,body:Array.isArray(s)?V(s.map(C=>({jsonrpc:"2.0",id:C.id??bo.take(),...C}))):V({jsonrpc:"2.0",id:s.id??bo.take(),...s}),headers:{...o,"Content-Type":"application/json",...l},method:g||"POST",signal:b||(p>0?E:null)},T=new Request(r,P),B=await m?.(T,P)??{...P,url:r};return await u(B.url??r,B)},{errorInstance:new er({body:s,url:r}),timeout:p,signal:!0});f&&await f(w);let v;if(w.headers.get("Content-Type")?.startsWith("application/json"))v=await w.json();else{v=await w.text();try{v=JSON.parse(v||"{}")}catch(E){if(w.ok)throw E;v={error:v}}}if(!w.ok)throw new ut({body:s,details:V(v.error)||w.statusText,headers:w.headers,status:w.status,url:r});return v}catch(w){throw w instanceof ut||w instanceof er?w:new ut({body:s,cause:w,url:r})}}}}function rp(e){try{let t=new URL(e),r=(()=>{if(t.username){let o=`${decodeURIComponent(t.username)}:${decodeURIComponent(t.password)}`;return t.username="",t.password="",{url:t.toString(),headers:{Authorization:`Basic ${btoa(o)}`}}}})();return{url:t.toString(),...r}}catch{return{url:e}}}i();c();a();i();c();a();var qi=new Map;async function Kc(e){let{getSocket:t,keepAlive:r=!0,key:o="socket",reconnect:n=!0,url:s}=e,{interval:u=3e4}=typeof r=="object"?r:{},{attempts:m=5,delay:f=2e3}=typeof n=="object"?n:{},p=JSON.stringify({keepAlive:r,key:o,url:s,reconnect:n}),d=qi.get(p);if(d)return d;let l=0,{schedule:g}=wn({id:p,fn:async()=>{let v=new Map,E=new Map,P,T,B,I=!1;function C(){if(n&&l<m){if(I)return;I=!0,l++,T?.close(),setTimeout(async()=>{await k().catch(console.error),I=!1},f)}else v.clear(),E.clear()}async function k(){let R=await t({onClose(){for(let N of v.values())N.onError?.(new kt({url:s}));for(let N of E.values())N.onError?.(new kt({url:s}));C()},onError(N){P=N;for(let z of v.values())z.onError?.(P);for(let z of E.values())z.onError?.(P);C()},onOpen(){P=void 0,l=0},onResponse(N){let z=N.method==="eth_subscription",F=z?N.params.subscription:N.id,L=z?E:v,_=L.get(F);_&&_.onResponse(N),z||L.delete(F)}});if(T=R,r&&(B&&clearInterval(B),B=setInterval(()=>T.ping?.(),u)),n&&E.size>0){let N=E.entries();for(let[z,{onResponse:F,body:L,onError:_}]of N)L&&(E.delete(z),d?.request({body:L,onResponse:F,onError:_}))}return R}return await k(),P=void 0,d={close(){B&&clearInterval(B),T.close(),qi.delete(p)},get socket(){return T},request({body:R,onError:N,onResponse:z}){P&&N&&N(P);let F=R.id??bo.take(),L=_=>{typeof _.id=="number"&&F!==_.id||(R.method==="eth_subscribe"&&typeof _.result=="string"&&E.set(_.result,{onResponse:L,onError:N,body:R}),z(_))};R.method==="eth_unsubscribe"&&E.delete(R.params?.[0]),v.set(F,{onResponse:L,onError:N});try{T.request({body:{jsonrpc:"2.0",id:F,...R}})}catch(_){N?.(_)}},requestAsync({body:R,timeout:N=1e4}){return go(()=>new Promise((z,F)=>this.request({body:R,onError:F,onResponse:z})),{errorInstance:new er({body:R,url:s}),timeout:N})},requests:v,subscriptions:E,url:s},qi.set(p,d),[d]}}),[b,[w]]=await g();return w}async function Br(e,t={}){let{keepAlive:r,reconnect:o}=t;return Kc({async getSocket({onClose:n,onError:s,onOpen:u,onResponse:m}){let f=await import("./native-SVD272TC.js").then(b=>b.WebSocket),p=new f(e);function d(){p.removeEventListener("close",d),p.removeEventListener("message",l),p.removeEventListener("error",s),p.removeEventListener("open",u),n()}function l({data:b}){if(!(typeof b=="string"&&b.trim().length===0))try{let w=JSON.parse(b);m(w)}catch(w){s(w)}}p.addEventListener("close",d),p.addEventListener("message",l),p.addEventListener("error",s),p.addEventListener("open",u),p.readyState===f.CONNECTING&&await new Promise((b,w)=>{p&&(p.onopen=b,p.onerror=w)});let{close:g}=p;return Object.assign(p,{close(){g.bind(p)(),d()},ping(){try{if(p.readyState===p.CLOSED||p.readyState===p.CLOSING)throw new Wo({url:p.url,cause:new kt({url:p.url})});let b={jsonrpc:"2.0",id:null,method:"net_version",params:[]};p.send(JSON.stringify(b))}catch(b){s(b)}},request({body:b}){if(p.readyState===p.CLOSED||p.readyState===p.CLOSING)throw new Wo({body:b,url:p.url,cause:new kt({url:p.url})});return p.send(JSON.stringify(b))}})},keepAlive:r,reconnect:o,url:e})}function op(e,{body:t,onError:r,onResponse:o}){return e.request({body:t,onError:r,onResponse:o}),e}async function np(e,{body:t,timeout:r=1e4}){return e.requestAsync({body:t,timeout:r})}async function $i(e){let t=await Br(e);return Object.assign(t.socket,{requests:t.requests,subscriptions:t.subscriptions})}var sp={http(e,t){return Jn(e).request(t)},webSocket:op,webSocketAsync:np};i();c();a();i();c();a();i();c();a();var Mi=`Ethereum Signed Message:
`;function Gi(e){let t=typeof e=="string"?He(e):typeof e.raw=="string"?e.raw:O(e.raw),r=He(`${Mi}${de(t)}`);return we([r,t])}function Kt(e,t){return j(Gi(e),t)}i();c();a();i();c();a();i();c();a();var wo=class extends H{constructor({domain:t}){super(`Invalid domain "${V(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}},vo=class extends H{constructor({primaryType:t,types:r}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(r))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}},Eo=class extends H{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}};function Di(e){let{domain:t,message:r,primaryType:o,types:n}=e,s=(f,p)=>{let d={...p};for(let l of f){let{name:g,type:b}=l;b==="address"&&(d[g]=d[g].toLowerCase())}return d},u=n.EIP712Domain?t?s(n.EIP712Domain,t):{}:{},m=(()=>{if(o!=="EIP712Domain")return s(n[o],r)})();return V({domain:u,message:m,primaryType:o,types:n})}function Po(e){let{domain:t,message:r,primaryType:o,types:n}=e,s=(u,m)=>{for(let f of u){let{name:p,type:d}=f,l=m[p],g=d.match(jo);if(g&&(typeof l=="number"||typeof l=="bigint")){let[v,E,P]=g;A(l,{signed:E==="int",size:Number.parseInt(P,10)/8})}if(d==="address"&&typeof l=="string"&&!le(l))throw new be({address:l});let b=d.match(Oo);if(b){let[v,E]=b;if(E&&de(l)!==Number.parseInt(E,10))throw new $r({expectedSize:Number.parseInt(E,10),givenSize:de(l)})}let w=n[d];w&&(ap(d),s(w,l))}};if(n.EIP712Domain&&t){if(typeof t!="object")throw new wo({domain:t});s(n.EIP712Domain,t)}if(o!=="EIP712Domain")if(n[o])s(n[o],r);else throw new vo({primaryType:o,types:n})}function Cr({domain:e}){return[typeof e?.name=="string"&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},(typeof e?.chainId=="number"||typeof e?.chainId=="bigint")&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function ip({domain:e}){return Yn({domain:e,types:{EIP712Domain:Cr({domain:e})}})}function ap(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new Eo({type:e})}function To(e){let{domain:t={},message:r,primaryType:o}=e,n={EIP712Domain:Cr({domain:t}),...e.types};Po({domain:t,message:r,primaryType:o,types:n});let s=["0x1901"];return t&&s.push(Yn({domain:t,types:n})),o!=="EIP712Domain"&&s.push(Oi({data:r,primaryType:o,types:n})),j(we(s))}function Yn({domain:e,types:t}){return Oi({data:e,primaryType:"EIP712Domain",types:t})}function Oi({data:e,primaryType:t,types:r}){let o=Zc({data:e,primaryType:t,types:r});return j(o)}function Zc({data:e,primaryType:t,types:r}){let o=[{type:"bytes32"}],n=[cp({primaryType:t,types:r})];for(let s of r[t]){let[u,m]=Yc({types:r,name:s.name,type:s.type,value:e[s.name]});o.push(u),n.push(m)}return it(o,n)}function cp({primaryType:e,types:t}){let r=X(up({primaryType:e,types:t}));return j(r)}function up({primaryType:e,types:t}){let r="",o=Jc({primaryType:e,types:t});o.delete(e);let n=[e,...Array.from(o).sort()];for(let s of n)r+=`${s}(${t[s].map(({name:u,type:m})=>`${m} ${u}`).join(",")})`;return r}function Jc({primaryType:e,types:t},r=new Set){let n=e.match(/^\w*/u)?.[0];if(r.has(n)||t[n]===void 0)return r;r.add(n);for(let s of t[n])Jc({primaryType:s.type,types:t},r);return r}function Yc({types:e,name:t,type:r,value:o}){if(e[r]!==void 0)return[{type:"bytes32"},j(Zc({data:o,primaryType:r,types:e}))];if(r==="bytes")return[{type:"bytes32"},j(o)];if(r==="string")return[{type:"bytes32"},j(X(o))];if(r.lastIndexOf("]")===r.length-1){let n=r.slice(0,r.lastIndexOf("[")),s=o.map(u=>Yc({name:t,type:n,types:e,value:u}));return[{type:"bytes32"},j(it(s.map(([u])=>u),s.map(([,u])=>u)))]}return[{type:r},o]}i();c();a();i();c();a();var Qn="0x6492649264926492649264926492649264926492649264926492649264926492",mp="0x0000000000000000000000000000000000000000000000000000000000000000";function ji(e){return st(e,-32)===Qn}i();c();a();i();c();a();var qe={};Ma(qe,{InvalidWrappedSignatureError:()=>zs,assert:()=>_s,from:()=>ud,magicBytes:()=>wa,suffixParameters:()=>va,unwrap:()=>Wu,validate:()=>fd,wrap:()=>md});i();c();a();i();c();a();i();c();a();i();c();a();i();c();a();var Qc="1.2.3";var te=class e extends Error{constructor(t,r={}){let o=r.cause instanceof e?r.cause.details:r.cause?.message?r.cause.message:r.details,n=r.cause instanceof e&&r.cause.docsPath||r.docsPath,s=[t||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...n?[`Docs: https://abitype.dev${n}`]:[],...o?[`Details: ${o}`]:[],`Version: abitype@${Qc}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),r.cause&&(this.cause=r.cause),this.details=o,this.docsPath=n,this.metaMessages=r.metaMessages,this.shortMessage=t}};i();c();a();i();c();a();i();c();a();i();c();a();function Ie(e,t){return e.exec(t)?.groups}var Vi=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Wi=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Xn=/^\(.+?\).*?$/;var Xc=/^tuple(?<array>(\[(\d*)\])*)$/;function es(e){let t=e.type;if(Xc.test(e.type)&&"components"in e){t="(";let r=e.components.length;for(let n=0;n<r;n++){let s=e.components[n];t+=es(s),n<r-1&&(t+=", ")}let o=Ie(Xc,e.type);return t+=`)${o?.array||""}`,es({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Qe(e){let t="",r=e.length;for(let o=0;o<r;o++){let n=e[o];t+=es(n),o!==r-1&&(t+=", ")}return t}function Ao(e){return e.type==="function"?`function ${e.name}(${Qe(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${Qe(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Qe(e.inputs)})`:e.type==="error"?`error ${e.name}(${Qe(e.inputs)})`:e.type==="constructor"?`constructor(${Qe(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}i();c();a();var eu=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function tu(e){return eu.test(e)}function ru(e){return Ie(eu,e)}var ou=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function nu(e){return ou.test(e)}function su(e){return Ie(ou,e)}var iu=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function au(e){return iu.test(e)}function cu(e){return Ie(iu,e)}var uu=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Sr(e){return uu.test(e)}function mu(e){return Ie(uu,e)}var fu=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function pu(e){return fu.test(e)}function du(e){return Ie(fu,e)}var lu=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function hu(e){return lu.test(e)}function yu(e){return Ie(lu,e)}var fp=/^receive\(\) external payable$/;function xu(e){return fp.test(e)}var Ki=new Set(["memory","indexed","storage","calldata"]),gu=new Set(["indexed"]),ts=new Set(["calldata","memory","storage"]);i();c();a();i();c();a();var rs=class extends te{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}},os=class extends te{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}},ns=class extends te{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}};i();c();a();var ss=class extends te{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}},is=class extends te{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}},as=class extends te{constructor({param:t,name:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${r}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}},cs=class extends te{constructor({param:t,type:r,modifier:o}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${o}" not allowed${r?` in "${r}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}},us=class extends te{constructor({param:t,type:r,modifier:o}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${o}" not allowed${r?` in "${r}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${o}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}},ms=class extends te{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}};i();c();a();var je=class extends te{constructor({signature:t,type:r}){super(`Invalid ${r} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}},fs=class extends te{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}},ps=class extends te{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}};i();c();a();var ds=class extends te{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}};i();c();a();i();c();a();var ls=class extends te{constructor({current:t,depth:r}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}};i();c();a();function bu(e,t,r){let o="";if(r)for(let n of Object.entries(r)){if(!n)continue;let s="";for(let u of n[1])s+=`[${u.type}${u.name?`:${u.name}`:""}]`;o+=`(${n[0]}{${s}})`}return t?`${t}:${e}${o}`:`${e}${o}`}var hs=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Zi(e,t={}){if(au(e))return pp(e,t);if(nu(e))return dp(e,t);if(tu(e))return lp(e,t);if(pu(e))return hp(e,t);if(hu(e))return yp(e);if(xu(e))return{type:"receive",stateMutability:"payable"};throw new fs({signature:e})}function pp(e,t={}){let r=cu(e);if(!r)throw new je({signature:e,type:"function"});let o=Pe(r.parameters),n=[],s=o.length;for(let m=0;m<s;m++)n.push(Le(o[m],{modifiers:ts,structs:t,type:"function"}));let u=[];if(r.returns){let m=Pe(r.returns),f=m.length;for(let p=0;p<f;p++)u.push(Le(m[p],{modifiers:ts,structs:t,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:n,outputs:u}}function dp(e,t={}){let r=su(e);if(!r)throw new je({signature:e,type:"event"});let o=Pe(r.parameters),n=[],s=o.length;for(let u=0;u<s;u++)n.push(Le(o[u],{modifiers:gu,structs:t,type:"event"}));return{name:r.name,type:"event",inputs:n}}function lp(e,t={}){let r=ru(e);if(!r)throw new je({signature:e,type:"error"});let o=Pe(r.parameters),n=[],s=o.length;for(let u=0;u<s;u++)n.push(Le(o[u],{structs:t,type:"error"}));return{name:r.name,type:"error",inputs:n}}function hp(e,t={}){let r=du(e);if(!r)throw new je({signature:e,type:"constructor"});let o=Pe(r.parameters),n=[],s=o.length;for(let u=0;u<s;u++)n.push(Le(o[u],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:n}}function yp(e){let t=yu(e);if(!t)throw new je({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}var xp=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,gp=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,bp=/^u?int$/;function Le(e,t){let r=bu(e,t?.type,t?.structs);if(hs.has(r))return hs.get(r);let o=Xn.test(e),n=Ie(o?gp:xp,e);if(!n)throw new is({param:e});if(n.name&&vp(n.name))throw new as({param:e,name:n.name});let s=n.name?{name:n.name}:{},u=n.modifier==="indexed"?{indexed:!0}:{},m=t?.structs??{},f,p={};if(o){f="tuple";let l=Pe(n.type),g=[],b=l.length;for(let w=0;w<b;w++)g.push(Le(l[w],{structs:m}));p={components:g}}else if(n.type in m)f="tuple",p={components:m[n.type]};else if(bp.test(n.type))f=`${n.type}256`;else if(n.type==="address payable")f="address";else if(f=n.type,t?.type!=="struct"&&!Ji(f))throw new ns({type:f});if(n.modifier){if(!t?.modifiers?.has?.(n.modifier))throw new cs({param:e,type:t?.type,modifier:n.modifier});if(ts.has(n.modifier)&&!Ep(f,!!n.array))throw new us({param:e,type:t?.type,modifier:n.modifier})}let d={type:`${f}${n.array??""}`,...s,...u,...p};return hs.set(r,d),d}function Pe(e,t=[],r="",o=0){let n=e.trim().length;for(let s=0;s<n;s++){let u=e[s],m=e.slice(s+1);switch(u){case",":return o===0?Pe(m,[...t,r.trim()]):Pe(m,t,`${r}${u}`,o);case"(":return Pe(m,t,`${r}${u}`,o+1);case")":return Pe(m,t,`${r}${u}`,o-1);default:return Pe(m,t,`${r}${u}`,o)}}if(r==="")return t;if(o!==0)throw new ls({current:r,depth:o});return t.push(r.trim()),t}function Ji(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Vi.test(e)||Wi.test(e)}var wp=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function vp(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Vi.test(e)||Wi.test(e)||wp.test(e)}function Ep(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function ys(e){let t={},r=e.length;for(let u=0;u<r;u++){let m=e[u];if(!Sr(m))continue;let f=mu(m);if(!f)throw new je({signature:m,type:"struct"});let p=f.properties.split(";"),d=[],l=p.length;for(let g=0;g<l;g++){let w=p[g].trim();if(!w)continue;let v=Le(w,{type:"struct"});d.push(v)}if(!d.length)throw new ps({signature:m});t[f.name]=d}let o={},n=Object.entries(t),s=n.length;for(let u=0;u<s;u++){let[m,f]=n[u];o[m]=wu(f,t)}return o}var Pp=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function wu(e=[],t={},r=new Set){let o=[],n=e.length;for(let s=0;s<n;s++){let u=e[s];if(Xn.test(u.type))o.push(u);else{let f=Ie(Pp,u.type);if(!f?.type)throw new ms({abiParameter:u});let{array:p,type:d}=f;if(d in t){if(r.has(d))throw new ds({type:d});o.push({...u,type:`tuple${p??""}`,components:wu(t[d],t,new Set([...r,d]))})}else if(Ji(d))o.push(u);else throw new os({type:d})}}return o}i();c();a();function xs(e){let t;if(typeof e=="string")t=Zi(e);else{let r=ys(e),o=e.length;for(let n=0;n<o;n++){let s=e[n];if(!Sr(s)){t=Zi(s,r);break}}}if(!t)throw new rs({signature:e});return t}i();c();a();function gs(e){let t=[];if(typeof e=="string"){let r=Pe(e),o=r.length;for(let n=0;n<o;n++)t.push(Le(r[n],{modifiers:Ki}))}else{let r=ys(e),o=e.length;for(let n=0;n<o;n++){let s=e[n];if(Sr(s))continue;let u=Pe(s),m=u.length;for(let f=0;f<m;f++)t.push(Le(u[f],{modifiers:Ki,structs:r}))}}if(t.length===0)throw new ss({params:e});return t}i();c();a();i();c();a();i();c();a();var bs=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){let r=super.get(t);return super.has(t)&&r!==void 0&&(this.delete(t),super.set(t,r)),r}set(t,r){if(super.set(t,r),this.maxSize&&this.size>this.maxSize){let o=this.keys().next().value;o&&this.delete(o)}return this}};var Tp={checksum:new bs(8192)},ws=Tp.checksum;i();c();a();function Zt(e,t={}){let{as:r=typeof e=="string"?"Hex":"Bytes"}=t,o=Ga(Qr(e));return r==="Bytes"?o:se(o)}function jC(e,t={}){let{as:r=typeof e=="string"?"Hex":"Bytes"}=t,o=dn(Qr(e));return r==="Bytes"?o:se(o)}function VC(e){return ur(e)&&ie(e)===32}i();c();a();function Eu(e,t={}){let{compressed:r}=t,{prefix:o,x:n,y:s}=e;if(r===!1||typeof n=="bigint"&&typeof s=="bigint"){if(o!==4)throw new vs({prefix:o,cause:new ea});return}if(r===!0||typeof n=="bigint"&&typeof s>"u"){if(o!==3&&o!==2)throw new vs({prefix:o,cause:new Xi});return}throw new Qi({publicKey:e})}function Pu(e){let t=(()=>{if(ur(e))return Tu(e);if(Qa(e))return Bp(e);let{prefix:r,x:o,y:n}=e;return typeof o=="bigint"&&typeof n=="bigint"?{prefix:r??4,x:o,y:n}:{prefix:r,x:o}})();return Eu(t),t}function Bp(e){return Tu(se(e))}function Tu(e){if(e.length!==132&&e.length!==130&&e.length!==68)throw new ta({publicKey:e});if(e.length===130){let o=BigInt(Q(e,0,32)),n=BigInt(Q(e,32,64));return{prefix:4,x:o,y:n}}if(e.length===132){let o=Number(Q(e,0,1)),n=BigInt(Q(e,1,33)),s=BigInt(Q(e,33,65));return{prefix:o,x:n,y:s}}let t=Number(Q(e,0,1)),r=BigInt(Q(e,1,33));return{prefix:t,x:r}}function Au(e,t={}){return Ht(Es(e,t))}function Es(e,t={}){Eu(e);let{prefix:r,x:o,y:n}=e,{includePrefix:s=!0}=t;return Y(s?W(r,{size:1}):"0x",W(o,{size:32}),typeof n=="bigint"?W(n,{size:32}):"0x")}var Qi=class extends ${constructor({publicKey:t}){super(`Value \`${ln(t)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}},vs=class extends ${constructor({prefix:t,cause:r}){super(`Prefix "${t}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}},Xi=class extends ${constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}},ea=class extends ${constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}},ta=class extends ${constructor({publicKey:t}){super(`Value \`${t}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${ie(ar(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}};var Cp=/^0x[a-fA-F0-9]{40}$/;function Xe(e,t={}){let{strict:r=!0}=t;if(!Cp.test(e))throw new Ps({address:e,cause:new ra});if(r){if(e.toLowerCase()===e)return;if(Ts(e)!==e)throw new Ps({address:e,cause:new oa})}}function Ts(e){if(ws.has(e))return ws.get(e);Xe(e,{strict:!1});let t=e.substring(2).toLowerCase(),r=Zt(Va(t),{as:"Bytes"}),o=t.split("");for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&o[s]&&(o[s]=o[s].toUpperCase()),(r[s>>1]&15)>=8&&o[s+1]&&(o[s+1]=o[s+1].toUpperCase());let n=`0x${o.join("")}`;return ws.set(e,n),n}function Sp(e,t={}){let{checksum:r=!1}=t;return Xe(e),r?Ts(e):e}function Bu(e,t={}){let r=Zt(`0x${Es(e).slice(4)}`).substring(26);return Sp(`0x${r}`,t)}function Cu(e,t){return Xe(e,{strict:!1}),Xe(t,{strict:!1}),e.toLowerCase()===t.toLowerCase()}function As(e,t={}){let{strict:r=!0}=t??{};try{return Xe(e,{strict:r}),!0}catch{return!1}}var Ps=class extends ${constructor({address:t,cause:r}){super(`Address "${t}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}},ra=class extends ${constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}},oa=class extends ${constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}};i();c();a();i();c();a();var Su=/^(.*)\[([0-9]*)\]$/,ku=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Bs=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,rS=2n**(8n-1n)-1n,oS=2n**(16n-1n)-1n,nS=2n**(24n-1n)-1n,sS=2n**(32n-1n)-1n,iS=2n**(40n-1n)-1n,aS=2n**(48n-1n)-1n,cS=2n**(56n-1n)-1n,uS=2n**(64n-1n)-1n,mS=2n**(72n-1n)-1n,fS=2n**(80n-1n)-1n,pS=2n**(88n-1n)-1n,dS=2n**(96n-1n)-1n,lS=2n**(104n-1n)-1n,hS=2n**(112n-1n)-1n,yS=2n**(120n-1n)-1n,xS=2n**(128n-1n)-1n,gS=2n**(136n-1n)-1n,bS=2n**(144n-1n)-1n,wS=2n**(152n-1n)-1n,vS=2n**(160n-1n)-1n,ES=2n**(168n-1n)-1n,PS=2n**(176n-1n)-1n,TS=2n**(184n-1n)-1n,AS=2n**(192n-1n)-1n,IS=2n**(200n-1n)-1n,BS=2n**(208n-1n)-1n,CS=2n**(216n-1n)-1n,SS=2n**(224n-1n)-1n,kS=2n**(232n-1n)-1n,RS=2n**(240n-1n)-1n,FS=2n**(248n-1n)-1n,NS=2n**(256n-1n)-1n,HS=-(2n**(8n-1n)),zS=-(2n**(16n-1n)),_S=-(2n**(24n-1n)),US=-(2n**(32n-1n)),LS=-(2n**(40n-1n)),qS=-(2n**(48n-1n)),$S=-(2n**(56n-1n)),MS=-(2n**(64n-1n)),GS=-(2n**(72n-1n)),DS=-(2n**(80n-1n)),OS=-(2n**(88n-1n)),jS=-(2n**(96n-1n)),VS=-(2n**(104n-1n)),WS=-(2n**(112n-1n)),KS=-(2n**(120n-1n)),ZS=-(2n**(128n-1n)),JS=-(2n**(136n-1n)),YS=-(2n**(144n-1n)),QS=-(2n**(152n-1n)),XS=-(2n**(160n-1n)),ek=-(2n**(168n-1n)),tk=-(2n**(176n-1n)),rk=-(2n**(184n-1n)),ok=-(2n**(192n-1n)),nk=-(2n**(200n-1n)),sk=-(2n**(208n-1n)),ik=-(2n**(216n-1n)),ak=-(2n**(224n-1n)),ck=-(2n**(232n-1n)),uk=-(2n**(240n-1n)),mk=-(2n**(248n-1n)),fk=-(2n**(256n-1n)),pk=2n**8n-1n,dk=2n**16n-1n,lk=2n**24n-1n,hk=2n**32n-1n,yk=2n**40n-1n,xk=2n**48n-1n,gk=2n**56n-1n,bk=2n**64n-1n,wk=2n**72n-1n,vk=2n**80n-1n,Ek=2n**88n-1n,Pk=2n**96n-1n,Tk=2n**104n-1n,Ak=2n**112n-1n,Ik=2n**120n-1n,Bk=2n**128n-1n,Ck=2n**136n-1n,Sk=2n**144n-1n,kk=2n**152n-1n,Rk=2n**160n-1n,Fk=2n**168n-1n,Nk=2n**176n-1n,Hk=2n**184n-1n,zk=2n**192n-1n,_k=2n**200n-1n,Uk=2n**208n-1n,Lk=2n**216n-1n,qk=2n**224n-1n,$k=2n**232n-1n,Mk=2n**240n-1n,Gk=2n**248n-1n,na=2n**256n-1n;function Jt(e,t,r){let{checksumAddress:o,staticPosition:n}=r,s=aa(t.type);if(s){let[u,m]=s;return Rp(e,{...t,type:m},{checksumAddress:o,length:u,staticPosition:n})}if(t.type==="tuple")return zp(e,t,{checksumAddress:o,staticPosition:n});if(t.type==="address")return kp(e,{checksum:o});if(t.type==="bool")return Fp(e);if(t.type.startsWith("bytes"))return Np(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Hp(e,t);if(t.type==="string")return _p(e,{staticPosition:n});throw new Rr(t.type)}var Fu=32,sa=32;function kp(e,t={}){let{checksum:r=!1}=t,o=e.readBytes(32);return[(s=>r?Ts(s):s)(se(Wa(o,-20))),32]}function Rp(e,t,r){let{checksumAddress:o,length:n,staticPosition:s}=r;if(!n){let f=Ge(e.readBytes(sa)),p=s+f,d=p+Fu;e.setPosition(p);let l=Ge(e.readBytes(Fu)),g=Io(t),b=0,w=[];for(let v=0;v<l;++v){e.setPosition(d+(g?v*32:b));let[E,P]=Jt(e,t,{checksumAddress:o,staticPosition:d});b+=P,w.push(E)}return e.setPosition(s+32),[w,32]}if(Io(t)){let f=Ge(e.readBytes(sa)),p=s+f,d=[];for(let l=0;l<n;++l){e.setPosition(p+l*32);let[g]=Jt(e,t,{checksumAddress:o,staticPosition:p});d.push(g)}return e.setPosition(s+32),[d,32]}let u=0,m=[];for(let f=0;f<n;++f){let[p,d]=Jt(e,t,{checksumAddress:o,staticPosition:s+u});u+=d,m.push(p)}return[m,u]}function Fp(e){return[Za(e.readBytes(32),{size:32}),32]}function Np(e,t,{staticPosition:r}){let[o,n]=t.type.split("bytes");if(!n){let u=Ge(e.readBytes(32));e.setPosition(r+u);let m=Ge(e.readBytes(32));if(m===0)return e.setPosition(r+32),["0x",32];let f=e.readBytes(m);return e.setPosition(r+32),[se(f),32]}return[se(e.readBytes(Number.parseInt(n,10),32)),32]}function Hp(e,t){let r=t.type.startsWith("int"),o=Number.parseInt(t.type.split("int")[1]||"256",10),n=e.readBytes(32);return[o>48?Ka(n,{signed:r}):Ge(n,{signed:r}),32]}function zp(e,t,r){let{checksumAddress:o,staticPosition:n}=r,s=t.components.length===0||t.components.some(({name:f})=>!f),u=s?[]:{},m=0;if(Io(t)){let f=Ge(e.readBytes(sa)),p=n+f;for(let d=0;d<t.components.length;++d){let l=t.components[d];e.setPosition(p+m);let[g,b]=Jt(e,l,{checksumAddress:o,staticPosition:p});m+=b,u[s?d:l?.name]=g}return e.setPosition(n+32),[u,32]}for(let f=0;f<t.components.length;++f){let p=t.components[f],[d,l]=Jt(e,p,{checksumAddress:o,staticPosition:n});u[s?f:p?.name]=d,m+=l}return[u,m]}function _p(e,{staticPosition:t}){let r=Ge(e.readBytes(32)),o=t+r;e.setPosition(o);let n=Ge(e.readBytes(32));if(n===0)return e.setPosition(t+32),["",32];let s=e.readBytes(n,32),u=Ja(Ya(s));return e.setPosition(t+32),[u,32]}function Nu({checksumAddress:e,parameters:t,values:r}){let o=[];for(let n=0;n<t.length;n++)o.push(ia({checksumAddress:e,parameter:t[n],value:r[n]}));return o}function ia({checksumAddress:e=!1,parameter:t,value:r}){let o=t,n=aa(o.type);if(n){let[s,u]=n;return Lp(r,{checksumAddress:e,length:s,parameter:{...o,type:u}})}if(o.type==="tuple")return Dp(r,{checksumAddress:e,parameter:o});if(o.type==="address")return Up(r,{checksum:e});if(o.type==="bool")return $p(r);if(o.type.startsWith("uint")||o.type.startsWith("int")){let s=o.type.startsWith("int"),[,,u="256"]=Bs.exec(o.type)??[];return Mp(r,{signed:s,size:Number(u)})}if(o.type.startsWith("bytes"))return qp(r,{type:o.type});if(o.type==="string")return Gp(r);throw new Rr(o.type)}function Cs(e){let t=0;for(let s=0;s<e.length;s++){let{dynamic:u,encoded:m}=e[s];u?t+=32:t+=ie(m)}let r=[],o=[],n=0;for(let s=0;s<e.length;s++){let{dynamic:u,encoded:m}=e[s];u?(r.push(W(t+n,{size:32})),o.push(m),n+=ie(m)):r.push(m)}return Y(...r,...o)}function Up(e,t){let{checksum:r=!1}=t;return Xe(e,{strict:r}),{dynamic:!1,encoded:zt(e.toLowerCase())}}function Lp(e,t){let{checksumAddress:r,length:o,parameter:n}=t,s=o===null;if(!Array.isArray(e))throw new ks(e);if(!s&&e.length!==o)throw new Ss({expectedLength:o,givenLength:e.length,type:`${n.type}[${o}]`});let u=!1,m=[];for(let f=0;f<e.length;f++){let p=ia({checksumAddress:r,parameter:n,value:e[f]});p.dynamic&&(u=!0),m.push(p)}if(s||u){let f=Cs(m);if(s){let p=W(m.length,{size:32});return{dynamic:!0,encoded:m.length>0?Y(p,f):p}}if(u)return{dynamic:!0,encoded:f}}return{dynamic:!1,encoded:Y(...m.map(({encoded:f})=>f))}}function qp(e,{type:t}){let[,r]=t.split("bytes"),o=ie(e);if(!r){let n=e;return o%32!==0&&(n=_t(n,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:Y(zt(W(o,{size:32})),n)}}if(o!==Number.parseInt(r,10))throw new Bo({expectedSize:Number.parseInt(r,10),value:e});return{dynamic:!1,encoded:_t(e)}}function $p(e){if(typeof e!="boolean")throw new $(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:zt(hn(e))}}function Mp(e,{signed:t,size:r}){if(typeof r=="number"){let o=2n**(BigInt(r)-(t?1n:0n))-1n,n=t?-o-1n:0n;if(e>o||e<n)throw new ec({max:o.toString(),min:n.toString(),signed:t,size:r/8,value:e.toString()})}return{dynamic:!1,encoded:W(e,{size:32,signed:t})}}function Gp(e){let t=cr(e),r=Math.ceil(ie(t)/32),o=[];for(let n=0;n<r;n++)o.push(_t(Q(t,n*32,(n+1)*32)));return{dynamic:!0,encoded:Y(_t(W(ie(t),{size:32})),...o)}}function Dp(e,t){let{checksumAddress:r,parameter:o}=t,n=!1,s=[];for(let u=0;u<o.components.length;u++){let m=o.components[u],f=Array.isArray(e)?u:m.name,p=ia({checksumAddress:r,parameter:m,value:e[f]});s.push(p),p.dynamic&&(n=!0)}return{dynamic:n,encoded:n?Cs(s):Y(...s.map(({encoded:u})=>u))}}function aa(e){let t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function Io(e){let{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(Io);let r=aa(e.type);return!!(r&&Io({...e,type:r[1]}))}i();c();a();var jp={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new ua({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new ca({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Rs({offset:e});let t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Rs({offset:e});let t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){let r=t??this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){let t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){let t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){let t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();let r=this.inspectBytes(e);return this.position+=t??e,r},readUint8(){this.assertReadLimit(),this._touch();let e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();let e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();let e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();let e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){let t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;let e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function So(e,{recursiveReadLimit:t=8192}={}){let r=Object.create(jp);return r.bytes=e,r.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}var Rs=class extends ${constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}},ca=class extends ${constructor({length:t,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}},ua=class extends ${constructor({count:t,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}};function Fr(e,t,r={}){let{as:o="Array",checksumAddress:n=!1}=r,s=typeof t=="string"?Ht(t):t,u=So(s);if(Xr(s)===0&&e.length>0)throw new pa;if(Xr(s)&&Xr(s)<32)throw new fa({data:typeof t=="string"?t:se(t),parameters:e,size:Xr(s)});let m=0,f=o==="Array"?[]:{};for(let p=0;p<e.length;++p){let d=e[p];u.setPosition(m);let[l,g]=Jt(u,d,{checksumAddress:n,staticPosition:0});m+=g,o==="Array"?f.push(l):f[d.name??p]=l}return f}function vt(e,t,r){let{checksumAddress:o=!1}=r??{};if(e.length!==t.length)throw new Fs({expectedLength:e.length,givenLength:t.length});let n=Nu({checksumAddress:o,parameters:e,values:t}),s=Cs(n);return s.length===0?"0x":s}function ma(e,t){if(e.length!==t.length)throw new Fs({expectedLength:e.length,givenLength:t.length});let r=[];for(let o=0;o<e.length;o++){let n=e[o],s=t[o];r.push(ma.encode(n,s))}return Y(...r)}(function(e){function t(r,o,n=!1){if(r==="address"){let f=o;return Xe(f),zt(f.toLowerCase(),n?32:0)}if(r==="string")return cr(o);if(r==="bytes")return o;if(r==="bool")return zt(hn(o),n?32:1);let s=r.match(Bs);if(s){let[f,p,d="256"]=s,l=Number.parseInt(d,10)/8;return W(o,{size:n?32:l,signed:p==="int"})}let u=r.match(ku);if(u){let[f,p]=u;if(Number.parseInt(p,10)!==(o.length-2)/2)throw new Bo({expectedSize:Number.parseInt(p,10),value:o});return _t(o,n?32:0)}let m=r.match(Su);if(m&&Array.isArray(o)){let[f,p]=m,d=[];for(let l=0;l<o.length;l++)d.push(t(p,o[l],!0));return d.length===0?"0x":Y(...d)}throw new Rr(r)}e.encode=t})(ma||(ma={}));function ko(e){return Array.isArray(e)&&typeof e[0]=="string"?gs(e):typeof e=="string"?gs(e):e}var fa=class extends ${constructor({data:t,parameters:r,size:o}){super(`Data size of ${o} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Qe(r)})`,`Data:   ${t} (${o} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}},pa=class extends ${constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}},Ss=class extends ${constructor({expectedLength:t,givenLength:r,type:o}){super(`Array length mismatch for type \`${o}\`. Expected: \`${t}\`. Given: \`${r}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}},Bo=class extends ${constructor({expectedSize:t,value:r}){super(`Size of bytes "${r}" (bytes${ie(r)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}},Fs=class extends ${constructor({expectedLength:t,givenLength:r}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}},ks=class extends ${constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}},Rr=class extends ${constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}};i();c();a();i();c();a();function r8(e){return Vp(e,"Hex")}function Vp(e,t){let r=t??(typeof e=="string"?"Hex":"Bytes"),o=(()=>{if(typeof e=="string"){if(e.length>3&&e.length%2!==0)throw new tc(e);return Ht(e)}return e})(),n=So(o,{recursiveReadLimit:Number.POSITIVE_INFINITY});return _u(n,r)}function _u(e,t="Hex"){if(e.bytes.length===0)return t==="Hex"?se(e.bytes):e.bytes;let r=e.readByte();if(r<128&&e.decrementPosition(1),r<192){let n=zu(e,r,128),s=e.readBytes(n);return t==="Hex"?se(s):s}let o=zu(e,r,192);return Wp(e,o,t)}function zu(e,t,r){if(r===128&&t<128)return 1;if(t<=r+55)return t-r;if(t===r+55+1)return e.readUint8();if(t===r+55+2)return e.readUint16();if(t===r+55+3)return e.readUint24();if(t===r+55+4)return e.readUint32();throw new $("Invalid RLP prefix")}function Wp(e,t,r){let o=e.position,n=[];for(;e.position-o<t;)n.push(_u(e,r));return n}function Kp(e,t){let{as:r}=t,o=Lu(e),n=So(new Uint8Array(o.length));return o.encode(n),r==="Hex"?se(n.bytes):n.bytes}function Uu(e,t={}){let{as:r="Hex"}=t;return Kp(e,{as:r})}function Lu(e){return Array.isArray(e)?Zp(e.map(t=>Lu(t))):Jp(e)}function Zp(e){let t=e.reduce((n,s)=>n+s.length,0),r=qu(t);return{length:t<=55?1+t:1+r+t,encode(n){t<=55?n.pushByte(192+t):(n.pushByte(247+r),r===1?n.pushUint8(t):r===2?n.pushUint16(t):r===3?n.pushUint24(t):n.pushUint32(t));for(let{encode:s}of e)s(n)}}}function Jp(e){let t=typeof e=="string"?Ht(e):e,r=qu(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+r+t.length,encode(n){t.length===1&&t[0]<128?n.pushBytes(t):t.length<=55?(n.pushByte(128+t.length),n.pushBytes(t)):(n.pushByte(183+r),r===1?n.pushUint8(t.length):r===2?n.pushUint16(t.length):r===3?n.pushUint24(t.length):n.pushUint32(t.length),n.pushBytes(t))}}}function qu(e){if(e<=255)return 1;if(e<=65535)return 2;if(e<=16777215)return 3;if(e<=4294967295)return 4;throw new $("Length is too large.")}i();c();a();function Ns(e,t={}){let{recovered:r}=t;if(typeof e.r>"u")throw new Ro({signature:e});if(typeof e.s>"u")throw new Ro({signature:e});if(r&&typeof e.yParity>"u")throw new Ro({signature:e});if(e.r<0n||e.r>na)throw new la({value:e.r});if(e.s<0n||e.s>na)throw new ha({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new Nr({value:e.yParity})}function Qp(e){return $u(se(e))}function $u(e){if(e.length!==130&&e.length!==132)throw new da({signature:e});let t=BigInt(Q(e,0,32)),r=BigInt(Q(e,32,64)),o=(()=>{let n=+`0x${e.slice(130)}`;if(!Number.isNaN(n))try{return ga(n)}catch{throw new Nr({value:n})}})();return typeof o>"u"?{r:t,s:r}:{r:t,s:r,yParity:o}}function xa(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return Hs(e)}function Hs(e){let t=typeof e=="string"?$u(e):e instanceof Uint8Array?Qp(e):typeof e.r=="string"?ed(e):e.v?Xp(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return Ns(t),t}function Xp(e){return{r:e.r,s:e.s,yParity:ga(e.v)}}function ed(e){let t=(()=>{let r=e.v?Number(e.v):void 0,o=e.yParity?Number(e.yParity):void 0;if(typeof r=="number"&&typeof o!="number"&&(o=ga(r)),typeof o!="number")throw new Nr({value:e.yParity});return o})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function td(e){let[t,r,o]=e;return Hs({r:r==="0x"?0n:BigInt(r),s:o==="0x"?0n:BigInt(o),yParity:t==="0x"?0:Number(t)})}function i8(e){Ns(e);let t=e.r,r=e.s;return Y(W(t,{size:32}),W(r,{size:32}),typeof e.yParity=="number"?W(rd(e.yParity),{size:1}):"0x")}function Mu(e){let{r:t,s:r,yParity:o}=e;return{r:W(t,{size:32}),s:W(r,{size:32}),yParity:o===0?"0x0":"0x1"}}function Gu(e){let{r:t,s:r,yParity:o}=e;return[o?"0x01":"0x",t===0n?"0x":li(W(t)),r===0n?"0x":li(W(r))]}function ga(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new ya({value:e})}function rd(e){if(e===0)return 27;if(e===1)return 28;throw new Nr({value:e})}var da=class extends ${constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${ie(ar(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}},Ro=class extends ${constructor({signature:t}){super(`Signature \`${ln(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}},la=class extends ${constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}},ha=class extends ${constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}},Nr=class extends ${constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}},ya=class extends ${constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}};function Ou(e,t={}){return typeof e.chainId=="string"?ju(e):{...e,...t.signature}}function ju(e){let{address:t,chainId:r,nonce:o}=e,n=xa(e);return{address:t,chainId:Number(r),nonce:BigInt(o),...n}}function m8(e){return e.map(ju)}function Vu(e){return od(e,{presign:!0})}function od(e,t={}){let{presign:r}=t;return Zt(Y("0x05",Uu(sd(r?{address:e.address,chainId:e.chainId,nonce:e.nonce}:e))))}function nd(e){let{address:t,chainId:r,nonce:o,...n}=e;return{address:t,chainId:W(r),nonce:W(o),...Mu(n)}}function f8(e){return e.map(nd)}function sd(e){let{address:t,chainId:r,nonce:o}=e,n=xa(e);return[r?W(r):"0x",t,o?W(o):"0x",...n?Gu(n):[]]}i();c();a();function ba(e){return Bu(ad(e))}function ad(e){let{payload:t,signature:r}=e,{r:o,s:n,yParity:s}=r,m=new ze.Signature(BigInt(o),BigInt(n)).addRecoveryBit(s).recoverPublicKey(ar(t).substring(2));return Pu(m)}function y8(e){let{address:t,hash:r,payload:o,publicKey:n,signature:s}=e;return t?Cu(t,ba({payload:o,signature:s})):ze.verify(s,Qr(o),Au(n),...r?[{prehash:!0,lowS:!0}]:[])}var wa="0x8010801080108010801080108010801080108010801080108010801080108010",va=ko("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function _s(e){if(typeof e=="string"){if(Q(e,-32)!==wa)throw new zs(e)}else Ns(e.authorization)}function ud(e){return typeof e=="string"?Wu(e):e}function Wu(e){_s(e);let t=Xa(Q(e,-64,-32)),r=Q(e,-t-64,-64),o=Q(e,0,-t-64),[n,s,u]=Fr(va,r);return{authorization:Ou({address:n.delegation,chainId:Number(n.chainId),nonce:n.nonce,yParity:n.yParity,r:n.r,s:n.s}),signature:o,...u&&u!=="0x"?{data:u,to:s}:{}}}function md(e){let{data:t,signature:r}=e;_s(e);let o=ba({payload:Vu(e.authorization),signature:Hs(e.authorization)}),n=vt(va,[{...e.authorization,delegation:e.authorization.address,chainId:BigInt(e.authorization.chainId)},e.to??o,t??"0x"]),s=W(ie(n),{size:32});return Y(r,n,s,wa)}function fd(e){try{return _s(e),!0}catch{return!1}}var zs=class extends ${constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function Ea(e){return qe.validate(e)}i();c();a();function pd(e){if(!ji(e))return{signature:e};let[t,r,o]=at([{type:"address"},{type:"bytes"},{type:"bytes"}],e);return{address:t,data:r,signature:o}}i();c();a();function dd(e){if(!Ea(e))return{signature:e};let{authorization:t,to:r,...o}=qe.unwrap(e);return{authorization:{address:t.address,chainId:t.chainId,nonce:Number(t.nonce),r:A(t.r,{size:32}),s:A(t.s,{size:32}),yParity:t.yParity},...r?{address:r}:{},...o}}i();c();a();async function Pa({message:e,signature:t}){return Ae({hash:Kt(e),signature:t})}i();c();a();async function Ta(e){let{domain:t,message:r,primaryType:o,signature:n,types:s}=e;return Ae({hash:To({domain:t,message:r,primaryType:o,types:s}),signature:n})}i();c();a();function ld(e){let{address:t,data:r,signature:o,to:n="hex"}=e,s=ge([it([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,r,o]),Qn]);return n==="hex"?s:K(s)}i();c();a();function hd(e){let{address:t,data:r,signature:o,to:n="hex"}=e,s=qe.wrap({authorization:{address:e.authorization.address,chainId:e.authorization.chainId,nonce:BigInt(e.authorization.nonce),r:BigInt(e.authorization.r),s:BigInt(e.authorization.s),yParity:e.authorization.yParity},data:r,signature:o,to:t});return n==="hex"?s:K(s)}i();c();a();async function yd({address:e,hash:t,signature:r}){return fe(oe(e),await Ae({hash:t,signature:r}))}i();c();a();async function xd({address:e,message:t,signature:r}){return fe(oe(e),await Pa({message:t,signature:r}))}i();c();a();async function gd(e){let{address:t,domain:r,message:o,primaryType:n,signature:s,types:u}=e;return fe(oe(t),await Ta({domain:r,message:o,primaryType:n,signature:s,types:u}))}i();c();a();function Aa(e){let t=st(e,0,1);if(t==="0x04")return"eip7702";if(t==="0x03")return"eip4844";if(t==="0x02")return"eip1559";if(t==="0x01")return"eip2930";if(t!=="0x"&&D(t)>=192)return"legacy";throw new si({serializedType:t})}i();c();a();function Ia(e){let t=Aa(e);return t==="eip1559"?vd(e):t==="eip2930"?Ed(e):t==="eip4844"?wd(e):t==="eip7702"?bd(e):Pd(e)}function bd(e){let t=Us(e),[r,o,n,s,u,m,f,p,d,l,g,b,w]=t;if(t.length!==10&&t.length!==13)throw new Bt({attributes:{chainId:r,nonce:o,maxPriorityFeePerGas:n,maxFeePerGas:s,gas:u,to:m,value:f,data:p,accessList:d,authorizationList:l,...t.length>9?{v:g,r:b,s:w}:{}},serializedTransaction:e,type:"eip7702"});let v={chainId:D(r),type:"eip7702"};return U(m)&&m!=="0x"&&(v.to=m),U(u)&&u!=="0x"&&(v.gas=q(u)),U(p)&&p!=="0x"&&(v.data=p),U(o)&&(v.nonce=o==="0x"?0:D(o)),U(f)&&f!=="0x"&&(v.value=q(f)),U(s)&&s!=="0x"&&(v.maxFeePerGas=q(s)),U(n)&&n!=="0x"&&(v.maxPriorityFeePerGas=q(n)),d.length!==0&&d!=="0x"&&(v.accessList=Ls(d)),l.length!==0&&l!=="0x"&&(v.authorizationList=Td(l)),Vn(v),{...t.length===13?Fo(t):void 0,...v}}function wd(e){let t=Us(e),r=t.length===4,o=r?t[0]:t,n=r?t.slice(1):[],[s,u,m,f,p,d,l,g,b,w,v,E,P,T]=o,[B,I,C]=n;if(!(o.length===11||o.length===14))throw new Bt({attributes:{chainId:s,nonce:u,maxPriorityFeePerGas:m,maxFeePerGas:f,gas:p,to:d,value:l,data:g,accessList:b,...o.length>9?{v:E,r:P,s:T}:{}},serializedTransaction:e,type:"eip4844"});let k={blobVersionedHashes:v,chainId:D(s),to:d,type:"eip4844"};return U(p)&&p!=="0x"&&(k.gas=q(p)),U(g)&&g!=="0x"&&(k.data=g),U(u)&&(k.nonce=u==="0x"?0:D(u)),U(l)&&l!=="0x"&&(k.value=q(l)),U(w)&&w!=="0x"&&(k.maxFeePerBlobGas=q(w)),U(f)&&f!=="0x"&&(k.maxFeePerGas=q(f)),U(m)&&m!=="0x"&&(k.maxPriorityFeePerGas=q(m)),b.length!==0&&b!=="0x"&&(k.accessList=Ls(b)),B&&I&&C&&(k.sidecars=Mt({blobs:B,commitments:I,proofs:C})),Wn(k),{...o.length===14?Fo(o):void 0,...k}}function vd(e){let t=Us(e),[r,o,n,s,u,m,f,p,d,l,g,b]=t;if(!(t.length===9||t.length===12))throw new Bt({attributes:{chainId:r,nonce:o,maxPriorityFeePerGas:n,maxFeePerGas:s,gas:u,to:m,value:f,data:p,accessList:d,...t.length>9?{v:l,r:g,s:b}:{}},serializedTransaction:e,type:"eip1559"});let w={chainId:D(r),type:"eip1559"};return U(m)&&m!=="0x"&&(w.to=m),U(u)&&u!=="0x"&&(w.gas=q(u)),U(p)&&p!=="0x"&&(w.data=p),U(o)&&(w.nonce=o==="0x"?0:D(o)),U(f)&&f!=="0x"&&(w.value=q(f)),U(s)&&s!=="0x"&&(w.maxFeePerGas=q(s)),U(n)&&n!=="0x"&&(w.maxPriorityFeePerGas=q(n)),d.length!==0&&d!=="0x"&&(w.accessList=Ls(d)),Wt(w),{...t.length===12?Fo(t):void 0,...w}}function Ed(e){let t=Us(e),[r,o,n,s,u,m,f,p,d,l,g]=t;if(!(t.length===8||t.length===11))throw new Bt({attributes:{chainId:r,nonce:o,gasPrice:n,gas:s,to:u,value:m,data:f,accessList:p,...t.length>8?{v:d,r:l,s:g}:{}},serializedTransaction:e,type:"eip2930"});let b={chainId:D(r),type:"eip2930"};return U(u)&&u!=="0x"&&(b.to=u),U(s)&&s!=="0x"&&(b.gas=q(s)),U(f)&&f!=="0x"&&(b.data=f),U(o)&&(b.nonce=o==="0x"?0:D(o)),U(m)&&m!=="0x"&&(b.value=q(m)),U(n)&&n!=="0x"&&(b.gasPrice=q(n)),p.length!==0&&p!=="0x"&&(b.accessList=Ls(p)),ho(b),{...t.length===11?Fo(t):void 0,...b}}function Pd(e){let t=Zn(e,"hex"),[r,o,n,s,u,m,f,p,d]=t;if(!(t.length===6||t.length===9))throw new Bt({attributes:{nonce:r,gasPrice:o,gas:n,to:s,value:u,data:m,...t.length>6?{v:f,r:p,s:d}:{}},serializedTransaction:e,type:"legacy"});let l={type:"legacy"};if(U(s)&&s!=="0x"&&(l.to=s),U(n)&&n!=="0x"&&(l.gas=q(n)),U(m)&&m!=="0x"&&(l.data=m),U(r)&&(l.nonce=r==="0x"?0:D(r)),U(u)&&u!=="0x"&&(l.value=q(u)),U(o)&&o!=="0x"&&(l.gasPrice=q(o)),yo(l),t.length===6)return l;let g=U(f)&&f!=="0x"?q(f):0n;if(d==="0x"&&p==="0x")return g>0&&(l.chainId=Number(g)),l;let b=g,w=Number((b-35n)/2n);if(w>0)l.chainId=w;else if(b!==27n&&b!==28n)throw new jr({v:b});return l.v=b,l.s=d,l.r=p,l.yParity=b%2n===0n?1:0,l}function Us(e){return Zn(`0x${e.slice(4)}`,"hex")}function Ls(e){let t=[];for(let r=0;r<e.length;r++){let[o,n]=e[r];if(!le(o,{strict:!1}))throw new be({address:o});t.push({address:o,storageKeys:n.map(s=>Ui(s)?s:Ce(s))})}return t}function Td(e){let t=[];for(let r=0;r<e.length;r++){let[o,n,s,u,m,f]=e[r];t.push({address:n,chainId:o==="0x"?0:D(o),nonce:s==="0x"?0:D(s),...Fo([u,m,f])})}return t}function Fo(e){let t=e.slice(-3),r=t[0]==="0x"||q(t[0])===0n?27n:28n;return{r:Mr(t[1],{size:32}),s:Mr(t[2],{size:32}),v:r,yParity:r===27n?0:1}}i();c();a();i();c();a();i();c();a();var No=class extends H{constructor({value:t}){super(`Number \`${t}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}};function Ho(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new No({value:e});let[r,o="0"]=e.split("."),n=r.startsWith("-");if(n&&(r=r.slice(1)),o=o.replace(/(0+)$/,""),t===0)Math.round(+`.${o}`)===1&&(r=`${BigInt(r)+1n}`),o="";else if(o.length>t){let[s,u,m]=[o.slice(0,t-1),o.slice(t-1,t),o.slice(t)],f=Math.round(+`${u}.${m}`);f>9?o=`${BigInt(s)+BigInt(1)}0`.padStart(s.length+1,"0"):o=`${s}${f}`,o.length>t&&(o=o.slice(1),r=`${BigInt(r)+1n}`),o=o.slice(0,t)}else o=o.padEnd(t,"0");return BigInt(`${n?"-":""}${r}${o}`)}function Ad(e,t="wei"){return Ho(e,ti[t])}i();c();a();function Id(e,t="wei"){return Ho(e,ri[t])}function kd(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function Ku(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?D(e.nonce):void 0,storageProof:e.storageProof?kd(e.storageProof):void 0}}async function Zu(e,{address:t,blockNumber:r,blockTag:o,storageKeys:n}){let s=o??"latest",u=r!==void 0?A(r):void 0,m=await e.request({method:"eth_getProof",params:[t,n,u||s]});return Ku(m)}i();c();a();async function Ju(e,{address:t,blockNumber:r,blockTag:o="latest",slot:n}){let s=r!==void 0?A(r):void 0;return await e.request({method:"eth_getStorageAt",params:[t,n,s||o]})}i();c();a();async function Hr(e,{blockHash:t,blockNumber:r,blockTag:o,hash:n,index:s,sender:u,nonce:m}){let f=o||"latest",p=r!==void 0?A(r):void 0,d=null;if(n?d=await e.request({method:"eth_getTransactionByHash",params:[n]},{dedupe:!0}):t?d=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,A(s)]},{dedupe:!0}):(p||f)&&typeof s=="number"?d=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[p||f,A(s)]},{dedupe:!!p}):u&&typeof m=="number"&&(d=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[u,A(m)]},{dedupe:!0})),!d)throw new Vr({blockHash:t,blockNumber:r,blockTag:f,hash:n,index:s});return(e.chain?.formatters?.transaction?.format||dt)(d,"getTransaction")}i();c();a();async function Yu(e,{hash:t,transactionReceipt:r}){let[o,n]=await Promise.all([S(e,Oe,"getBlockNumber")({}),t?S(e,Hr,"getTransaction")({hash:t}):void 0]),s=r?.blockNumber||n?.blockNumber;return s?o-s+1n:0n}i();c();a();async function zr(e,{hash:t}){let r=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!r)throw new Wr({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||vr)(r,"getTransactionReceipt")}i();c();a();async function Qu(e,t){let{account:r,authorizationList:o,allowFailure:n=!0,blockNumber:s,blockOverrides:u,blockTag:m,stateOverride:f}=t,p=t.contracts,{batchSize:d=t.batchSize??1024,deployless:l=t.deployless??!1}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},g=(()=>{if(t.multicallAddress)return t.multicallAddress;if(l)return null;if(e.chain)return _e({blockNumber:s,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),b=[[]],w=0,v=0;for(let T=0;T<p.length;T++){let{abi:B,address:I,args:C,functionName:k}=p[T];try{let R=J({abi:B,args:C,functionName:k});v+=(R.length-2)/2,d>0&&v>d&&b[w].length>0&&(w++,v=(R.length-2)/2,b[w]=[]),b[w]=[...b[w],{allowFailure:!0,callData:R,target:I}]}catch(R){let N=ve(R,{abi:B,address:I,args:C,docsPath:"/docs/contract/multicall",functionName:k,sender:r});if(!n)throw N;b[w]=[...b[w],{allowFailure:!0,callData:"0x",target:I}]}}let E=await Promise.allSettled(b.map(T=>S(e,ee,"readContract")({...g===null?{code:gn}:{address:g},abi:eo,account:r,args:[T],authorizationList:o,blockNumber:s,blockOverrides:u,blockTag:m,functionName:"aggregate3",stateOverride:f}))),P=[];for(let T=0;T<E.length;T++){let B=E[T];if(B.status==="rejected"){if(!n)throw B.reason;for(let C=0;C<b[T].length;C++)P.push({status:"failure",error:B.reason,result:void 0});continue}let I=B.value;for(let C=0;C<I.length;C++){let{returnData:k,success:R}=I[C],{callData:N}=b[T][C],{abi:z,address:F,functionName:L,args:_}=p[P.length];try{if(N==="0x")throw new At;if(!R)throw new Ct({data:k});let Z=Te({abi:z,args:_,data:k,functionName:L});P.push(n?{result:Z,status:"success"}:Z)}catch(Z){let re=ve(Z,{abi:z,address:F,args:_,docsPath:"/docs/contract/multicall",functionName:L});if(!n)throw re;P.push({error:re,result:void 0,status:"failure"})}}}if(P.length!==p.length)throw new H("multicall results mismatch");return P}i();c();a();async function zo(e,t){let{blockNumber:r,blockTag:o=e.experimental_blockTag??"latest",blocks:n,returnFullTransactions:s,traceTransfers:u,validation:m}=t;try{let f=[];for(let g of n){let b=g.blockOverrides?rc(g.blockOverrides):void 0,w=g.calls.map(E=>{let P=E,T=P.account?G(P.account):void 0,B=P.abi?J(P):P.data,I={...P,account:T,data:P.dataSuffix?we([B||"0x",P.dataSuffix]):B,from:P.from??T?.address};return me(I),ue(I)}),v=g.stateOverrides?pn(g.stateOverrides):void 0;f.push({blockOverrides:b,calls:w,stateOverrides:v})}let d=(typeof r=="bigint"?A(r):void 0)||o;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:f,returnFullTransactions:s,traceTransfers:u,validation:m},d]})).map((g,b)=>({...dr(g),calls:g.calls.map((w,v)=>{let{abi:E,args:P,functionName:T,to:B}=n[b].calls[v],I=w.error?.data??w.returnData,C=BigInt(w.gasUsed),k=w.logs?.map(F=>pe(F)),R=w.status==="0x1"?"success":"failure",N=E&&R==="success"&&I!=="0x"?Te({abi:E,data:I,functionName:T}):null,z=(()=>{if(R==="success")return;let F;if(w.error?.data==="0x"?F=new At:w.error&&(F=new Ct(w.error)),!!F)return ve(F,{abi:E??[],address:B??"0x",args:P,functionName:T??"<unknown>"})})();return{data:I,gasUsed:C,logs:k,status:R,...R==="success"?{result:N}:{error:z}}})}))}catch(f){let p=f,d=sr(p,{});throw d instanceof Nt?p:d}}i();c();a();i();c();a();i();c();a();i();c();a();function $s(e){let t=!0,r="",o=0,n="",s=!1;for(let u=0;u<e.length;u++){let m=e[u];if(["(",")",","].includes(m)&&(t=!0),m==="("&&o++,m===")"&&o--,!!t){if(o===0){if(m===" "&&["event","function","error",""].includes(n))n="";else if(n+=m,m===")"){s=!0;break}continue}if(m===" "){e[u-1]!==","&&r!==","&&r!==",("&&(r="",t=!1);continue}n+=m,r+=m}}if(!s)throw new $("Unable to normalize signature.");return n}function qs(e,t){let r=typeof e,o=t.type;switch(o){case"address":return As(e,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return o==="tuple"&&"components"in t?Object.values(t.components).every((n,s)=>qs(Object.values(e)[s],n)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(o)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(o)?r==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(o)?Array.isArray(e)&&e.every(n=>qs(n,{...t,type:o.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Ba(e,t,r){for(let o in e){let n=e[o],s=t[o];if(n.type==="tuple"&&s.type==="tuple"&&"components"in n&&"components"in s)return Ba(n.components,s.components,r[o]);let u=[n.type,s.type];if(u.includes("address")&&u.includes("bytes20")?!0:u.includes("address")&&u.includes("string")?As(r[o],{strict:!1}):u.includes("address")&&u.includes("bytes")?As(r[o],{strict:!1}):!1)return u}}function Ms(e,t={}){let{prepare:r=!0}=t,o=Array.isArray(e)?xs(e):typeof e=="string"?xs(e):e;return{...o,...r?{hash:_r(o)}:{}}}function _o(e,t,r){let{args:o=[],prepare:n=!0}=r??{},s=ur(t,{strict:!1}),u=e.filter(p=>s?p.type==="function"||p.type==="error"?Sa(p)===Q(t,0,4):p.type==="event"?_r(p)===t:!1:"name"in p&&p.name===t);if(u.length===0)throw new Et({name:t});if(u.length===1)return{...u[0],...n?{hash:_r(u[0])}:{}};let m;for(let p of u){if(!("inputs"in p))continue;if(!o||o.length===0){if(!p.inputs||p.inputs.length===0)return{...p,...n?{hash:_r(p)}:{}};continue}if(!p.inputs||p.inputs.length===0||p.inputs.length!==o.length)continue;if(o.every((l,g)=>{let b="inputs"in p&&p.inputs[g];return b?qs(l,b):!1})){if(m&&"inputs"in m&&m.inputs){let l=Ba(p.inputs,m.inputs,o);if(l)throw new Ca({abiItem:p,type:l[0]},{abiItem:m,type:l[1]})}m=p}}let f=(()=>{if(m)return m;let[p,...d]=u;return{...p,overloads:d}})();if(!f)throw new Et({name:t});return{...f,...n?{hash:_r(f)}:{}}}function Sa(...e){let t=(()=>{if(Array.isArray(e[0])){let[r,o]=e;return _o(r,o)}return e[0]})();return Q(_r(t),0,4)}function Fd(...e){let t=(()=>{if(Array.isArray(e[0])){let[o,n]=e;return _o(o,n)}return e[0]})(),r=typeof t=="string"?t:Ao(t);return $s(r)}function _r(...e){let t=(()=>{if(Array.isArray(e[0])){let[r,o]=e;return _o(r,o)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:Zt(cr(Fd(t)))}var Ca=class extends ${constructor(t,r){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${$s(Ao(t.abiItem))}\`, and`,`\`${r.type}\` in \`${$s(Ao(r.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}},Et=class extends ${constructor({name:t,data:r,type:o="item"}){let n=t?` with name "${t}"`:r?` with data "${r}"`:"";super(`ABI ${o}${n} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}};function em(...e){let[t,r]=(()=>{if(Array.isArray(e[0])){let[s,u]=e;return[Nd(s),u]}return e})(),{bytecode:o,args:n}=r;return Y(o,t.inputs?.length&&n?.length?vt(t.inputs,n):"0x")}function tm(e){return Ms(e)}function Nd(e){let t=e.find(r=>r.type==="constructor");if(!t)throw new Et({name:"constructor"});return t}i();c();a();function om(...e){let[t,r=[]]=(()=>{if(Array.isArray(e[0])){let[p,d,l]=e;return[rm(p,d,{args:l}),l]}let[m,f]=e;return[m,f]})(),{overloads:o}=t,n=o?rm([t,...o],t.name,{args:r}):t,s=zd(n),u=r.length>0?vt(n.inputs,r):void 0;return u?Y(s,u):s}function Yt(e,t={}){return Ms(e,t)}function rm(e,t,r){let o=_o(e,t,r);if(o.type!=="function")throw new Et({name:t,type:"function"});return o}function zd(e){return Sa(e)}i();c();a();var ka="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Ne="0x0000000000000000000000000000000000000000";var Ud="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function nm(e,t){let{blockNumber:r,blockTag:o,calls:n,stateOverrides:s,traceAssetChanges:u,traceTransfers:m,validation:f}=t,p=t.account?G(t.account):void 0;if(u&&!p)throw new H("`account` is required when `traceAssetChanges` is true");let d=p?em(tm("constructor(bytes, bytes)"),{bytecode:gi,args:[Ud,om(Yt("function getBalance(address)"),[p.address])]}):void 0,l=u?await Promise.all(t.calls.map(async M=>{if(!M.data&&!M.abi)return;let{accessList:xe}=await Mn(e,{account:p.address,...M,data:M.abi?J(M):M.data});return xe.map(({address:qr,storageKeys:Lo})=>Lo.length>0?qr:null)})).then(M=>M.flat().filter(Boolean)):[],g=await zo(e,{blockNumber:r,blockTag:o,blocks:[...u?[{calls:[{data:d}],stateOverrides:s},{calls:l.map((M,xe)=>({abi:[Yt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[p.address],to:M,from:Ne,nonce:xe})),stateOverrides:[{address:Ne,nonce:0}]}]:[],{calls:[...n,{}].map(M=>({...M,from:p?.address})),stateOverrides:s},...u?[{calls:[{data:d}]},{calls:l.map((M,xe)=>({abi:[Yt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[p.address],to:M,from:Ne,nonce:xe})),stateOverrides:[{address:Ne,nonce:0}]},{calls:l.map((M,xe)=>({to:M,abi:[Yt("function decimals() returns (uint256)")],functionName:"decimals",from:Ne,nonce:xe})),stateOverrides:[{address:Ne,nonce:0}]},{calls:l.map((M,xe)=>({to:M,abi:[Yt("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Ne,nonce:xe})),stateOverrides:[{address:Ne,nonce:0}]},{calls:l.map((M,xe)=>({to:M,abi:[Yt("function symbol() returns (string)")],functionName:"symbol",from:Ne,nonce:xe})),stateOverrides:[{address:Ne,nonce:0}]}]:[]],traceTransfers:m,validation:f}),b=u?g[2]:g[0],[w,v,,E,P,T,B,I]=u?g:[],{calls:C,...k}=b,R=C.slice(0,-1)??[],N=w?.calls??[],z=v?.calls??[],F=[...N,...z].map(M=>M.status==="success"?q(M.data):null),L=E?.calls??[],_=P?.calls??[],Z=[...L,..._].map(M=>M.status==="success"?q(M.data):null),re=(T?.calls??[]).map(M=>M.status==="success"?M.result:null),Be=(I?.calls??[]).map(M=>M.status==="success"?M.result:null),Lr=(B?.calls??[]).map(M=>M.status==="success"?M.result:null),Tt=[];for(let[M,xe]of Z.entries()){let qr=F[M];if(typeof xe!="bigint"||typeof qr!="bigint")continue;let Lo=re[M-1],ff=Be[M-1],pf=Lr[M-1],$a=M===0?{address:ka,decimals:18,symbol:"ETH"}:{address:l[M-1],decimals:pf||Lo?Number(Lo??1):void 0,symbol:ff??void 0};Tt.some(df=>df.token.address===$a.address)||Tt.push({token:$a,value:{pre:qr,post:xe,diff:xe-qr}})}return{assetChanges:Tt,block:k,results:R}}i();c();a();i();c();a();var Uo={};Ma(Uo,{InvalidWrappedSignatureError:()=>Gs,assert:()=>Fa,from:()=>$d,magicBytes:()=>Ra,universalSignatureValidatorAbi:()=>qd,universalSignatureValidatorBytecode:()=>Ld,unwrap:()=>sm,validate:()=>Gd,wrap:()=>Md});i();c();a();var Ra="0x6492649264926492649264926492649264926492649264926492649264926492",Ld="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",qd=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}];function Fa(e){if(Q(e,-32)!==Ra)throw new Gs(e)}function $d(e){return typeof e=="string"?sm(e):e}function sm(e){Fa(e);let[t,r,o]=Fr(ko("address, bytes, bytes"),e);return{data:r,signature:o,to:t}}function Md(e){let{data:t,signature:r,to:o}=e;return Y(vt(ko("address, bytes, bytes"),[o,t,r]),Ra)}function Gd(e){try{return Fa(e),!0}catch{return!1}}var Gs=class extends ${constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}};i();c();a();function Ds({r:e,s:t,to:r="hex",v:o,yParity:n}){let s=(()=>{if(n===0||n===1)return n;if(o&&(o===27n||o===28n||o>=35n))return o%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),u=`0x${new ze.Signature(q(e),q(t)).toCompactHex()}${s===0?"1b":"1c"}`;return r==="hex"?u:K(u)}async function Pt(e,t){let{address:r,chain:o=e.chain,hash:n,erc6492VerifierAddress:s=t.universalSignatureVerifierAddress??o?.contracts?.erc6492Verifier?.address,multicallAddress:u=t.multicallAddress??o?.contracts?.multicall3?.address}=t;if(o?.verifyHash)return await o.verifyHash(e,t);let m=(()=>{let f=t.signature;return U(f)?f:typeof f=="object"&&"r"in f&&"s"in f?Ds(f):O(f)})();try{return qe.validate(m)?await Dd(e,{...t,multicallAddress:u,signature:m}):await Od(e,{...t,verifierAddress:s,signature:m})}catch(f){try{if(fe(oe(r),await Ae({hash:n,signature:m})))return!0}catch{}if(f instanceof et)return!1;throw f}}async function Dd(e,t){let{address:r,blockNumber:o,blockTag:n,hash:s,multicallAddress:u}=t,{authorization:m,data:f,signature:p,to:d}=qe.unwrap(t.signature);if(await lo(e,{address:r,blockNumber:o,blockTag:n})===ge(["0xef0100",m.address]))return await jd(e,{address:r,blockNumber:o,blockTag:n,hash:s,signature:p});let g={address:m.address,chainId:Number(m.chainId),nonce:Number(m.nonce),r:A(m.r,{size:32}),s:A(m.s,{size:32}),yParity:m.yParity};if(!await Gc({address:r,authorization:g}))throw new et;let w=await S(e,ee,"readContract")({...u?{address:u}:{code:gn},authorizationList:[g],abi:eo,blockNumber:o,blockTag:"pending",functionName:"aggregate3",args:[[...f?[{allowFailure:!0,target:d??r,callData:f}]:[],{allowFailure:!0,target:r,callData:J({abi:xi,functionName:"isValidSignature",args:[s,p]})}]]});if(w[w.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new et}async function Od(e,t){let{address:r,factory:o,factoryData:n,hash:s,signature:u,verifierAddress:m,...f}=t,p=await(async()=>!o&&!n||Uo.validate(u)?u:Uo.wrap({data:n,signature:u,to:o}))(),d=m?{to:m,data:J({abi:to,functionName:"isValidSig",args:[r,s,p]}),...f}:{data:ro({abi:to,args:[r,s,p],bytecode:xn}),...f},{data:l}=await S(e,mt,"call")(d).catch(g=>{throw g instanceof ui?new et:g});if(Go(l??"0x0"))return!0;throw new et}async function jd(e,t){let{address:r,blockNumber:o,blockTag:n,hash:s,signature:u}=t;if((await S(e,ee,"readContract")({address:r,abi:xi,args:[s,u],blockNumber:o,blockTag:n,functionName:"isValidSignature"}).catch(f=>{throw f instanceof Kr?new et:f})).startsWith("0x1626ba7e"))return!0;throw new et}var et=class extends Error{};i();c();a();async function im(e,{address:t,message:r,factory:o,factoryData:n,signature:s,...u}){let m=Kt(r);return S(e,Pt,"verifyHash")({address:t,factory:o,factoryData:n,hash:m,signature:s,...u})}i();c();a();async function am(e,t){let{address:r,factory:o,factoryData:n,signature:s,message:u,primaryType:m,types:f,domain:p,...d}=t,l=To({message:u,primaryType:m,types:f,domain:p});return S(e,Pt,"verifyHash")({address:r,factory:o,factoryData:n,hash:l,signature:s,...d})}i();c();a();i();c();a();function Os(e,{emitOnBegin:t=!1,emitMissed:r=!1,onBlockNumber:o,onError:n,poll:s,pollingInterval:u=e.pollingInterval}){let m=typeof s<"u"?s:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),f;return m?(()=>{let l=V(["watchBlockNumber",e.uid,t,r,u]);return ye(l,{onBlockNumber:o,onError:n},g=>ke(async()=>{try{let b=await S(e,Oe,"getBlockNumber")({cacheTime:0});if(f!==void 0){if(b===f)return;if(b-f>1&&r)for(let w=f+1n;w<b;w++)g.onBlockNumber(w,f),f=w}(f===void 0||b>f)&&(g.onBlockNumber(b,f),f=b)}catch(b){g.onError?.(b)}},{emitOnBegin:t,interval:u}))})():(()=>{let l=V(["watchBlockNumber",e.uid,t,r]);return ye(l,{onBlockNumber:o,onError:n},g=>{let b=!0,w=()=>b=!1;return(async()=>{try{let v=(()=>{if(e.transport.type==="fallback"){let P=e.transport.transports.find(T=>T.config.type==="webSocket"||T.config.type==="ipc");return P?P.value:e.transport}return e.transport})(),{unsubscribe:E}=await v.subscribe({params:["newHeads"],onData(P){if(!b)return;let T=q(P.result?.number);g.onBlockNumber(T,f),f=T},onError(P){g.onError?.(P)}});w=E,b||w()}catch(v){n?.(v)}})(),()=>w()})})()}async function js(e,t){let{checkReplacement:r=!0,confirmations:o=1,hash:n,onReplaced:s,retryCount:u=6,retryDelay:m=({count:C})=>~~(1<<C)*200,timeout:f=18e4}=t,p=V(["waitForTransactionReceipt",e.uid,n]),d=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval,l,g,b,w=!1,v,E,{promise:P,resolve:T,reject:B}=bn(),I=f?setTimeout(()=>{E?.(),v?.(),B(new ci({hash:n}))},f):void 0;return v=ye(p,{onReplaced:s,resolve:T,reject:B},async C=>{if(b=await S(e,zr,"getTransactionReceipt")({hash:n}).catch(()=>{}),b&&o<=1){clearTimeout(I),C.resolve(b),v?.();return}E=S(e,Os,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:d,async onBlockNumber(k){let R=z=>{clearTimeout(I),E?.(),z(),v?.()},N=k;if(!w)try{if(b){if(o>1&&(!b.blockNumber||N-b.blockNumber+1n<o))return;R(()=>C.resolve(b));return}if(r&&!l&&(w=!0,await wt(async()=>{l=await S(e,Hr,"getTransaction")({hash:n}),l.blockNumber&&(N=l.blockNumber)},{delay:m,retryCount:u}),w=!1),b=await S(e,zr,"getTransactionReceipt")({hash:n}),o>1&&(!b.blockNumber||N-b.blockNumber+1n<o))return;R(()=>C.resolve(b))}catch(z){if(z instanceof Vr||z instanceof Wr){if(!l){w=!1;return}try{g=l,w=!0;let F=await wt(()=>S(e,ae,"getBlock")({blockNumber:N,includeTransactions:!0}),{delay:m,retryCount:u,shouldRetry:({error:Z})=>Z instanceof Lt});w=!1;let L=F.transactions.find(({from:Z,nonce:re})=>Z===g.from&&re===g.nonce);if(!L||(b=await S(e,zr,"getTransactionReceipt")({hash:L.hash}),o>1&&(!b.blockNumber||N-b.blockNumber+1n<o)))return;let _="replaced";L.to===g.to&&L.value===g.value&&L.input===g.input?_="repriced":L.from===L.to&&L.value===0n&&(_="cancelled"),R(()=>{C.onReplaced?.({reason:_,replacedTransaction:g,transaction:L,transactionReceipt:b}),C.resolve(b)})}catch(F){R(()=>C.reject(F))}}else R(()=>C.reject(z))}}})}),P}i();c();a();function cm(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:r=!1,emitOnBegin:o=!1,onBlock:n,onError:s,includeTransactions:u,poll:m,pollingInterval:f=e.pollingInterval}){let p=typeof m<"u"?m:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),d=u??!1,l;return p?(()=>{let w=V(["watchBlocks",e.uid,t,r,o,d,f]);return ye(w,{onBlock:n,onError:s},v=>ke(async()=>{try{let E=await S(e,ae,"getBlock")({blockTag:t,includeTransactions:d});if(E.number!==null&&l?.number!=null){if(E.number===l.number)return;if(E.number-l.number>1&&r)for(let P=l?.number+1n;P<E.number;P++){let T=await S(e,ae,"getBlock")({blockNumber:P,includeTransactions:d});v.onBlock(T,l),l=T}}(l?.number==null||t==="pending"&&E?.number==null||E.number!==null&&E.number>l.number)&&(v.onBlock(E,l),l=E)}catch(E){v.onError?.(E)}},{emitOnBegin:o,interval:f}))})():(()=>{let w=!0,v=!0,E=()=>w=!1;return(async()=>{try{o&&S(e,ae,"getBlock")({blockTag:t,includeTransactions:d}).then(B=>{w&&v&&(n(B,void 0),v=!1)}).catch(s);let P=(()=>{if(e.transport.type==="fallback"){let B=e.transport.transports.find(I=>I.config.type==="webSocket"||I.config.type==="ipc");return B?B.value:e.transport}return e.transport})(),{unsubscribe:T}=await P.subscribe({params:["newHeads"],async onData(B){if(!w)return;let I=await S(e,ae,"getBlock")({blockNumber:B.result?.number,includeTransactions:d}).catch(()=>{});w&&(n(I,l),v=!1,l=I)},onError(B){s?.(B)}});E=T,w||E()}catch(P){s?.(P)}})(),()=>E()})()}i();c();a();function um(e,{address:t,args:r,batch:o=!0,event:n,events:s,fromBlock:u,onError:m,onLogs:f,poll:p,pollingInterval:d=e.pollingInterval,strict:l}){let g=typeof p<"u"?p:typeof u=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),b=l??!1;return g?(()=>{let E=V(["watchEvent",t,r,o,e.uid,n,d,u]);return ye(E,{onLogs:f,onError:m},P=>{let T;u!==void 0&&(T=u-1n);let B,I=!1,C=ke(async()=>{if(!I){try{B=await S(e,Gn,"createEventFilter")({address:t,args:r,event:n,events:s,strict:b,fromBlock:u})}catch{}I=!0;return}try{let k;if(B)k=await S(e,xt,"getFilterChanges")({filter:B});else{let R=await S(e,Oe,"getBlockNumber")({});T&&T!==R?k=await S(e,gr,"getLogs")({address:t,args:r,event:n,events:s,fromBlock:T+1n,toBlock:R}):k=[],T=R}if(k.length===0)return;if(o)P.onLogs(k);else for(let R of k)P.onLogs([R])}catch(k){B&&k instanceof Me&&(I=!1),P.onError?.(k)}},{emitOnBegin:!0,interval:d});return async()=>{B&&await S(e,gt,"uninstallFilter")({filter:B}),C()}})})():(()=>{let E=!0,P=()=>E=!1;return(async()=>{try{let T=(()=>{if(e.transport.type==="fallback"){let k=e.transport.transports.find(R=>R.config.type==="webSocket"||R.config.type==="ipc");return k?k.value:e.transport}return e.transport})(),B=s??(n?[n]:void 0),I=[];B&&(I=[B.flatMap(R=>Ue({abi:[R],eventName:R.name,args:r}))],n&&(I=I[0]));let{unsubscribe:C}=await T.subscribe({params:["logs",{address:t,topics:I}],onData(k){if(!E)return;let R=k.result;try{let{eventName:N,args:z}=yt({abi:B??[],data:R.data,topics:R.topics,strict:b}),F=pe(R,{args:z,eventName:N});f([F])}catch(N){let z,F;if(N instanceof rt||N instanceof It){if(l)return;z=N.abiItem.name,F=N.abiItem.inputs?.some(_=>!("name"in _&&_.name))}let L=pe(R,{args:F?[]:{},eventName:z});f([L])}},onError(k){m?.(k)}});P=C,E||P()}catch(T){m?.(T)}})(),()=>P()})()}i();c();a();function mm(e,{batch:t=!0,onError:r,onTransactions:o,poll:n,pollingInterval:s=e.pollingInterval}){return(typeof n<"u"?n:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{let p=V(["watchPendingTransactions",e.uid,t,s]);return ye(p,{onTransactions:o,onError:r},d=>{let l,g=ke(async()=>{try{if(!l)try{l=await S(e,Dn,"createPendingTransactionFilter")({});return}catch(w){throw g(),w}let b=await S(e,xt,"getFilterChanges")({filter:l});if(b.length===0)return;if(t)d.onTransactions(b);else for(let w of b)d.onTransactions([w])}catch(b){d.onError?.(b)}},{emitOnBegin:!0,interval:s});return async()=>{l&&await S(e,gt,"uninstallFilter")({filter:l}),g()}})})():(()=>{let p=!0,d=()=>p=!1;return(async()=>{try{let{unsubscribe:l}=await e.transport.subscribe({params:["newPendingTransactions"],onData(g){if(!p)return;let b=g.result;o([b])},onError(g){r?.(g)}});d=l,p||d()}catch(l){r?.(l)}})(),()=>d()})()}i();c();a();i();c();a();function fm(e){let{scheme:t,statement:r,...o}=e.match(Vd)?.groups??{},{chainId:n,expirationTime:s,issuedAt:u,notBefore:m,requestId:f,...p}=e.match(Wd)?.groups??{},d=e.split("Resources:")[1]?.split(`
- `).slice(1);return{...o,...p,...n?{chainId:Number(n)}:{},...s?{expirationTime:new Date(s)}:{},...u?{issuedAt:new Date(u)}:{},...m?{notBefore:new Date(m)}:{},...f?{requestId:f}:{},...d?{resources:d}:{},...t?{scheme:t}:{},...r?{statement:r}:{}}}var Vd=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Wd=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;i();c();a();function pm(e){let{address:t,domain:r,message:o,nonce:n,scheme:s,time:u=new Date}=e;if(r&&o.domain!==r||n&&o.nonce!==n||s&&o.scheme!==s||o.expirationTime&&u>=o.expirationTime||o.notBefore&&u<o.notBefore)return!1;try{if(!o.address||!le(o.address,{strict:!1})||t&&!fe(o.address,t))return!1}catch{return!1}return!0}async function dm(e,t){let{address:r,domain:o,message:n,nonce:s,scheme:u,signature:m,time:f=new Date,...p}=t,d=fm(n);if(!d.address||!pm({address:r,domain:o,message:d,nonce:s,scheme:u,time:f}))return!1;let g=Kt(n);return Pt(e,{address:d.address,hash:g,signature:m,...p})}i();c();a();async function Ur(e,{serializedTransaction:t,throwOnReceiptRevert:r,timeout:o}){let n=await e.request({method:"eth_sendRawTransactionSync",params:o?[t,A(o)]:[t]},{retryCount:0}),u=(e.chain?.formatters?.transactionReceipt?.format||vr)(n);if(u.status==="reverted"&&r)throw new Vo({receipt:u});return u}function Na(e){return{call:t=>mt(e,t),createAccessList:t=>Mn(e,t),createBlockFilter:()=>kc(e),createContractEventFilter:t=>pr(e,t),createEventFilter:t=>Gn(e,t),createPendingTransactionFilter:()=>Dn(e),estimateContractGas:t=>In(e,t),estimateGas:t=>xr(e,t),getBalance:t=>Rc(e,t),getBlobBaseFee:()=>Fc(e),getBlock:t=>ae(e,t),getBlockNumber:t=>Oe(e,t),getBlockTransactionCount:t=>Nc(e,t),getBytecode:t=>lo(e,t),getChainId:()=>he(e),getCode:t=>lo(e,t),getContractEvents:t=>br(e,t),getEip712Domain:t=>Hc(e,t),getEnsAddress:t=>vc(e,t),getEnsAvatar:t=>Bc(e,t),getEnsName:t=>Cc(e,t),getEnsResolver:t=>Sc(e,t),getEnsText:t=>$n(e,t),getFeeHistory:t=>_c(e,t),estimateFeesPerGas:t=>hc(e,t),getFilterChanges:t=>xt(e,t),getFilterLogs:t=>Uc(e,t),getGasPrice:()=>lr(e),getLogs:t=>gr(e,t),getProof:t=>Zu(e,t),estimateMaxPriorityFeePerGas:t=>lc(e,t),fillTransaction:t=>yr(e,t),getStorageAt:t=>Ju(e,t),getTransaction:t=>Hr(e,t),getTransactionConfirmations:t=>Yu(e,t),getTransactionCount:t=>lt(e,t),getTransactionReceipt:t=>zr(e,t),multicall:t=>Qu(e,t),prepareTransactionRequest:t=>De(e,t),readContract:t=>ee(e,t),sendRawTransaction:t=>wr(e,t),sendRawTransactionSync:t=>Ur(e,t),simulate:t=>zo(e,t),simulateBlocks:t=>zo(e,t),simulateCalls:t=>nm(e,t),simulateContract:t=>Bn(e,t),verifyHash:t=>Pt(e,t),verifyMessage:t=>im(e,t),verifySiweMessage:t=>dm(e,t),verifyTypedData:t=>am(e,t),uninstallFilter:t=>gt(e,t),waitForTransactionReceipt:t=>js(e,t),watchBlocks:t=>cm(e,t),watchBlockNumber:t=>Os(e,t),watchContractEvent:t=>Cn(e,t),watchEvent:t=>um(e,t),watchPendingTransactions:t=>mm(e,t)}}function Kd(e){let{key:t="public",name:r="Public Client"}=e;return jt({...e,key:t,name:r,type:"publicClient"}).extend(Na)}i();c();a();i();c();a();i();c();a();async function lm(e,{hash:t}){await e.request({method:`${e.mode}_dropTransaction`,params:[t]})}i();c();a();async function hm(e){return e.request({method:`${e.mode}_dumpState`})}i();c();a();async function ym(e){return e.mode==="ganache"?await e.request({method:"eth_mining"}):await e.request({method:`${e.mode}_getAutomine`})}i();c();a();async function xm(e){return await e.request({method:"txpool_content"})}i();c();a();async function gm(e){let{pending:t,queued:r}=await e.request({method:"txpool_status"});return{pending:D(t),queued:D(r)}}i();c();a();async function bm(e,{address:t}){await e.request({method:`${e.mode}_impersonateAccount`,params:[t]})}i();c();a();async function wm(e,{seconds:t}){return await e.request({method:"evm_increaseTime",params:[A(t)]})}i();c();a();async function vm(e){return await e.request({method:"txpool_inspect"})}i();c();a();async function Em(e,{state:t}){await e.request({method:`${e.mode}_loadState`,params:[t]})}i();c();a();async function Pm(e,{blocks:t,interval:r}){e.mode==="ganache"?await e.request({method:"evm_mine",params:[{blocks:A(t)}]}):await e.request({method:`${e.mode}_mine`,params:[A(t),A(r||0)]})}i();c();a();async function Tm(e){await e.request({method:`${e.mode}_removeBlockTimestampInterval`})}i();c();a();async function Am(e,{blockNumber:t,jsonRpcUrl:r}={}){await e.request({method:`${e.mode}_reset`,params:[{forking:{blockNumber:Number(t),jsonRpcUrl:r}}]})}i();c();a();async function Im(e,{id:t}){await e.request({method:"evm_revert",params:[t]})}i();c();a();async function Bm(e,t){let{accessList:r,data:o,from:n,gas:s,gasPrice:u,maxFeePerGas:m,maxPriorityFeePerGas:f,nonce:p,to:d,value:l,...g}=t,b=e.chain?.formatters?.transactionRequest?.format,v=(b||ue)({...Se(g,{format:b}),accessList:r,data:o,from:n,gas:s,gasPrice:u,maxFeePerGas:m,maxPriorityFeePerGas:f,nonce:p,to:d,value:l},"sendUnsignedTransaction");return await e.request({method:"eth_sendUnsignedTransaction",params:[v]})}i();c();a();async function Cm(e,t){e.mode==="ganache"?t?await e.request({method:"miner_start"}):await e.request({method:"miner_stop"}):await e.request({method:"evm_setAutomine",params:[t]})}i();c();a();async function Sm(e,{address:t,value:r}){e.mode==="ganache"?await e.request({method:"evm_setAccountBalance",params:[t,A(r)]}):await e.request({method:`${e.mode}_setBalance`,params:[t,A(r)]})}i();c();a();async function km(e,{gasLimit:t}){await e.request({method:"evm_setBlockGasLimit",params:[A(t)]})}i();c();a();async function Rm(e,{interval:t}){let r=e.mode==="hardhat"?t*1e3:t;await e.request({method:`${e.mode}_setBlockTimestampInterval`,params:[r]})}i();c();a();async function Fm(e,{address:t,bytecode:r}){e.mode==="ganache"?await e.request({method:"evm_setAccountCode",params:[t,r]}):await e.request({method:`${e.mode}_setCode`,params:[t,r]})}i();c();a();async function Nm(e,{address:t}){await e.request({method:`${e.mode}_setCoinbase`,params:[t]})}i();c();a();async function Hm(e,{interval:t}){let r=e.mode==="hardhat"?t*1e3:t;await e.request({method:"evm_setIntervalMining",params:[r]})}i();c();a();async function zm(e,t){await e.request({method:`${e.mode}_setLoggingEnabled`,params:[t]})}i();c();a();async function _m(e,{gasPrice:t}){await e.request({method:`${e.mode}_setMinGasPrice`,params:[A(t)]})}i();c();a();async function Um(e,{baseFeePerGas:t}){await e.request({method:`${e.mode}_setNextBlockBaseFeePerGas`,params:[A(t)]})}i();c();a();async function Lm(e,{timestamp:t}){await e.request({method:"evm_setNextBlockTimestamp",params:[A(t)]})}i();c();a();async function qm(e,{address:t,nonce:r}){await e.request({method:`${e.mode}_setNonce`,params:[t,A(r)]})}i();c();a();async function $m(e,t){await e.request({method:`${e.mode}_setRpcUrl`,params:[t]})}i();c();a();async function Mm(e,{address:t,index:r,value:o}){await e.request({method:`${e.mode}_setStorageAt`,params:[t,typeof r=="number"?A(r):r,o]})}i();c();a();async function Gm(e){return await e.request({method:"evm_snapshot"})}i();c();a();async function Dm(e,{address:t}){await e.request({method:`${e.mode}_stopImpersonatingAccount`,params:[t]})}function Ha({mode:e}){return t=>{let r=t.extend(()=>({mode:e}));return{dropTransaction:o=>lm(r,o),dumpState:()=>hm(r),getAutomine:()=>ym(r),getTxpoolContent:()=>xm(r),getTxpoolStatus:()=>gm(r),impersonateAccount:o=>bm(r,o),increaseTime:o=>wm(r,o),inspectTxpool:()=>vm(r),loadState:o=>Em(r,o),mine:o=>Pm(r,o),removeBlockTimestampInterval:()=>Tm(r),reset:o=>Am(r,o),revert:o=>Im(r,o),sendUnsignedTransaction:o=>Bm(r,o),setAutomine:o=>Cm(r,o),setBalance:o=>Sm(r,o),setBlockGasLimit:o=>km(r,o),setBlockTimestampInterval:o=>Rm(r,o),setCode:o=>Fm(r,o),setCoinbase:o=>Nm(r,o),setIntervalMining:o=>Hm(r,o),setLoggingEnabled:o=>zm(r,o),setMinGasPrice:o=>_m(r,o),setNextBlockBaseFeePerGas:o=>Um(r,o),setNextBlockTimestamp:o=>Lm(r,o),setNonce:o=>qm(r,o),setRpcUrl:o=>$m(r,o),setStorageAt:o=>Mm(r,o),snapshot:()=>Gm(r),stopImpersonatingAccount:o=>Dm(r,o)}}}function Zd(e){let{key:t="test",name:r="Test Client",mode:o}=e;return jt({...e,key:t,name:r,type:"testClient"}).extend(s=>({mode:o,...Ha({mode:o})(s)}))}i();c();a();i();c();a();i();c();a();async function Om(e,{chain:t}){let{id:r,name:o,nativeCurrency:n,rpcUrls:s,blockExplorers:u}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:A(r),chainName:o,nativeCurrency:n,rpcUrls:s.default.http,blockExplorerUrls:u?Object.values(u).map(({url:m})=>m):void 0}]},{dedupe:!0,retryCount:0})}i();c();a();function jm(e,t){let{abi:r,args:o,bytecode:n,...s}=t,u=ro({abi:r,args:o,bytecode:n});return bt(e,{...s,...s.authorizationList?{to:null}:{},data:u})}i();c();a();async function Vm(e){return e.account?.type==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(r=>Gr(r))}i();c();a();async function Wm(e,t={}){let{account:r=e.account,chainId:o}=t,n=r?G(r):void 0,s=o?[n?.address,[A(o)]]:[n?.address],u=await e.request({method:"wallet_getCapabilities",params:s}),m={};for(let[f,p]of Object.entries(u)){m[Number(f)]={};for(let[d,l]of Object.entries(p))d==="addSubAccount"&&(d="unstable_addSubAccount"),m[Number(f)][d]=l}return typeof o=="number"?m[o]:m}i();c();a();async function Km(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}i();c();a();async function Vs(e,t){let{account:r=e.account,chainId:o,nonce:n}=t;if(!r)throw new ce({docsPath:"/docs/eip7702/prepareAuthorization"});let s=G(r),u=(()=>{if(t.executor)return t.executor==="self"?t.executor:G(t.executor)})(),m={address:t.contractAddress??t.address,chainId:o,nonce:n};return typeof m.chainId>"u"&&(m.chainId=e.chain?.id??await S(e,he,"getChainId")({})),typeof m.nonce>"u"&&(m.nonce=await S(e,lt,"getTransactionCount")({address:s.address,blockTag:"pending"}),(u==="self"||u?.address&&fe(u.address,s.address))&&(m.nonce+=1)),m}i();c();a();async function Zm(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(r=>oe(r))}i();c();a();async function Jm(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}i();c();a();async function Ym(e,t){let{chain:r=e.chain}=t,o=t.timeout??Math.max((r?.blockTime??0)*3,5e3),n=await kn(e,t);return await Nn(e,{...t,id:n.id,timeout:o})}i();c();a();var za=new $e(128);async function Ws(e,t){let{account:r=e.account,chain:o=e.chain,accessList:n,authorizationList:s,blobs:u,data:m,gas:f,gasPrice:p,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:g,nonce:b,pollingInterval:w,throwOnReceiptRevert:v,type:E,value:P,...T}=t,B=t.timeout??Math.max((o?.blockTime??0)*3,5e3);if(typeof r>"u")throw new ce({docsPath:"/docs/actions/wallet/sendTransactionSync"});let I=r?G(r):null;try{me(t);let C=await(async()=>{if(t.to)return t.to;if(t.to!==null&&s&&s.length>0)return await pt({authorization:s[0]}).catch(()=>{throw new H("`to` is required. Could not infer from `authorizationList`.")})})();if(I?.type==="json-rpc"||I===null){let k;o!==null&&(k=await S(e,he,"getChainId")({}),Ot({currentChainId:k,chain:o}));let R=e.chain?.formatters?.transactionRequest?.format,z=(R||ue)({...Se(T,{format:R}),accessList:n,account:I,authorizationList:s,blobs:u,chainId:k,data:m,gas:f,gasPrice:p,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:g,nonce:b,to:C,type:E,value:P},"sendTransaction"),F=za.get(e.uid),L=F?"wallet_sendTransaction":"eth_sendTransaction",_=await(async()=>{try{return await e.request({method:L,params:[z]},{retryCount:0})}catch(re){if(F===!1)throw re;let Be=re;if(Be.name==="InvalidInputRpcError"||Be.name==="InvalidParamsRpcError"||Be.name==="MethodNotFoundRpcError"||Be.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[z]},{retryCount:0}).then(Lr=>(za.set(e.uid,!0),Lr)).catch(Lr=>{let Tt=Lr;throw Tt.name==="MethodNotFoundRpcError"||Tt.name==="MethodNotSupportedRpcError"?(za.set(e.uid,!1),Be):Tt});throw Be}})(),Z=await S(e,js,"waitForTransactionReceipt")({checkReplacement:!1,hash:_,pollingInterval:w,timeout:B});if(v&&Z.status==="reverted")throw new Vo({receipt:Z});return Z}if(I?.type==="local"){let k=await S(e,De,"prepareTransactionRequest")({account:I,accessList:n,authorizationList:s,blobs:u,chain:o,data:m,gas:f,gasPrice:p,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:g,nonce:b,nonceManager:I.nonceManager,parameters:[...uo,"sidecars"],type:E,value:P,...T,to:C}),R=o?.serializers?.transaction,N=await I.signTransaction(k,{serializer:R});return await S(e,Ur,"sendRawTransactionSync")({serializedTransaction:N,throwOnReceiptRevert:v,timeout:t.timeout})}throw I?.type==="smart"?new Re({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Re({docsPath:"/docs/actions/wallet/sendTransactionSync",type:I?.type})}catch(C){throw C instanceof Re?C:ht(C,{...t,account:I,chain:t.chain||void 0})}}i();c();a();async function Qm(e,t){let{id:r}=t;await e.request({method:"wallet_showCallsStatus",params:[r]})}i();c();a();async function Xm(e,t){let{account:r=e.account}=t;if(!r)throw new ce({docsPath:"/docs/eip7702/signAuthorization"});let o=G(r);if(!o.signAuthorization)throw new Re({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:o.type});let n=await Vs(e,t);return o.signAuthorization(n)}i();c();a();async function ef(e,{account:t=e.account,message:r}){if(!t)throw new ce({docsPath:"/docs/actions/wallet/signMessage"});let o=G(t);if(o.signMessage)return o.signMessage({message:r});let n=typeof r=="string"?He(r):r.raw instanceof Uint8Array?X(r.raw):r.raw;return e.request({method:"personal_sign",params:[n,o.address]},{retryCount:0})}i();c();a();async function tf(e,t){let{account:r=e.account,chain:o=e.chain,...n}=t;if(!r)throw new ce({docsPath:"/docs/actions/wallet/signTransaction"});let s=G(r);me({account:s,...t});let u=await S(e,he,"getChainId")({});o!==null&&Ot({currentChainId:u,chain:o});let f=(o?.formatters||e.chain?.formatters)?.transactionRequest?.format||ue;return s.signTransaction?s.signTransaction({...n,chainId:u},{serializer:e.chain?.serializers?.transaction}):await e.request({method:"eth_signTransaction",params:[{...f({...n,account:s},"signTransaction"),chainId:A(u),from:s.address}]},{retryCount:0})}i();c();a();async function rf(e,t){let{account:r=e.account,domain:o,message:n,primaryType:s}=t;if(!r)throw new ce({docsPath:"/docs/actions/wallet/signTypedData"});let u=G(r),m={EIP712Domain:Cr({domain:o}),...t.types};if(Po({domain:o,message:n,primaryType:s,types:m}),u.signTypedData)return u.signTypedData({domain:o,message:n,primaryType:s,types:m});let f=Di({domain:o,message:n,primaryType:s,types:m});return e.request({method:"eth_signTypedData_v4",params:[u.address,f]},{retryCount:0})}i();c();a();async function of(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:A(t)}]},{retryCount:0})}i();c();a();async function nf(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}i();c();a();async function sf(e,t){return Je.internal(e,Ws,"sendTransactionSync",t)}function _a(e){return{addChain:t=>Om(e,t),deployContract:t=>jm(e,t),fillTransaction:t=>yr(e,t),getAddresses:()=>Vm(e),getCallsStatus:t=>Rn(e,t),getCapabilities:t=>Wm(e,t),getChainId:()=>he(e),getPermissions:()=>Km(e),prepareAuthorization:t=>Vs(e,t),prepareTransactionRequest:t=>De(e,t),requestAddresses:()=>Zm(e),requestPermissions:t=>Jm(e,t),sendCalls:t=>kn(e,t),sendCallsSync:t=>Ym(e,t),sendRawTransaction:t=>wr(e,t),sendRawTransactionSync:t=>Ur(e,t),sendTransaction:t=>bt(e,t),sendTransactionSync:t=>Ws(e,t),showCallsStatus:t=>Qm(e,t),signAuthorization:t=>Xm(e,t),signMessage:t=>ef(e,t),signTransaction:t=>tf(e,t),signTypedData:t=>rf(e,t),switchChain:t=>of(e,t),waitForCallsStatus:t=>Nn(e,t),watchAsset:t=>nf(e,t),writeContract:t=>Je(e,t),writeContractSync:t=>sf(e,t)}}function Jd(e){let{key:t="wallet",name:r="Wallet Client",transport:o}=e;return jt({...e,key:t,name:r,transport:o,type:"walletClient"}).extend(_a)}i();c();a();function tt({key:e,methods:t,name:r,request:o,retryCount:n=3,retryDelay:s=150,timeout:u,type:m},f){let p=_n();return{config:{key:e,methods:t,name:r,request:o,retryCount:n,retryDelay:s,timeout:u,type:m},request:Oc(o,{methods:t,retryCount:n,retryDelay:s,uid:p}),value:f}}i();c();a();function Yd(e,t={}){let{key:r="custom",methods:o,name:n="Custom Provider",retryDelay:s}=t;return({retryCount:u})=>tt({key:r,methods:o,name:n,request:e.request.bind(e),retryCount:t.retryCount??u,retryDelay:s,type:"custom"})}i();c();a();function Qd(e,t={}){let{key:r="fallback",name:o="Fallback",rank:n=!1,shouldThrow:s=af,retryCount:u,retryDelay:m}=t;return({chain:f,pollingInterval:p=4e3,timeout:d,...l})=>{let g=e,b=()=>{},w=tt({key:r,name:o,async request({method:v,params:E}){let P,T=async(B=0)=>{let I=g[B]({...l,chain:f,retryCount:0,timeout:d});try{let C=await I.request({method:v,params:E});return b({method:v,params:E,response:C,transport:I,status:"success"}),C}catch(C){if(b({error:C,method:v,params:E,transport:I,status:"error"}),s(C)||B===g.length-1||(P??=g.slice(B+1).some(k=>{let{include:R,exclude:N}=k({chain:f}).config.methods||{};return R?R.includes(v):N?!N.includes(v):!0}),!P))throw C;return T(B+1)}};return T()},retryCount:u,retryDelay:m,type:"fallback"},{onResponse:v=>b=v,transports:g.map(v=>v({chain:f,retryCount:0}))});if(n){let v=typeof n=="object"?n:{};Xd({chain:f,interval:v.interval??p,onTransports:E=>g=E,ping:v.ping,sampleCount:v.sampleCount,timeout:v.timeout,transports:g,weights:v.weights})}return w}}function af(e){return!!("code"in e&&typeof e.code=="number"&&(e.code===tr.code||e.code===Ft.code||pi.nodeMessage.test(e.message)||e.code===5e3))}function Xd({chain:e,interval:t=4e3,onTransports:r,ping:o,sampleCount:n=10,timeout:s=1e3,transports:u,weights:m={}}){let{stability:f=.7,latency:p=.3}=m,d=[],l=async()=>{let g=await Promise.all(u.map(async v=>{let E=v({chain:e,retryCount:0,timeout:s}),P=Date.now(),T,B;try{await(o?o({transport:E}):E.request({method:"net_listening"})),B=1}catch{B=0}finally{T=Date.now()}return{latency:T-P,success:B}}));d.push(g),d.length>n&&d.shift();let b=Math.max(...d.map(v=>Math.max(...v.map(({latency:E})=>E)))),w=u.map((v,E)=>{let P=d.map(k=>k[E].latency),B=1-P.reduce((k,R)=>k+R,0)/P.length/b,I=d.map(k=>k[E].success),C=I.reduce((k,R)=>k+R,0)/I.length;return C===0?[0,E]:[p*B+f*C,E]}).sort((v,E)=>E[0]-v[0]);r(w.map(([,v])=>u[v])),await Dt(t),l()};l()}i();c();a();i();c();a();var Qt=class extends H{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}};function el(e,t={}){let{batch:r,fetchFn:o,fetchOptions:n,key:s="http",methods:u,name:m="HTTP JSON-RPC",onFetchRequest:f,onFetchResponse:p,retryDelay:d,raw:l}=t;return({chain:g,retryCount:b,timeout:w})=>{let{batchSize:v=1e3,wait:E=0}=typeof r=="object"?r:{},P=t.retryCount??b,T=w??t.timeout??1e4,B=e||g?.rpcUrls.default.http[0];if(!B)throw new Qt;let I=Jn(B,{fetchFn:o,fetchOptions:n,onRequest:f,onResponse:p,timeout:T});return tt({key:s,methods:u,name:m,async request({method:C,params:k}){let R={method:C,params:k},{schedule:N}=wn({id:B,wait:E,shouldSplitBatch(_){return _.length>v},fn:_=>I.request({body:_}),sort:(_,Z)=>_.id-Z.id}),z=async _=>r?N(_):[await I.request({body:_})],[{error:F,result:L}]=await z(R);if(l)return{error:F,result:L};if(F)throw new St({body:R,error:F,url:B});return L},retryCount:P,retryDelay:d,timeout:T,type:"http"},{fetchOptions:n,url:B})}}i();c();a();function tl(e,t={}){let{keepAlive:r,key:o="webSocket",methods:n,name:s="WebSocket JSON-RPC",reconnect:u,retryDelay:m}=t;return({chain:f,retryCount:p,timeout:d})=>{let l=t.retryCount??p,g=d??t.timeout??1e4,b=e||f?.rpcUrls.default.webSocket?.[0],w={keepAlive:r,reconnect:u};if(!b)throw new Qt;return tt({key:o,methods:n,name:s,async request({method:v,params:E}){let P={method:v,params:E},T=await Br(b,w),{error:B,result:I}=await T.requestAsync({body:P,timeout:g});if(B)throw new St({body:P,error:B,url:b});return I},retryCount:l,retryDelay:m,timeout:g,type:"webSocket"},{getSocket(){return $i(b)},getRpcClient(){return Br(b,w)},async subscribe({params:v,onData:E,onError:P}){let T=await Br(b,w),{result:B}=await new Promise((I,C)=>T.request({body:{method:"eth_subscribe",params:v},onError(k){C(k),P?.(k)},onResponse(k){if(k.error){C(k.error),P?.(k.error);return}if(typeof k.id=="number"){I(k);return}k.method==="eth_subscription"&&E(k.params)}}));return{subscriptionId:B,async unsubscribe(){return new Promise(I=>T.request({body:{method:"eth_unsubscribe",params:[B]},onResponse:I}))}}}})}}i();c();a();var Ua=class extends Error{constructor(t,r){super(r),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t,this.details=r}};i();c();a();var La="/docs/contract/decodeDeployData";function rl(e){let{abi:t,bytecode:r,data:o}=e;if(o===r)return{bytecode:r};let n=t.find(u=>"type"in u&&u.type==="constructor");if(!n)throw new Ks({docsPath:La});if(!("inputs"in n))throw new $o({docsPath:La});if(!n.inputs||n.inputs.length===0)throw new $o({docsPath:La});return{args:at(n.inputs,`0x${o.replace(r,"")}`),bytecode:r}}i();c();a();function ol(e){let t=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(m=>K(m)):e.blobs,o=r.reduce((m,f)=>m+f.length,0),n=Ke(new Uint8Array(o)),s=!0;for(let m of r){let f=Ke(m);for(;s&&f.position<m.length;){f.incrementPosition(1);let p=31;m.length-f.position<31&&(p=m.length-f.position);for(let d in Array.from({length:p})){let l=f.readByte();if(l===128&&!f.inspectBytes(f.remaining).includes(128)){s=!1;break}n.pushByte(l)}}}let u=n.bytes.slice(0,n.position);return t==="hex"?O(u):u}i();c();a();function nl(e){let{sidecars:t,version:r}=e,o=e.to??(typeof t[0].blob=="string"?"hex":"bytes"),n=[];for(let{commitment:s}of t)n.push(io({commitment:s,to:o,version:r}));return n}i();c();a();var sl=2147483648;function il(e){if(e===1)return 60n;if(e>=sl||e<0)throw new po({chainId:e});return BigInt((2147483648|e)>>>0)}i();c();a();function qa({blobToKzgCommitment:e,computeBlobKzgProof:t}){return{blobToKzgCommitment:e,computeBlobKzgProof:t}}i();c();a();function al(e,t){try{e.loadTrustedSetup(t)}catch(r){let o=r;if(!o.message.includes("trusted setup is already loaded"))throw o}return qa(e)}i();c();a();function cl({r:e,yParityAndS:t}){let r=K(t),o=r[0]&128?1:0,n=r;return o===1&&(n[0]&=127),{r:e,s:O(n),yParity:o}}i();c();a();function cf(e){let{r:t,s:r}=ze.Signature.fromCompact(e.slice(2,130));return{r:A(t,{size:32}),yParityAndS:A(r,{size:32})}}i();c();a();function uf(e){let{r:t,s:r}=ze.Signature.fromCompact(e.slice(2,130)),o=+`0x${e.slice(130)}`,[n,s]=(()=>{if(o===0||o===1)return[void 0,o];if(o===27)return[BigInt(o),0];if(o===28)return[BigInt(o),1];throw new Error("Invalid yParityOrV value")})();return typeof n<"u"?{r:A(t,{size:32}),s:A(r,{size:32}),v:n,yParity:s}:{r:A(t,{size:32}),s:A(r,{size:32}),yParity:s}}i();c();a();async function ul(e){let{serializedTransaction:t,signature:r}=e,o=Ia(t),n=r??{r:o.r,s:o.s,v:o.v,yParity:o.yParity},s=_i({...o,r:void 0,s:void 0,v:void 0,yParity:void 0,sidecars:void 0});return await Ae({hash:j(s),signature:n})}i();c();a();function mf({r:e,yParityAndS:t}){return`0x${new ze.Signature(q(e),q(t)).toCompactHex()}`}i();c();a();function ml(e){let{r:t,s:r,v:o,yParity:n}=e,s=Number(n??o-27n),u=r;if(s===1){let m=K(r);m[0]|=128,u=O(m)}return{r:t,yParityAndS:u}}export{S as a,oo as b,Ue as c,ve as d,vi as e,Ae as f,Ee as g,hf as h,yf as i,no as j,Ut as k,Ze as l,so as m,Lt as n,vn as o,dt as p,bf as q,dr as r,vf as s,hc as t,qt as u,$t as v,Pi as w,io as x,ao as y,Ti as z,Mt as A,co as B,he as C,De as D,xr as E,yt as F,Gt as G,pe as H,ee as I,ye as J,ke as K,Bi as L,ce as M,Ot as N,bt as O,Je as P,kf as Q,mo as R,wt as S,vr as T,Rf as U,Nn as V,Fn as W,jt as X,Ff as Y,Pr as Z,Ni as _,Ye as $,Vt as aa,fo as ba,po as ca,Rc as da,lo as ea,Hc as fa,$f as ga,jn as ha,Mf as ia,qc as ja,$c as ka,Wt as la,ho as ma,yo as na,Ar as oa,_i as pa,Ir as qa,Kf as ra,Zf as sa,Jf as ta,Zn as ua,Ui as va,Qf as wa,Wc as xa,ep as ya,go as za,sp as Aa,Mi as Ba,Gi as Ca,Kt as Da,wo as Ea,vo as Fa,Eo as Ga,Di as Ha,Po as Ia,Cr as Ja,ip as Ka,To as La,Yn as Ma,Oi as Na,mp as Oa,ji as Pa,Zt as Qa,jC as Ra,VC as Sa,Es as Ta,Xe as Ua,Bu as Va,Cu as Wa,As as Xa,r8 as Ya,Uu as Za,Ns as _a,$u as $a,xa as ab,Hs as bb,ed as cb,td as db,i8 as eb,Mu as fb,Gu as gb,rd as hb,m8 as ib,f8 as jb,ba as kb,y8 as lb,Ea as mb,pd as nb,dd as ob,Pa as pb,Ta as qb,ld as rb,hd as sb,yd as tb,xd as ub,gd as vb,Aa as wb,Ia as xb,No as yb,Ho as zb,Ad as Ab,Id as Bb,Hr as Cb,Qu as Db,Ms as Eb,Sa as Fb,ka as Gb,Ne as Hb,Ds as Ib,Pt as Jb,js as Kb,mm as Lb,Na as Mb,Kd as Nb,Ha as Ob,Zd as Pb,Vs as Qb,ef as Rb,_a as Sb,Jd as Tb,tt as Ub,Yd as Vb,Qd as Wb,af as Xb,Qt as Yb,el as Zb,tl as _b,Ua as $b,rl as ac,ol as bc,nl as cc,il as dc,qa as ec,al as fc,cl as gc,cf as hc,uf as ic,ul as jc,mf as kc,ml as lc};
