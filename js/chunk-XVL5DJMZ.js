import{i,k as d,o as s}from"./chunk-JY5TIRRF.js";i();s();d();function f(n){let e=new CustomEvent("eip6963:announceProvider",{detail:Object.freeze(n)});window.dispatchEvent(e);let t=()=>window.dispatchEvent(e);return window.addEventListener("eip6963:requestProvider",t),()=>window.removeEventListener("eip6963:requestProvider",t)}function c(n){if(typeof window>"u")return;let e=t=>n(t.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}i();s();d();i();s();d();function p(){let n=new Set,e=[],t=()=>c(r=>{e.some(({info:o})=>o.uuid===r.info.uuid)||(e=[...e,r],n.forEach(o=>o(e,{added:[r]})))}),u=t();return{_listeners(){return n},clear(){n.forEach(r=>r([],{removed:[...e]})),e=[]},destroy(){this.clear(),n.clear(),u?.()},findProvider({rdns:r}){return e.find(o=>o.info.rdns===r)},getProviders(){return e},reset(){this.clear(),u?.(),u=t()},subscribe(r,{emitImmediately:o}={}){return n.add(r),o&&r(e,{added:e}),()=>n.delete(r)}}}export{f as a,p as b};
