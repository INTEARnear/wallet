import{i as o,k as s,o as f}from"./chunk-JY5TIRRF.js";o();f();s();function r(e){return new Promise((n,t)=>{e.oncomplete=e.onsuccess=()=>n(e.result),e.onabort=e.onerror=()=>t(e.error)})}function y(e,n){let t,u=()=>{if(t)return t;let i=indexedDB.open(e);return i.onupgradeneeded=()=>i.result.createObjectStore(n),t=r(i),t.then(c=>{c.onclose=()=>t=void 0},()=>{}),t};return(i,c)=>u().then(d=>c(d.transaction(n,i).objectStore(n)))}var l;function a(){return l||(l=y("keyval-store","keyval")),l}function w(e,n=a()){return n("readonly",t=>r(t.get(e)))}function A(e,n,t=a()){return t("readwrite",u=>(u.put(n,e),r(u.transaction)))}function v(e,n=a()){return n("readwrite",t=>(t.delete(e),r(t.transaction)))}function b(e=a()){return e("readwrite",n=>(n.clear(),r(n.transaction)))}function h(e,n){return e.openCursor().onsuccess=function(){this.result&&(n(this.result),this.result.continue())},r(e.transaction)}function k(e=a()){return e("readonly",n=>{if(n.getAllKeys)return r(n.getAllKeys());let t=[];return h(n,u=>t.push(u.key)).then(()=>t)})}export{y as a,w as b,A as c,v as d,b as e,k as f};
