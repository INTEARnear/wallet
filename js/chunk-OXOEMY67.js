import{a}from"./chunk-HXA2I3EV.js";import{a as sr,b as ir,c as cr,d as lr}from"./chunk-JKAT2LPR.js";import{a as Ne}from"./chunk-WVZCG2XE.js";import{bf as ze,db as ut}from"./chunk-J26BEOSD.js";import{g as pt,i as m,j as g,k as f,o as C}from"./chunk-JY5TIRRF.js";m();C();f();var E={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",BASE_ACCOUNT:"baseAccount",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122",TON:"ton"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks",ton:"TON"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",TON:"ton"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],SOLANA_SPL_TOKEN_ADDRESSES:{SOL:"So11111111111111111111111111111111111111112"},NATIVE_IMAGE_IDS_BY_NAMESPACE:{eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"3e8119e5-2a6f-4818-c50c-1937011d5900",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00"},TOKEN_SYMBOLS_BY_ADDRESS:{"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48":"USDC","0x833589fcd6edb6e08f4c7c32d4f71b54bda02913":"USDC","0x0b2c639c533813f4aa9d7837caf62653d097ff85":"USDC","0xaf88d065e77c8cc2239327c5edb3a432268e5831":"USDC","0x3c499c542cef5e3811e1192ce70d8cc03d5c3359":"USDC","0x2791bca1f2de4661ed88a30c99a7a9449aa84174":"USDC",EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v:"USDC","0xdac17f958d2ee523a2206206994597c13d831ec7":"USDT","0x94b008aa00579c1307b0ef2c499ad98a8ce58e58":"USDT","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9":"USDT","0xc2132d05d31c914a87c6611c10748aeb04b58e8f":"USDT",Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB:"USDT"},HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof g<"u"&&typeof g.env<"u"?g.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}},HEADLESS_NOT_ENABLED:{DEFAULT:{displayMessage:"",debugMessage:"Headless support is not enabled. Please enable it with the features.headless option in the AppKit configuration and make sure your current plan supports it."}}},IS_DEVELOPMENT:typeof g<"u"&&!1,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"],METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",OKX_CONNECTOR_NAME:"OKX Wallet",BINANCE_CONNECTOR_NAME:"Binance Wallet",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"AUTH"};m();C();f();var Mt={caipNetworkIdToNumber(e){return e?Number(e.split(":")[1]):void 0},parseEvmChainId(e){return typeof e=="string"?this.caipNetworkIdToNumber(e):e},getNetworksByNamespace(e,t){return e?.filter(n=>n.chainNamespace===t)||[]},getFirstNetworkByNamespace(e,t){return this.getNetworksByNamespace(e,t)[0]},getNetworkNameByCaipNetworkId(e,t){if(!t)return;let n=e.find(o=>o.caipNetworkId===t);if(n)return n.name;let[r]=t.split(":");return E.CHAIN_NAME_MAP?.[r]||void 0}},mt=["eip155","solana","polkadot","bip122","cosmos","sui","stacks"];m();C();f();var ft={bigNumber(e,t={safe:!1}){try{return e?new Ne(e):new Ne(0)}catch(n){if(t.safe)return new Ne(0);throw n}},formatNumber(e,t){let{decimals:n,round:r=8,safe:o=!0}=t;return ft.bigNumber(e,{safe:o}).div(new Ne(10).pow(n)).round(r)},multiply(e,t){if(e===void 0||t===void 0)return new Ne(0);let n=new Ne(e),r=new Ne(t);return n.times(r)},toFixed(e,t=2){return e===void 0||e===""?new Ne(0).toFixed(t):new Ne(e).toFixed(t)},formatNumberToLocalString(e,t=2){return e===void 0||e===""?"0.00":typeof e=="number"?e.toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t,roundingMode:"floor"}):parseFloat(e).toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t,roundingMode:"floor"})},parseLocalStringToNumber(e){if(e===void 0||e==="")return 0;let t=e.replace(/,/gu,"");return new Ne(t).toNumber()}};m();C();f();var dr={URLS:{FAQ:"https://walletconnect.com/faq"}};m();C();f();var Oe={ConnectorExplorerIds:{[E.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[E.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[E.CONNECTOR_ID.BASE_ACCOUNT]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[E.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[E.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[E.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[E.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[E.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[E.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[E.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[E.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[E.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[E.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[E.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[E.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[E.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[E.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13",[E.OKX_CONNECTOR_NAME]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[E.BINANCE_CONNECTOR_NAME]:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200","00000008819873e925422c1ff0f99f7c":"b3406e4a-bbfc-44fb-e3a6-89673c78b700","-239":"20f673c0-095e-49b2-07cf-eb5049dcf600","-3":"20f673c0-095e-49b2-07cf-eb5049dcf600"},ConnectorImageIds:{[E.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[E.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[E.CONNECTOR_ID.BASE_ACCOUNT]:"bba2c8be-7fd1-463e-42b1-796ecb0ad200",[E.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[E.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[E.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[E.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[E.CONNECTOR_ID.INJECTED]:"Browser Wallet",[E.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[E.CONNECTOR_ID.COINBASE]:"Coinbase",[E.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[E.CONNECTOR_ID.BASE_ACCOUNT]:"Base Account",[E.CONNECTOR_ID.LEDGER]:"Ledger",[E.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[E.CONNECTOR_ID.INJECTED]:"INJECTED",[E.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[E.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[E.CONNECTOR_ID.AUTH]:"AUTH"},WalletConnectRpcChainIds:[1,5,11155111,10,420,42161,421613,137,80001,42220,1313161554,1313161555,56,97,43114,43113,100,8453,84531,7777777,999,324,280]};m();C();f();var ce={validateCaipAddress(e){if(e.split(":")?.length!==3)throw new Error("Invalid CAIP Address");return e},parseCaipAddress(e){let t=e.split(":");if(t.length!==3)throw new Error(`Invalid CAIP-10 address: ${e}`);let[n,r,o]=t;if(!n||!r||!o)throw new Error(`Invalid CAIP-10 address: ${e}`);return{chainNamespace:n,chainId:r,address:o}},parseCaipNetworkId(e){let t=e.split(":");if(t.length!==2)throw new Error(`Invalid CAIP-2 network id: ${e}`);let[n,r]=t;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${e}`);return{chainNamespace:n,chainId:r}}};m();C();f();var Se={RPC_ERROR_CODE:{USER_REJECTED_REQUEST:4001,USER_REJECTED_METHODS:5002,USER_REJECTED:5e3},PROVIDER_RPC_ERROR_NAME:{PROVIDER_RPC:"ProviderRpcError",USER_REJECTED_REQUEST:"UserRejectedRequestError"},isRpcProviderError(e){try{if(typeof e=="object"&&e!==null){let t=e,n=typeof t.message=="string",r=typeof t.code=="number";return n&&r}return!1}catch{return!1}},isUserRejectedMessage(e){return e.toLowerCase().includes("user rejected")||e.toLowerCase().includes("user cancelled")||e.toLowerCase().includes("user canceled")},isUserRejectedRequestError(e){if(Se.isRpcProviderError(e)){let t=e.code===Se.RPC_ERROR_CODE.USER_REJECTED_REQUEST,n=e.code===Se.RPC_ERROR_CODE.USER_REJECTED_METHODS;return t||n||Se.isUserRejectedMessage(e.message)}return e instanceof Error?Se.isUserRejectedMessage(e.message):!1}},xt=class extends Error{constructor(t,n){super(n.message,{cause:t}),this.name=Se.PROVIDER_RPC_ERROR_NAME.PROVIDER_RPC,this.code=n.code}},Je=class extends xt{constructor(t){super(t,{code:Se.RPC_ERROR_CODE.USER_REJECTED_REQUEST,message:"User rejected the request"}),this.name=Se.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST}};m();C();f();var k={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",RECENT_WALLET:"@appkit/recent_wallet",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails",LATEST_APPKIT_VERSION:"@appkit/latest_version",TON_WALLETS_CACHE:"@appkit/ton_wallets_cache"};function Qe(e){if(!e)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${e}:connected_connector_id`}var U={setItem(e,t){Xe()&&t!==void 0&&localStorage.setItem(e,t)},getItem(e){if(Xe())return localStorage.getItem(e)||void 0},removeItem(e){Xe()&&localStorage.removeItem(e)},clear(){Xe()&&localStorage.clear()}};function Xe(){return typeof window<"u"&&typeof localStorage<"u"}m();C();f();function xe(e,t){let n=e?.["--apkt-accent"]??e?.["--w3m-accent"];return t==="light"?{"--w3m-accent":n||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":n||"hsla(230, 100%, 67%, 1)","--w3m-background":"#202020"}}m();C();f();m();C();f();var Ze={isLowerCaseMatch(e,t){return e?.toLowerCase()===t?.toLowerCase()}};m();C();f();var Be=pt(sr(),1),Cn=pt(ir(),1),En=pt(cr(),1),hn=pt(lr(),1);Be.default.extend(En.default);Be.default.extend(hn.default);var pr={...Cn.default,name:"en-web3-modal",relativeTime:{future:"in %s",past:"%s ago",s:"%d sec",m:"1 min",mm:"%d min",h:"1 hr",hh:"%d hrs",d:"1 d",dd:"%d d",M:"1 mo",MM:"%d mo",y:"1 yr",yy:"%d yr"}},ur=["January","February","March","April","May","June","July","August","September","October","November","December"];Be.default.locale("en-web3-modal",pr);var mr={getMonthNameByIndex(e){return ur[e]},getYear(e=new Date().toISOString()){return(0,Be.default)(e).year()},getRelativeDateFromNow(e){return(0,Be.default)(e).locale("en-web3-modal").fromNow(!0)},formatDate(e,t="DD MMM"){return(0,Be.default)(e).format(t)}};m();C();f();var fr={numericInputKeyDown(e,t,n){let r=["Backspace","Meta","Ctrl","a","A","c","C","x","X","v","V","ArrowLeft","ArrowRight","Tab"],o=e.metaKey||e.ctrlKey,s=e.key,i=s.toLocaleLowerCase(),c=i==="a",p=i==="c",l=i==="v",u=i==="x",h=s===",",P=s===".",N=s>="0"&&s<="9";!o&&(c||p||l||u)&&e.preventDefault(),t==="0"&&!h&&!P&&s==="0"&&e.preventDefault(),t==="0"&&N&&(n(s),e.preventDefault()),(h||P)&&(t||(n("0."),e.preventDefault()),(t?.includes(".")||t?.includes(","))&&e.preventDefault()),!N&&!r.includes(s)&&!P&&!h&&e.preventDefault()}};m();C();f();m();C();f();var gn=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}];m();C();f();var _n=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}];m();C();f();var An=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}];var Bt={getERC20Abi:e=>E.USDT_CONTRACT_ADDRESSES.includes(e)?An:gn,getSwapAbi:()=>_n};m();C();f();var Ft=(typeof g<"u"&&typeof g.env<"u"?g.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",ji=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],Vi="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",X={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:Ft,SECURE_SITE_DASHBOARD:`${Ft}/dashboard`,SECURE_SITE_FAVICON:`${Ft}/images/favicon.png`,SOLANA_NATIVE_TOKEN_ADDRESS:"So11111111111111111111111111111111111111111",RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],SUGGESTED_TOKENS_BY_CHAIN:{"eip155:42161":["USD\u20AE0"]},BALANCE_SUPPORTED_CHAINS:[E.CHAIN.EVM,E.CHAIN.SOLANA],SEND_PARAMS_SUPPORTED_CHAINS:[E.CHAIN.EVM],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:[E.CHAIN.EVM],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:[E.CHAIN.EVM,E.CHAIN.SOLANA],PAY_WITH_EXCHANGE_SUPPORTED_CHAIN_NAMESPACES:[E.CHAIN.EVM,E.CHAIN.SOLANA],ACTIVITY_ENABLED_CHAIN_NAMESPACES:[E.CHAIN.EVM,E.CHAIN.TON],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x",ton:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[E.CHAIN.EVM,E.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1,payWithExchange:!1,payments:!1,reownAuthentication:!1,headless:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1,reownAuthentication:!1,headless:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1,reownAuthentication:!1,headless:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa",ton:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"},SIWX_DEFAULTS:{signOutOnDisconnect:!0},MANDATORY_WALLET_IDS_ON_MOBILE:[Oe.ConnectorExplorerIds[E.CONNECTOR_ID.COINBASE],Oe.ConnectorExplorerIds[E.CONNECTOR_ID.COINBASE_SDK],Oe.ConnectorExplorerIds[E.CONNECTOR_ID.BASE_ACCOUNT],Oe.ConnectorExplorerIds[E.SOLFLARE_CONNECTOR_NAME],Oe.ConnectorExplorerIds[E.PHANTOM_CONNECTOR_NAME],Oe.ConnectorExplorerIds[E.BINANCE_CONNECTOR_NAME]],DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"]};m();C();f();var _={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3,latestAppKitVersion:6048e5,tonWallets:864e5},isCacheExpired(e,t){return Date.now()-e>t},getActiveNetworkProps(){let e=_.getActiveNamespace(),t=_.getActiveCaipNetworkId(),n=t?t.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:e,caipNetworkId:t,chainId:r}},setWalletConnectDeepLink({name:e,href:t}){try{U.setItem(k.DEEPLINK_CHOICE,JSON.stringify({href:t,name:e}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{let e=U.getItem(k.DEEPLINK_CHOICE);if(e)return JSON.parse(e)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{U.removeItem(k.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(e){try{U.setItem(k.ACTIVE_NAMESPACE,e)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(e){try{U.setItem(k.ACTIVE_CAIP_NETWORK_ID,e),_.setActiveNamespace(e.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return U.getItem(k.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{U.removeItem(k.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(e){try{let t=Qe(e);U.removeItem(t)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(e){try{let t=_.getRecentWallets();t.find(r=>r.id===e.id)||(t.unshift(e),t.length>2&&t.pop(),U.setItem(k.RECENT_WALLETS,JSON.stringify(t)),U.setItem(k.RECENT_WALLET,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{let e=U.getItem(k.RECENT_WALLETS);return e?JSON.parse(e):[]}catch{console.info("Unable to get AppKit recent")}return[]},getRecentWallet(){try{let e=U.getItem(k.RECENT_WALLET);return e?JSON.parse(e):null}catch{console.info("Unable to get AppKit recent")}return null},deleteRecentWallet(){try{U.removeItem(k.RECENT_WALLET)}catch{console.info("Unable to delete AppKit recent")}},setConnectedConnectorId(e,t){try{let n=Qe(e);U.setItem(n,t)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return U.getItem(k.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(e){if(e)try{let t=Qe(e);return U.getItem(t)}catch{console.info("Unable to get connected connector id in namespace",e)}},setConnectedSocialProvider(e){try{U.setItem(k.CONNECTED_SOCIAL,e)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return U.getItem(k.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{U.removeItem(k.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return U.getItem(k.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){return U.getItem(k.ACTIVE_CAIP_NETWORK_ID)?.split(":")?.[1]},setConnectionStatus(e){try{U.setItem(k.CONNECTION_STATUS,e)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return U.getItem(k.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{let e=U.getItem(k.CONNECTED_NAMESPACES);return e?.length?e.split(","):[]}catch{return[]}},setConnectedNamespaces(e){try{let t=Array.from(new Set(e));U.setItem(k.CONNECTED_NAMESPACES,t.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(e){try{let t=_.getConnectedNamespaces();t.includes(e)||(t.push(e),_.setConnectedNamespaces(t))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(e){try{let t=_.getConnectedNamespaces(),n=t.indexOf(e);n>-1&&(t.splice(n,1),_.setConnectedNamespaces(t))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return U.getItem(k.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(e){try{U.setItem(k.TELEGRAM_SOCIAL_PROVIDER,e)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{U.removeItem(k.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let e={};try{let t=U.getItem(k.PORTFOLIO_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromBalanceCache(e){try{let t=_.getBalanceCache();U.setItem(k.PORTFOLIO_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getBalanceCacheForCaipAddress(e){try{let n=_.getBalanceCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;_.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateBalanceCache(e){try{let t=_.getBalanceCache();t[e.caipAddress]=e,U.setItem(k.PORTFOLIO_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getNativeBalanceCache(){let e={};try{let t=U.getItem(k.NATIVE_BALANCE_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromNativeBalanceCache(e){try{let t=_.getBalanceCache();U.setItem(k.NATIVE_BALANCE_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getNativeBalanceCacheForCaipAddress(e){try{let n=_.getNativeBalanceCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",e),_.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateNativeBalanceCache(e){try{let t=_.getNativeBalanceCache();t[e.caipAddress]=e,U.setItem(k.NATIVE_BALANCE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getEnsCache(){let e={};try{let t=U.getItem(k.ENS_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get ens name cache")}return e},getEnsFromCacheForAddress(e){try{let n=_.getEnsCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;_.removeEnsFromCache(e)}catch{console.info("Unable to get ens name from cache",e)}},updateEnsCache(e){try{let t=_.getEnsCache();t[e.address]=e,U.setItem(k.ENS_CACHE,JSON.stringify(t))}catch{console.info("Unable to update ens name cache",e)}},removeEnsFromCache(e){try{let t=_.getEnsCache();U.setItem(k.ENS_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove ens name from cache",e)}},getIdentityCache(){let e={};try{let t=U.getItem(k.IDENTITY_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get identity cache")}return e},getIdentityFromCacheForAddress(e){try{let n=_.getIdentityCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;_.removeIdentityFromCache(e)}catch{console.info("Unable to get identity from cache",e)}},updateIdentityCache(e){try{let t=_.getIdentityCache();t[e.address]={identity:e.identity,timestamp:e.timestamp},U.setItem(k.IDENTITY_CACHE,JSON.stringify(t))}catch{console.info("Unable to update identity cache",e)}},removeIdentityFromCache(e){try{let t=_.getIdentityCache();U.setItem(k.IDENTITY_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove identity from cache",e)}},getTonWalletsCache(){try{let e=U.getItem(k.TON_WALLETS_CACHE),t=e?JSON.parse(e):void 0;if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.tonWallets))return t;_.removeTonWalletsCache()}catch{console.info("Unable to get ton wallets cache")}},updateTonWalletsCache(e){try{let t=_.getTonWalletsCache()||{timestamp:0,wallets:[]};t.timestamp=new Date().getTime(),t.wallets=e,U.setItem(k.TON_WALLETS_CACHE,JSON.stringify(t))}catch{console.info("Unable to update ton wallets cache",e)}},removeTonWalletsCache(){try{U.removeItem(k.TON_WALLETS_CACHE)}catch{console.info("Unable to remove ton wallets cache")}},clearAddressCache(){try{U.removeItem(k.PORTFOLIO_CACHE),U.removeItem(k.NATIVE_BALANCE_CACHE),U.removeItem(k.ENS_CACHE),U.removeItem(k.IDENTITY_CACHE),U.removeItem(k.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(e){try{U.setItem(k.PREFERRED_ACCOUNT_TYPES,JSON.stringify(e))}catch{console.info("Unable to set preferred account types",e)}},getPreferredAccountTypes(){try{let e=U.getItem(k.PREFERRED_ACCOUNT_TYPES);return e?JSON.parse(e):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(e,t){try{let n=_.getConnections(),r=n[t]??[],o=new Map;for(let i of r)o.set(i.connectorId,{...i});for(let i of e){let c=o.get(i.connectorId),p=i.connectorId===E.CONNECTOR_ID.AUTH;if(c&&!p){let l=new Set(c.accounts.map(h=>h.address.toLowerCase())),u=i.accounts.filter(h=>!l.has(h.address.toLowerCase()));c.accounts.push(...u)}else o.set(i.connectorId,{...i})}let s={...n,[t]:Array.from(o.values())};U.setItem(k.CONNECTIONS,JSON.stringify(s))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{let e=U.getItem(k.CONNECTIONS);return e?JSON.parse(e):{}}catch(e){return console.error("Unable to get connections from storage",e),{}}},deleteAddressFromConnection({connectorId:e,address:t,namespace:n}){try{let r=_.getConnections(),o=r[n]??[],s=new Map(o.map(c=>[c.connectorId,c])),i=s.get(e);i&&(i.accounts.filter(p=>p.address.toLowerCase()!==t.toLowerCase()).length===0?s.delete(e):s.set(e,{...i,accounts:i.accounts.filter(p=>p.address.toLowerCase()!==t.toLowerCase())})),U.setItem(k.CONNECTIONS,JSON.stringify({...r,[n]:Array.from(s.values())}))}catch{console.error(`Unable to remove address "${t}" from connector "${e}" in namespace "${n}"`)}},getDisconnectedConnectorIds(){try{let e=U.getItem(k.DISCONNECTED_CONNECTOR_IDS);return e?JSON.parse(e):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(e,t){try{let n=_.getDisconnectedConnectorIds(),r=n[t]??[];r.push(e),U.setItem(k.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[t]:Array.from(new Set(r))}))}catch{console.error(`Unable to set disconnected connector id "${e}" for namespace "${t}"`)}},removeDisconnectedConnectorId(e,t){try{let n=_.getDisconnectedConnectorIds(),r=n[t]??[];r=r.filter(o=>o.toLowerCase()!==e.toLowerCase()),U.setItem(k.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[t]:Array.from(new Set(r))}))}catch{console.error(`Unable to remove disconnected connector id "${e}" for namespace "${t}"`)}},isConnectorDisconnected(e,t){try{return(_.getDisconnectedConnectorIds()[t]??[]).some(o=>o.toLowerCase()===e.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${e}" for namespace "${t}"`)}return!1},getTransactionsCache(){try{let e=U.getItem(k.HISTORY_TRANSACTIONS_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:e,chainId:t=""}){try{let r=_.getTransactionsCache()[e]?.[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.transactionsHistory))return r.transactions;_.removeTransactionsCache({address:e,chainId:t})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:e,chainId:t="",timestamp:n,transactions:r}){try{let o=_.getTransactionsCache();o[e]={...o[e],[t]:{timestamp:n,transactions:r}},U.setItem(k.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(o))}catch{console.info("Unable to update transactions cache",{address:e,chainId:t,timestamp:n,transactions:r})}},removeTransactionsCache({address:e,chainId:t}){try{let n=_.getTransactionsCache(),r=n?.[e]||{},{[t]:o,...s}=r;U.setItem(k.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...n,[e]:s}))}catch{console.info("Unable to remove transactions cache",{address:e,chainId:t})}},getTokenPriceCache(){try{let e=U.getItem(k.TOKEN_PRICE_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(e){try{let n=_.getTokenPriceCache()[e.join(",")];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.tokenPrice))return n.tokenPrice;_.removeTokenPriceCache(e)}catch{console.info("Unable to get token price cache for addresses",e)}},updateTokenPriceCache(e){try{let t=_.getTokenPriceCache();t[e.addresses.join(",")]={timestamp:e.timestamp,tokenPrice:e.tokenPrice},U.setItem(k.TOKEN_PRICE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update token price cache",e)}},removeTokenPriceCache(e){try{let t=_.getTokenPriceCache();U.setItem(k.TOKEN_PRICE_CACHE,JSON.stringify({...t,[e.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",e)}},getLatestAppKitVersion(){try{let e=this.getLatestAppKitVersionCache(),t=e?.version;return t&&!this.isCacheExpired(e.timestamp,this.cacheExpiry.latestAppKitVersion)?t:void 0}catch{console.info("Unable to get latest AppKit version")}},getLatestAppKitVersionCache(){try{let e=U.getItem(k.LATEST_APPKIT_VERSION);return e?JSON.parse(e):{}}catch{console.info("Unable to get latest AppKit version cache")}return{}},updateLatestAppKitVersion(e){try{let t=_.getLatestAppKitVersionCache();t.timestamp=e.timestamp,t.version=e.version,U.setItem(k.LATEST_APPKIT_VERSION,JSON.stringify(t))}catch{console.info("Unable to update latest AppKit version on local storage",e)}}};m();C();f();var T={getWindow(){if(!(typeof window>"u"))return window},isMobile(){return this.isClient()?!!(window?.matchMedia&&typeof window.matchMedia=="function"&&window.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(e,t=""){return e?.caipNetworkId.toLocaleLowerCase().includes(t.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;let e=window?.navigator.userAgent.toLowerCase();return T.isMobile()&&e.includes("android")},isIos(){if(!this.isMobile())return!1;let e=window?.navigator.userAgent.toLowerCase();return e.includes("iphone")||e.includes("ipad")},isSafari(){return this.isClient()?(window?.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(e){return e?e-Date.now()<=X.TEN_SEC_MS:!0},isAllowedRetry(e,t=X.ONE_SEC_MS){return Date.now()-e>=t},copyToClopboard(e){navigator.clipboard.writeText(e)},isIframe(){try{return window?.self!==window?.top}catch{return!1}},isSafeApp(){if(T.isClient()&&window.self!==window.top)try{let e=window?.location?.ancestorOrigins?.[0],t="https://app.safe.global";if(e){let n=new URL(e),r=new URL(t);return n.hostname===r.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+X.FOUR_MINUTES_MS},getNetworkId(e){return e?.split(":")[1]},getPlainAddress(e){return e?.split(":")[2]},async wait(e){return new Promise(t=>{setTimeout(t,e)})},debounce(e,t=500){let n;return(...r)=>{function o(){e(...r)}n&&clearTimeout(n),n=setTimeout(o,t)}},isHttpUrl(e){return e.startsWith("http://")||e.startsWith("https://")},formatNativeUrl(e,t,n=null){if(T.isHttpUrl(e))return this.formatUniversalUrl(e,t);let r=e,o=n;r.includes("://")||(r=e.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),o&&!o?.endsWith("/")&&(o=`${o}/`),this.isTelegram()&&this.isAndroid()&&(t=encodeURIComponent(t));let s=encodeURIComponent(t);return{redirect:`${r}wc?uri=${s}`,redirectUniversalLink:o?`${o}wc?uri=${s}`:void 0,href:r}},formatUniversalUrl(e,t){if(!T.isHttpUrl(e))return this.formatNativeUrl(e,t);let n=e;n.endsWith("/")||(n=`${n}/`);let r=encodeURIComponent(t);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(e){return e==="popupWindow"?e:this.isTelegram()?_.getTelegramSocialProvider()?"_top":"_blank":e},openHref(e,t,n){window?.open(e,this.getOpenTargetForPlatform(t),n||"noreferrer noopener")},returnOpenHref(e,t,n){return window?.open(e,this.getOpenTargetForPlatform(t),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){if(typeof window>"u")return!1;let e=window?.matchMedia&&typeof window.matchMedia=="function"?window.matchMedia("(display-mode: standalone)")?.matches:!1,t=window?.navigator?.standalone;return!!(e||t)},async preloadImage(e){let t=new Promise((n,r)=>{let o=new Image;o.onload=n,o.onerror=r,o.crossOrigin="anonymous",o.src=e});return Promise.race([t,T.wait(2e3)])},parseBalance(e,t){let n="0.000";if(typeof e=="string"){let p=Number(e);if(!isNaN(p)){let l=(Math.floor(p*1e3)/1e3).toFixed(3);l&&(n=l)}}let[r,o]=n.split("."),s=r||"0",i=o||"000";return{formattedText:`${s}.${i}${t?` ${t}`:""}`,value:s,decimals:i,symbol:t}},getApiUrl(){return E.W3M_API_URL},getBlockchainApiUrl(){return E.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return E.PULSE_API_URL},getUUID(){return crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{let t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})},parseError(e){return typeof e=="string"?e:typeof e?.issues?.[0]?.message=="string"?e.issues[0].message:e instanceof Error?e.message:"Unknown error"},sortRequestedNetworks(e,t=[]){let n={};return t&&e&&(e.forEach((r,o)=>{n[r]=o}),t.sort((r,o)=>{let s=n[r.id],i=n[o.id];return s!==void 0&&i!==void 0?s-i:s!==void 0?-1:i!==void 0?1:0})),t},calculateBalance(e){let t=0;for(let n of e)t+=n.value??0;return t},formatTokenBalance(e){let t=e.toFixed(2),[n,r]=t.split(".");return{dollars:n,pennies:r}},isAddress(e,t="eip155"){switch(t){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)||/^(?:0x)?[0-9A-F]{40}$/iu.test(e))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(e);case"bip122":{let n=/^[1][a-km-zA-HJ-NP-Z1-9]{25,34}$/u.test(e),r=/^[3][a-km-zA-HJ-NP-Z1-9]{25,34}$/u.test(e),o=/^bc1[a-z0-9]{39,87}$/u.test(e),s=/^bc1p[a-z0-9]{58}$/u.test(e);return n||r||o||s}default:return!1}},uniqueBy(e,t){let n=new Set;return e.filter(r=>{let o=r[t];return n.has(o)?!1:(n.add(o),!0)})},generateSdkVersion(e,t,n){let o=e.length===0?X.ADAPTER_TYPES.UNIVERSAL:e.map(s=>s.adapterType).join(",");return`${t}-${o}-${n}`},createAccount(e,t,n,r,o){return{namespace:e,address:t,type:n,publicKey:r,path:o}},isCaipAddress(e){if(typeof e!="string")return!1;let t=e.split(":"),n=t[0];return t.filter(Boolean).length===3&&n in E.CHAIN_NAME_MAP},getAccount(e){return e?typeof e=="string"?{address:e,chainId:void 0}:{address:e.address,chainId:e.chainId}:{address:void 0,chainId:void 0}},isMac(){let e=window?.navigator.userAgent.toLowerCase();return e.includes("macintosh")&&!e.includes("safari")},formatTelegramSocialLoginUrl(e){let t=`--${encodeURIComponent(window?.location.href)}`,n="state=";if(new URL(e).host==="auth.magic.link"){let o="provider_authorization_url=",s=e.substring(e.indexOf(o)+o.length),i=this.injectIntoUrl(decodeURIComponent(s),n,t);return e.replace(s,encodeURIComponent(i))}return this.injectIntoUrl(e,n,t)},injectIntoUrl(e,t,n){let r=e.indexOf(t);if(r===-1)throw new Error(`${t} parameter not found in the URL: ${e}`);let o=e.indexOf("&",r),s=t.length,i=o!==-1?o:e.length,c=e.substring(0,r+s),p=e.substring(r+s,i),l=e.substring(o),u=p+n;return c+u+l},isNumber(e){return typeof e!="number"&&typeof e!="string"?!1:!isNaN(Number(e))}};m();C();f();var Cr="https://secure.walletconnect.org/sdk",Nn=(typeof g<"u"&&typeof g.env<"u"?g.env.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||Cr,Sn=(typeof g<"u"&&typeof g.env<"u"?g.env.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",wn=(typeof g<"u"&&typeof g.env<"u"?g.env.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",w={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",APP_RPC_ABORT:"@w3m-app/RPC_ABORT",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",FRAME_RPC_ABORT_SUCCESS:"@w3m-frame/RPC_ABORT_SUCCESS",FRAME_RPC_ABORT_ERROR:"@w3m-frame/RPC_ABORT_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},te={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}};m();C();f();m();C();f();m();C();f();var Wt={address:/^0x(?:[A-Fa-f0-9]{40})$/u,transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u};var Ct=30*1e3,me={checkIfAllowedToTriggerEmail(){let e=ne.get(w.LAST_EMAIL_LOGIN_TIME);if(e){let t=Date.now()-Number(e);if(t<Ct){let n=Math.ceil((Ct-t)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){let e=ne.get(w.LAST_EMAIL_LOGIN_TIME);if(e){let t=Date.now()-Number(e);if(t<Ct)return Math.ceil((Ct-t)/1e3)}return 0},checkIfRequestExists(e){return te.NOT_SAFE_RPC_METHODS.includes(e.method)||te.SAFE_RPC_METHODS.includes(e.method)},getResponseType(e){return typeof e=="string"&&(e?.match(Wt.transactionHash)||e?.match(Wt.signedMessage))?w.RPC_RESPONSE_TYPE_TX:w.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(e){return te.SAFE_RPC_METHODS.includes(e.method)},isClient:typeof window<"u"};var ne={set(e,t){me.isClient&&localStorage.setItem(`${w.STORAGE_KEY}${e}`,t)},get(e){return me.isClient?localStorage.getItem(`${w.STORAGE_KEY}${e}`):null},delete(e,t){me.isClient&&(t?localStorage.removeItem(e):localStorage.removeItem(`${w.STORAGE_KEY}${e}`))}};m();C();f();m();C();f();m();C();f();var oe=a.object({message:a.string()});function y(e){return a.literal(w[e])}var Et=a.object({serializedMessage:a.string().optional(),accountAddress:a.string(),chainId:a.string(),notBefore:a.string().optional(),domain:a.string(),uri:a.string(),version:a.string(),nonce:a.string(),statement:a.string().optional(),resources:a.array(a.string()).optional(),requestId:a.string().optional(),issuedAt:a.string().optional(),expirationTime:a.string().optional()}),vc=a.object({accessList:a.array(a.string()),blockHash:a.string().nullable(),blockNumber:a.string().nullable(),chainId:a.string().or(a.number()),from:a.string(),gas:a.string(),hash:a.string(),input:a.string().nullable(),maxFeePerGas:a.string(),maxPriorityFeePerGas:a.string(),nonce:a.string(),r:a.string(),s:a.string(),to:a.string(),transactionIndex:a.string().nullable(),type:a.string(),v:a.string(),value:a.string()}),Er=a.object({chainId:a.string().or(a.number()),rpcUrl:a.optional(a.string())}),hr=a.object({email:a.string().email()}),gr=a.object({otp:a.string()}),_r=a.object({uri:a.string(),preferredAccountType:a.optional(a.string()),chainId:a.optional(a.string().or(a.number())),siwxMessage:a.optional(Et),rpcUrl:a.optional(a.string())}),Ar=a.object({chainId:a.optional(a.string().or(a.number())),preferredAccountType:a.optional(a.string()),socialUri:a.optional(a.string()),siwxMessage:a.optional(Et),rpcUrl:a.optional(a.string())}),Nr=a.object({provider:a.enum(["google","github","apple","facebook","x","discord"])}),Sr=a.object({email:a.string().email()}),wr=a.object({otp:a.string()}),Tr=a.object({otp:a.string()}),yr=a.object({themeMode:a.optional(a.enum(["light","dark"])),themeVariables:a.optional(a.record(a.string(),a.string().or(a.number()))),w3mThemeVariables:a.optional(a.record(a.string(),a.string()))}),Rr=a.object({metadata:a.object({name:a.string(),description:a.string(),url:a.string(),icons:a.array(a.string())}).optional(),sdkVersion:a.string().optional(),sdkType:a.string().optional(),projectId:a.string()}),Ir=a.object({type:a.string()}),br=a.object({action:a.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),Or=a.object({url:a.string()}),vr=a.object({userName:a.string()}),Ur=a.object({email:a.string().optional().nullable(),address:a.string(),chainId:a.string().or(a.number()),accounts:a.array(a.object({address:a.string(),type:a.enum([te.ACCOUNT_TYPES.EOA,te.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:a.string().optional().nullable(),preferredAccountType:a.optional(a.string()),signature:a.string().optional(),message:a.string().optional(),siwxMessage:a.optional(Et)}),Pr=a.object({action:a.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),kr=a.object({email:a.string().email().optional().nullable(),address:a.string(),chainId:a.string().or(a.number()),smartAccountDeployed:a.optional(a.boolean()),accounts:a.array(a.object({address:a.string(),type:a.enum([te.ACCOUNT_TYPES.EOA,te.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:a.optional(a.string()),signature:a.string().optional(),message:a.string().optional(),siwxMessage:a.optional(Et)}),Lr=a.object({uri:a.string()}),Dr=a.object({isConnected:a.boolean()}),Mr=a.object({chainId:a.string().or(a.number())}),xr=a.object({chainId:a.string().or(a.number())}),Br=a.object({newEmail:a.string().email()}),Fr=a.object({smartAccountEnabledNetworks:a.array(a.number())}),Uc=a.object({address:a.string(),isDeployed:a.boolean()}),Wr=a.object({version:a.string().optional()}),Hr=a.object({type:a.string(),address:a.string()}),Kr=a.any(),jr=a.object({method:a.literal("eth_accounts")}),Vr=a.object({method:a.literal("eth_blockNumber")}),Gr=a.object({method:a.literal("eth_call"),params:a.array(a.any())}),Yr=a.object({method:a.literal("eth_chainId")}),$r=a.object({method:a.literal("eth_estimateGas"),params:a.array(a.any())}),qr=a.object({method:a.literal("eth_feeHistory"),params:a.array(a.any())}),zr=a.object({method:a.literal("eth_gasPrice")}),Jr=a.object({method:a.literal("eth_getAccount"),params:a.array(a.any())}),Xr=a.object({method:a.literal("eth_getBalance"),params:a.array(a.any())}),Qr=a.object({method:a.literal("eth_getBlockByHash"),params:a.array(a.any())}),Zr=a.object({method:a.literal("eth_getBlockByNumber"),params:a.array(a.any())}),eo=a.object({method:a.literal("eth_getBlockReceipts"),params:a.array(a.any())}),to=a.object({method:a.literal("eth_getBlockTransactionCountByHash"),params:a.array(a.any())}),no=a.object({method:a.literal("eth_getBlockTransactionCountByNumber"),params:a.array(a.any())}),ro=a.object({method:a.literal("eth_getCode"),params:a.array(a.any())}),oo=a.object({method:a.literal("eth_getFilterChanges"),params:a.array(a.any())}),ao=a.object({method:a.literal("eth_getFilterLogs"),params:a.array(a.any())}),so=a.object({method:a.literal("eth_getLogs"),params:a.array(a.any())}),io=a.object({method:a.literal("eth_getProof"),params:a.array(a.any())}),co=a.object({method:a.literal("eth_getStorageAt"),params:a.array(a.any())}),lo=a.object({method:a.literal("eth_getTransactionByBlockHashAndIndex"),params:a.array(a.any())}),po=a.object({method:a.literal("eth_getTransactionByBlockNumberAndIndex"),params:a.array(a.any())}),uo=a.object({method:a.literal("eth_getTransactionByHash"),params:a.array(a.any())}),mo=a.object({method:a.literal("eth_getTransactionCount"),params:a.array(a.any())}),fo=a.object({method:a.literal("eth_getTransactionReceipt"),params:a.array(a.any())}),Co=a.object({method:a.literal("eth_getUncleCountByBlockHash"),params:a.array(a.any())}),Eo=a.object({method:a.literal("eth_getUncleCountByBlockNumber"),params:a.array(a.any())}),ho=a.object({method:a.literal("eth_maxPriorityFeePerGas")}),go=a.object({method:a.literal("eth_newBlockFilter")}),_o=a.object({method:a.literal("eth_newFilter"),params:a.array(a.any())}),Ao=a.object({method:a.literal("eth_newPendingTransactionFilter")}),No=a.object({method:a.literal("eth_sendRawTransaction"),params:a.array(a.any())}),So=a.object({method:a.literal("eth_syncing"),params:a.array(a.any())}),wo=a.object({method:a.literal("eth_uninstallFilter"),params:a.array(a.any())}),Tn=a.object({method:a.literal("personal_sign"),params:a.array(a.any())}),To=a.object({method:a.literal("eth_signTypedData_v4"),params:a.array(a.any())}),yo=a.object({method:a.literal("eth_sendTransaction"),params:a.array(a.any())}),Ro=a.object({method:a.literal("solana_signMessage"),params:a.object({message:a.string(),pubkey:a.string()})}),Io=a.object({method:a.literal("solana_signTransaction"),params:a.object({transaction:a.string()})}),bo=a.object({method:a.literal("solana_signAllTransactions"),params:a.object({transactions:a.array(a.string())})}),Oo=a.object({method:a.literal("solana_signAndSendTransaction"),params:a.object({transaction:a.string(),options:a.object({skipPreflight:a.boolean().optional(),preflightCommitment:a.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:a.number().optional(),minContextSlot:a.number().optional()}).optional()})}),vo=a.object({method:a.literal("wallet_sendCalls"),params:a.array(a.object({chainId:a.string().or(a.number()).optional(),from:a.string().optional(),version:a.string().optional(),capabilities:a.any().optional(),calls:a.array(a.object({to:a.string().startsWith("0x"),data:a.string().startsWith("0x").optional(),value:a.string().optional()}))}))}),Uo=a.object({method:a.literal("wallet_getCallsStatus"),params:a.array(a.string())}),Po=a.object({method:a.literal("wallet_getCapabilities"),params:a.array(a.string().or(a.number()).optional()).optional()}),ko=a.object({method:a.literal("wallet_grantPermissions"),params:a.array(a.any())}),Lo=a.object({method:a.literal("wallet_revokePermissions"),params:a.any()}),Do=a.object({method:a.literal("wallet_getAssets"),params:a.any()}),yn=a.object({token:a.string()}),R=a.object({id:a.string().optional()}),ht={appEvent:R.extend({type:y("APP_SWITCH_NETWORK"),payload:Er}).or(R.extend({type:y("APP_CONNECT_EMAIL"),payload:hr})).or(R.extend({type:y("APP_CONNECT_DEVICE")})).or(R.extend({type:y("APP_CONNECT_OTP"),payload:gr})).or(R.extend({type:y("APP_CONNECT_SOCIAL"),payload:_r})).or(R.extend({type:y("APP_GET_FARCASTER_URI")})).or(R.extend({type:y("APP_CONNECT_FARCASTER")})).or(R.extend({type:y("APP_GET_USER"),payload:a.optional(Ar)})).or(R.extend({type:y("APP_GET_SOCIAL_REDIRECT_URI"),payload:Nr})).or(R.extend({type:y("APP_SIGN_OUT")})).or(R.extend({type:y("APP_IS_CONNECTED"),payload:a.optional(yn)})).or(R.extend({type:y("APP_GET_CHAIN_ID")})).or(R.extend({type:y("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(R.extend({type:y("APP_INIT_SMART_ACCOUNT")})).or(R.extend({type:y("APP_SET_PREFERRED_ACCOUNT"),payload:Ir})).or(R.extend({type:y("APP_RPC_REQUEST"),payload:Tn.or(Do).or(jr).or(Vr).or(Gr).or(Yr).or($r).or(qr).or(zr).or(Jr).or(Xr).or(Qr).or(Zr).or(eo).or(to).or(no).or(ro).or(oo).or(ao).or(so).or(io).or(co).or(lo).or(po).or(uo).or(mo).or(fo).or(Co).or(Eo).or(ho).or(go).or(_o).or(Ao).or(No).or(So).or(wo).or(Tn).or(To).or(yo).or(Ro).or(Io).or(bo).or(Oo).or(Uo).or(vo).or(Po).or(ko).or(Lo).and(a.object({chainId:a.string().or(a.number()).optional(),chainNamespace:a.enum(["eip155","solana","polkadot","bip122","cosmos"]).optional(),rpcUrl:a.string().optional()}))})).or(R.extend({type:y("APP_UPDATE_EMAIL"),payload:Sr})).or(R.extend({type:y("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:wr})).or(R.extend({type:y("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:Tr})).or(R.extend({type:y("APP_SYNC_THEME"),payload:yr})).or(R.extend({type:y("APP_SYNC_DAPP_DATA"),payload:Rr})).or(R.extend({type:y("APP_RELOAD")})).or(R.extend({type:y("APP_RPC_ABORT")})),frameEvent:R.extend({type:y("FRAME_SWITCH_NETWORK_ERROR"),payload:oe}).or(R.extend({type:y("FRAME_SWITCH_NETWORK_SUCCESS"),payload:xr})).or(R.extend({type:y("FRAME_CONNECT_EMAIL_SUCCESS"),payload:br})).or(R.extend({type:y("FRAME_CONNECT_EMAIL_ERROR"),payload:oe})).or(R.extend({type:y("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:Or})).or(R.extend({type:y("FRAME_GET_FARCASTER_URI_ERROR"),payload:oe})).or(R.extend({type:y("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:vr})).or(R.extend({type:y("FRAME_CONNECT_FARCASTER_ERROR"),payload:oe})).or(R.extend({type:y("FRAME_CONNECT_OTP_ERROR"),payload:oe})).or(R.extend({type:y("FRAME_CONNECT_OTP_SUCCESS")})).or(R.extend({type:y("FRAME_CONNECT_DEVICE_ERROR"),payload:oe})).or(R.extend({type:y("FRAME_CONNECT_DEVICE_SUCCESS")})).or(R.extend({type:y("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:Ur})).or(R.extend({type:y("FRAME_CONNECT_SOCIAL_ERROR"),payload:oe})).or(R.extend({type:y("FRAME_GET_USER_ERROR"),payload:oe})).or(R.extend({type:y("FRAME_GET_USER_SUCCESS"),payload:kr})).or(R.extend({type:y("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:oe})).or(R.extend({type:y("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:Lr})).or(R.extend({type:y("FRAME_SIGN_OUT_ERROR"),payload:oe})).or(R.extend({type:y("FRAME_SIGN_OUT_SUCCESS")})).or(R.extend({type:y("FRAME_IS_CONNECTED_ERROR"),payload:oe})).or(R.extend({type:y("FRAME_IS_CONNECTED_SUCCESS"),payload:Dr})).or(R.extend({type:y("FRAME_GET_CHAIN_ID_ERROR"),payload:oe})).or(R.extend({type:y("FRAME_GET_CHAIN_ID_SUCCESS"),payload:Mr})).or(R.extend({type:y("FRAME_RPC_REQUEST_ERROR"),payload:oe})).or(R.extend({type:y("FRAME_RPC_REQUEST_SUCCESS"),payload:Kr})).or(R.extend({type:y("FRAME_SESSION_UPDATE"),payload:yn})).or(R.extend({type:y("FRAME_UPDATE_EMAIL_ERROR"),payload:oe})).or(R.extend({type:y("FRAME_UPDATE_EMAIL_SUCCESS"),payload:Pr})).or(R.extend({type:y("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:oe})).or(R.extend({type:y("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(R.extend({type:y("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:oe})).or(R.extend({type:y("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:Br})).or(R.extend({type:y("FRAME_SYNC_THEME_ERROR"),payload:oe})).or(R.extend({type:y("FRAME_SYNC_THEME_SUCCESS")})).or(R.extend({type:y("FRAME_SYNC_DAPP_DATA_ERROR"),payload:oe})).or(R.extend({type:y("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(R.extend({type:y("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:Fr})).or(R.extend({type:y("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:oe})).or(R.extend({type:y("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:oe})).or(R.extend({type:y("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:Hr})).or(R.extend({type:y("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:oe})).or(R.extend({type:y("FRAME_READY"),payload:Wr})).or(R.extend({type:y("FRAME_RELOAD_ERROR"),payload:oe})).or(R.extend({type:y("FRAME_RELOAD_SUCCESS")}))};function Ht(e,t={}){return typeof t?.type=="string"&&t?.type?.includes(e)}function Mo({projectId:e,chainId:t,enableLogger:n,rpcUrl:r=E.BLOCKCHAIN_API_RPC_URL,enableCloudAuthAccount:o=!1}){let s=new URL(Nn);s.searchParams.set("projectId",e),s.searchParams.set("chainId",String(t)),s.searchParams.set("version",wn),s.searchParams.set("enableLogger",String(n)),s.searchParams.set("rpcUrl",r);let i=ne.get("dapp_smart_account_version");return i&&(i==="v6"||i==="v7")&&(console.warn(">> AppKit - Forcing smart account version",i),s.searchParams.set("smartAccountVersion",i)),o&&s.searchParams.set("enableCloudAuthAccount","true"),s.toString()}var gt=class{constructor({projectId:t,isAppClient:n=!1,chainId:r="eip155:1",enableLogger:o=!0,enableCloudAuthAccount:s=!1,rpcUrl:i=E.BLOCKCHAIN_API_RPC_URL}){if(this.iframe=null,this.iframeIsReady=!1,this.initFrame=()=>{let c=document.getElementById("w3m-iframe");this.iframe&&!c&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(c,p,l)=>{function u({data:h}){if(!Ht(w.FRAME_EVENT_KEY,h))return;let P=ht.frameEvent.safeParse(h);if(!P.success){console.warn("W3mFrame: invalid frame event",P.error.message);return}P.data?.id===c&&(p(P.data),window.removeEventListener("message",u))}me.isClient&&(window.addEventListener("message",u),l.addEventListener("abort",()=>{window.removeEventListener("message",u)}))},onFrameEvent:c=>{me.isClient&&window.addEventListener("message",({data:p})=>{if(!Ht(w.FRAME_EVENT_KEY,p))return;let l=ht.frameEvent.safeParse(p);l.success?c(l.data):console.warn("W3mFrame: invalid frame event",l.error.message)})},onAppEvent:c=>{me.isClient&&window.addEventListener("message",({data:p})=>{if(!Ht(w.APP_EVENT_KEY,p))return;let l=ht.appEvent.safeParse(p);l.success||console.warn("W3mFrame: invalid app event",l.error.message),c(p)})},postAppEvent:c=>{if(me.isClient){if(!this.iframe?.contentWindow)throw new Error("W3mFrame: iframe is not set");this.iframe.contentWindow.postMessage(c,"*")}},postFrameEvent:c=>{if(me.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");parent.postMessage(c,"*")}}},this.projectId=t,this.frameLoadPromise=new Promise((c,p)=>{this.frameLoadPromiseResolver={resolve:c,reject:p}}),this.rpcUrl=i,n&&(this.frameLoadPromise=new Promise((c,p)=>{this.frameLoadPromiseResolver={resolve:c,reject:p}}),me.isClient)){let c=document.createElement("iframe");c.id="w3m-iframe",c.src=Mo({projectId:t,chainId:r,enableLogger:o,rpcUrl:this.rpcUrl,enableCloudAuthAccount:s}),c.name="w3m-secure-iframe",c.style.position="fixed",c.style.zIndex="999999",c.style.display="none",c.style.border="none",c.style.animationDelay="0s, 50ms",c.style.borderBottomLeftRadius="clamp(0px, var(--apkt-borderRadius-8), 44px)",c.style.borderBottomRightRadius="clamp(0px, var(--apkt-borderRadius-8), 44px)",this.iframe=c,this.iframe.onerror=()=>{this.frameLoadPromiseResolver?.reject("Unable to load email login dependency")},this.events.onFrameEvent(p=>{p.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,this.frameLoadPromiseResolver?.resolve(void 0))})}}get networks(){let t=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(n=>({[n]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${n}&projectId=${this.projectId}`,chainId:n}}));return Object.assign({},...t)}};m();C();f();m();C();f();m();C();f();var Te={exports:{}};function xo(e){try{return JSON.stringify(e)}catch{return'"[Circular]"'}}var Bo=Fo;function Fo(e,t,n){var r=n&&n.stringify||xo,o=1;if(typeof e=="object"&&e!==null){var s=t.length+o;if(s===1)return e;var i=new Array(s);i[0]=r(e);for(var c=1;c<s;c++)i[c]=r(t[c]);return i.join(" ")}if(typeof e!="string")return e;var p=t.length;if(p===0)return e;for(var l="",u=1-o,h=-1,P=e&&e.length||0,N=0;N<P;){if(e.charCodeAt(N)===37&&N+1<P){switch(h=h>-1?h:0,e.charCodeAt(N+1)){case 100:case 102:if(u>=p||t[u]==null)break;h<N&&(l+=e.slice(h,N)),l+=Number(t[u]),h=N+2,N++;break;case 105:if(u>=p||t[u]==null)break;h<N&&(l+=e.slice(h,N)),l+=Math.floor(Number(t[u])),h=N+2,N++;break;case 79:case 111:case 106:if(u>=p||t[u]===void 0)break;h<N&&(l+=e.slice(h,N));var M=typeof t[u];if(M==="string"){l+="'"+t[u]+"'",h=N+2,N++;break}if(M==="function"){l+=t[u].name||"<anonymous>",h=N+2,N++;break}l+=r(t[u]),h=N+2,N++;break;case 115:if(u>=p)break;h<N&&(l+=e.slice(h,N)),l+=String(t[u]),h=N+2,N++;break;case 37:h<N&&(l+=e.slice(h,N)),l+="%",h=N+2,N++,u--;break}++u}++N}return h===-1?e:(h<P&&(l+=e.slice(h)),l)}var Rn=Bo;Te.exports=Re;var et=ea().console||{},Wo={mapHttpRequest:_t,mapHttpResponse:_t,wrapRequestSerializer:Kt,wrapResponseSerializer:Kt,wrapErrorSerializer:Kt,req:_t,res:_t,err:bn,errWithCause:bn};function Ue(e,t){return e==="silent"?1/0:t.levels.values[e]}var qt=Symbol("pino.logFuncs"),jt=Symbol("pino.hierarchy"),Ho={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function In(e,t){let n={logger:t,parent:e[jt]};t[jt]=n}function Ko(e,t,n){let r={};t.forEach(o=>{r[o]=n[o]?n[o]:et[o]||et[Ho[o]||"log"]||je}),e[qt]=r}function jo(e,t){return Array.isArray(e)?e.filter(function(n){return n!=="!stdSerializers.err"}):e===!0?Object.keys(t):!1}function Re(e){e=e||{},e.browser=e.browser||{};let t=e.browser.transmit;if(t&&typeof t.send!="function")throw Error("pino: transmit option must have a send function");let n=e.browser.write||et;e.browser.write&&(e.browser.asObject=!0);let r=e.serializers||{},o=jo(e.browser.serialize,r),s=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);let i=Object.keys(e.customLevels||{}),c=["error","fatal","warn","info","debug","trace"].concat(i);typeof n=="function"&&c.forEach(function(j){n[j]=n}),(e.enabled===!1||e.browser.disabled)&&(e.level="silent");let p=e.level||"info",l=Object.create(n);l.log||(l.log=je),Ko(l,c,n),In({},l),Object.defineProperty(l,"levelVal",{get:h}),Object.defineProperty(l,"level",{get:P,set:N});let u={transmit:t,serialize:o,asObject:e.browser.asObject,asObjectBindingsOnly:e.browser.asObjectBindingsOnly,formatters:e.browser.formatters,levels:c,timestamp:Xo(e),messageKey:e.messageKey||"msg",onChild:e.onChild||je};l.levels=Vo(e),l.level=p,l.isLevelEnabled=function(j){return this.levels.values[j]?this.levels.values[j]>=this.levels.values[this.level]:!1},l.setMaxListeners=l.getMaxListeners=l.emit=l.addListener=l.on=l.prependListener=l.once=l.prependOnceListener=l.removeListener=l.removeAllListeners=l.listeners=l.listenerCount=l.eventNames=l.write=l.flush=je,l.serializers=r,l._serialize=o,l._stdErrSerialize=s,l.child=function(...j){return M.call(this,u,...j)},t&&(l._logEvent=Vt());function h(){return Ue(this.level,this)}function P(){return this._level}function N(j){if(j!=="silent"&&!this.levels.values[j])throw Error("unknown level "+j);this._level=j,Fe(this,u,l,"error"),Fe(this,u,l,"fatal"),Fe(this,u,l,"warn"),Fe(this,u,l,"info"),Fe(this,u,l,"debug"),Fe(this,u,l,"trace"),i.forEach(W=>{Fe(this,u,l,W)})}function M(j,W,J){if(!W)throw new Error("missing bindings for child Pino");J=J||{},o&&W.serializers&&(J.serializers=W.serializers);let q=J.serializers;if(o&&q){var de=Object.assign({},r,q),Me=e.browser.serialize===!0?Object.keys(de):o;delete W.serializers,zt([W],Me,de,this._stdErrSerialize)}function lt(dt){this._childLevel=(dt._childLevel|0)+1,this.bindings=W,de&&(this.serializers=de,this._serialize=Me),t&&(this._logEvent=Vt([].concat(dt._logEvent.bindings,W)))}lt.prototype=this;let qe=new lt(this);return In(this,qe),qe.child=function(...dt){return M.call(this,j,...dt)},qe.level=J.level||this.level,j.onChild(qe),qe}return l}function Vo(e){let t=e.customLevels||{},n=Object.assign({},Re.levels.values,t),r=Object.assign({},Re.levels.labels,Go(t));return{values:n,labels:r}}function Go(e){let t={};return Object.keys(e).forEach(function(n){t[e[n]]=n}),t}Re.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},Re.stdSerializers=Wo,Re.stdTimeFunctions=Object.assign({},{nullTime:Pn,epochTime:kn,unixTime:Qo,isoTime:Zo});function Yo(e){let t=[];e.bindings&&t.push(e.bindings);let n=e[jt];for(;n.parent;)n=n.parent,n.logger.bindings&&t.push(n.logger.bindings);return t.reverse()}function Fe(e,t,n,r){if(Object.defineProperty(e,r,{value:Ue(e.level,n)>Ue(r,n)?je:n[qt][r],writable:!0,enumerable:!0,configurable:!0}),e[r]===je){if(!t.transmit)return;let s=t.transmit.level||e.level,i=Ue(s,n);if(Ue(r,n)<i)return}e[r]=qo(e,t,n,r);let o=Yo(e);o.length!==0&&(e[r]=$o(o,e[r]))}function $o(e,t){return function(){return t.apply(this,[...e,...arguments])}}function qo(e,t,n,r){return function(o){return function(){let s=t.timestamp(),i=new Array(arguments.length),c=Object.getPrototypeOf&&Object.getPrototypeOf(this)===et?et:this;for(var p=0;p<i.length;p++)i[p]=arguments[p];var l=!1;if(t.serialize&&(zt(i,this._serialize,this.serializers,this._stdErrSerialize),l=!0),t.asObject||t.formatters?o.call(c,...zo(this,r,i,s,t)):o.apply(c,i),t.transmit){let u=t.transmit.level||e._level,h=Ue(u,n),P=Ue(r,n);if(P<h)return;Jo(this,{ts:s,methodLevel:r,methodValue:P,transmitLevel:u,transmitValue:n.levels.values[t.transmit.level||e._level],send:t.transmit.send,val:Ue(e._level,n)},i,l)}}}(e[qt][r])}function zo(e,t,n,r,o){let{level:s,log:i=h=>h}=o.formatters||{},c=n.slice(),p=c[0],l={},u=(e._childLevel|0)+1;if(u<1&&(u=1),r&&(l.time=r),s){let h=s(t,e.levels.values[t]);Object.assign(l,h)}else l.level=e.levels.values[t];if(o.asObjectBindingsOnly){if(p!==null&&typeof p=="object")for(;u--&&typeof c[0]=="object";)Object.assign(l,c.shift());return[i(l),...c]}else{if(p!==null&&typeof p=="object"){for(;u--&&typeof c[0]=="object";)Object.assign(l,c.shift());p=c.length?Rn(c.shift(),c):void 0}else typeof p=="string"&&(p=Rn(c.shift(),c));return p!==void 0&&(l[o.messageKey]=p),[i(l)]}}function zt(e,t,n,r){for(let o in e)if(r&&e[o]instanceof Error)e[o]=Re.stdSerializers.err(e[o]);else if(typeof e[o]=="object"&&!Array.isArray(e[o])&&t)for(let s in e[o])t.indexOf(s)>-1&&s in n&&(e[o][s]=n[s](e[o][s]))}function Jo(e,t,n,r=!1){let o=t.send,s=t.ts,i=t.methodLevel,c=t.methodValue,p=t.val,l=e._logEvent.bindings;r||zt(n,e._serialize||Object.keys(e.serializers),e.serializers,e._stdErrSerialize===void 0?!0:e._stdErrSerialize),e._logEvent.ts=s,e._logEvent.messages=n.filter(function(u){return l.indexOf(u)===-1}),e._logEvent.level.label=i,e._logEvent.level.value=c,o(i,e._logEvent,p),e._logEvent=Vt(l)}function Vt(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function bn(e){let t={type:e.constructor.name,msg:e.message,stack:e.stack};for(let n in e)t[n]===void 0&&(t[n]=e[n]);return t}function Xo(e){return typeof e.timestamp=="function"?e.timestamp:e.timestamp===!1?Pn:kn}function _t(){return{}}function Kt(e){return e}function je(){}function Pn(){return!1}function kn(){return Date.now()}function Qo(){return Math.round(Date.now()/1e3)}function Zo(){return new Date(Date.now()).toISOString()}function ea(){function e(t){return typeof t<"u"&&t}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return e(self)||e(window)||e(this)||{}}}Te.exports.default=Re;var Gc=Te.exports.pino=Re,ta={level:"info"},yt="custom_context",Jt=1e3*1024,na=Object.defineProperty,ra=(e,t,n)=>t in e?na(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ve=(e,t,n)=>ra(e,typeof t!="symbol"?t+"":t,n),Gt=class{constructor(t){ve(this,"nodeValue"),ve(this,"sizeInBytes"),ve(this,"next"),this.nodeValue=t,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},Nt=class{constructor(t){ve(this,"lengthInNodes"),ve(this,"sizeInBytes"),ve(this,"head"),ve(this,"tail"),ve(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){let n=new Gt(t);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;let t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){let t=[],n=this.head;for(;n!==null;)t.push(n.value),n=n.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};let n=t.value;return t=t.next,{done:!1,value:n}}}}},oa=e=>JSON.stringify(e,(t,n)=>typeof n=="bigint"?n.toString()+"n":n);function On(e){return typeof e=="string"?e:oa(e)||""}var aa=Object.defineProperty,sa=(e,t,n)=>t in e?aa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,At=(e,t,n)=>sa(e,typeof t!="symbol"?t+"":t,n),St=class{constructor(t,n=Jt){At(this,"logs"),At(this,"level"),At(this,"levelValue"),At(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=t??"error",this.levelValue=Te.exports.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new Nt(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,n){n===Te.exports.levels.values.error?console.error(t):n===Te.exports.levels.values.warn?console.warn(t):n===Te.exports.levels.values.debug?console.debug(t):n===Te.exports.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(On({timestamp:new Date().toISOString(),log:t}));let n=typeof t=="string"?JSON.parse(t).level:t.level;n>=this.levelValue&&this.forwardToConsole(t,n)}getLogs(){return this.logs}clearLogs(){this.logs=new Nt(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){let n=this.getLogArray();return n.push(On({extraMetadata:t})),new Blob(n,{type:"application/json"})}},ia=Object.defineProperty,ca=(e,t,n)=>t in e?ia(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,la=(e,t,n)=>ca(e,typeof t!="symbol"?t+"":t,n),Yt=class{constructor(t,n=Jt){la(this,"baseChunkLogger"),this.baseChunkLogger=new St(t,n)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){let n=URL.createObjectURL(this.logsToBlob(t)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},da=Object.defineProperty,pa=(e,t,n)=>t in e?da(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ua=(e,t,n)=>pa(e,typeof t!="symbol"?t+"":t,n),$t=class{constructor(t,n=Jt){ua(this,"baseChunkLogger"),this.baseChunkLogger=new St(t,n)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}},ma=Object.defineProperty,fa=Object.defineProperties,Ca=Object.getOwnPropertyDescriptors,vn=Object.getOwnPropertySymbols,Ea=Object.prototype.hasOwnProperty,ha=Object.prototype.propertyIsEnumerable,Un=(e,t,n)=>t in e?ma(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wt=(e,t)=>{for(var n in t||(t={}))Ea.call(t,n)&&Un(e,n,t[n]);if(vn)for(var n of vn(t))ha.call(t,n)&&Un(e,n,t[n]);return e},Tt=(e,t)=>fa(e,Ca(t));function Ln(e){return Tt(wt({},e),{level:e?.level||ta.level})}function ga(e,t,n=yt){return e[n]=t,e}function _a(e,t=yt){return e[t]||""}function Aa(e,t,n=yt){let r=_a(e,n);return r.trim()?`${r}/${t}`:t}function Dn(e,t,n=yt){let r=Aa(e,t,n),o=e.child({context:r});return ga(o,r,n)}function Na(e){var t,n;let r=new Yt((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:Te.exports(Tt(wt({},e.opts),{level:"trace",browser:Tt(wt({},(n=e.opts)==null?void 0:n.browser),{write:o=>r.write(o)})})),chunkLoggerController:r}}function Sa(e){var t;let n=new $t((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:Te.exports(Tt(wt({},e.opts),{level:"trace"}),n),chunkLoggerController:n}}function Mn(e){return typeof e.loggerOverride<"u"&&typeof e.loggerOverride!="string"?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?Na(e):Sa(e)}var Rt=class{constructor(t){let n=Ln({level:Sn}),{logger:r,chunkLoggerController:o}=Mn({opts:n});this.logger=Dn(r,this.constructor.name),this.chunkLoggerController=o,typeof window<"u"&&this.chunkLoggerController?.downloadLogsBlobInBrowser&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{this.chunkLoggerController?.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:t})})}};var Xt=class{constructor({projectId:t,chainId:n,enableLogger:r=!0,onTimeout:o,abortController:s,getActiveCaipNetwork:i,getCaipNetworks:c,enableCloudAuthAccount:p,metadata:l,sdkVersion:u,sdkType:h}){this.openRpcRequests=new Map,this.isInitialized=!1,r&&(this.w3mLogger=new Rt(t)),this.abortController=s,this.getActiveCaipNetwork=i,this.getCaipNetworks=c;let P=this.getRpcUrl(n);this.projectId=t,this.sdkVersion=u,this.sdkType=h,this.metadata=l,this.w3mFrame=new gt({projectId:t,isAppClient:!0,chainId:n,enableLogger:r,rpcUrl:P,enableCloudAuthAccount:p}),this.onTimeout=o,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(t=>{this.w3mFrame.events.onFrameEvent(n=>{n.type===w.FRAME_READY&&setTimeout(()=>{t()},500)})}),await this.initPromise,await this.syncDappData({metadata:this.metadata,projectId:this.projectId,sdkVersion:this.sdkVersion,sdkType:this.sdkType}),await this.getSmartAccountEnabledNetworks(),this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!ne.get(w.EMAIL_LOGIN_USED_KEY)}getEmail(){return ne.get(w.EMAIL)}getUsername(){return ne.get(w.SOCIAL_USERNAME)}async reload(){try{await this.appEvent({type:w.APP_RELOAD})}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error reloading iframe"),t}}async connectEmail(t){try{me.checkIfAllowedToTriggerEmail(),await this.init();let n=await this.appEvent({type:w.APP_CONNECT_EMAIL,payload:t});return this.setNewLastEmailLoginTime(),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting email"),n}}async connectDevice(){try{return this.appEvent({type:w.APP_CONNECT_DEVICE})}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error connecting device"),t}}async connectOtp(t){try{return this.appEvent({type:w.APP_CONNECT_OTP,payload:t})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting otp"),n}}async isConnected(){try{if(!this.getLoginEmailUsed())return{isConnected:!1};let t=await this.appEvent({type:w.APP_IS_CONNECTED});return t?.isConnected||this.deleteAuthLoginCache(),t}catch(t){throw this.deleteAuthLoginCache(),this.w3mLogger?.logger.error({error:t},"Error checking connection"),t}}async getChainId(){try{let t=await this.appEvent({type:w.APP_GET_CHAIN_ID});return this.setLastUsedChainId(t.chainId),t}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error getting chain id"),t}}async getSocialRedirectUri(t){try{return await this.init(),this.appEvent({type:w.APP_GET_SOCIAL_REDIRECT_URI,payload:t})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error getting social redirect uri"),n}}async updateEmail(t){try{let n=await this.appEvent({type:w.APP_UPDATE_EMAIL,payload:t});return this.setNewLastEmailLoginTime(),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email"),n}}async updateEmailPrimaryOtp(t){try{return this.appEvent({type:w.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:t})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email primary otp"),n}}async updateEmailSecondaryOtp(t){try{let n=await this.appEvent({type:w.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:t});return this.setLoginSuccess(n.newEmail),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email secondary otp"),n}}async syncTheme(t){try{return this.appEvent({type:w.APP_SYNC_THEME,payload:t})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error syncing theme"),n}}async syncDappData(t){try{return this.appEvent({type:w.APP_SYNC_DAPP_DATA,payload:t})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error syncing dapp data"),n}}async getSmartAccountEnabledNetworks(){try{let t=await this.appEvent({type:w.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(t.smartAccountEnabledNetworks),t}catch(t){throw this.persistSmartAccountEnabledNetworks([]),this.w3mLogger?.logger.error({error:t},"Error getting smart account enabled networks"),t}}async setPreferredAccount(t){try{return this.appEvent({type:w.APP_SET_PREFERRED_ACCOUNT,payload:{type:t}})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error setting preferred account"),n}}async connect(t){if(t?.socialUri)try{await this.init();let n=this.getRpcUrl(t.chainId),r=await this.appEvent({type:w.APP_CONNECT_SOCIAL,payload:{uri:t.socialUri,preferredAccountType:t.preferredAccountType,chainId:t.chainId,siwxMessage:t.siwxMessage,rpcUrl:n}});return r.userName&&this.setSocialLoginSuccess(r.userName),this.setLoginSuccess(r.email),this.setLastUsedChainId(r.chainId),this.user=r,r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting social"),n}else try{let n=t?.chainId||this.getLastUsedChainId()||1,r=await this.getUser({chainId:n,preferredAccountType:t?.preferredAccountType,siwxMessage:t?.siwxMessage,rpcUrl:this.getRpcUrl(n)});return this.setLoginSuccess(r.email),this.setLastUsedChainId(r.chainId),this.user=r,r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting"),n}}async getUser(t){try{await this.init();let n=t?.chainId||this.getLastUsedChainId()||1,r=await this.appEvent({type:w.APP_GET_USER,payload:{...t,chainId:n,rpcUrl:this.getRpcUrl(n)}});return this.user=r,r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting"),n}}async connectSocial({uri:t,chainId:n,preferredAccountType:r}){try{await this.init();let o=this.getRpcUrl(n),s=await this.appEvent({type:w.APP_CONNECT_SOCIAL,payload:{uri:t,chainId:n,rpcUrl:o,preferredAccountType:r}});return s.userName&&this.setSocialLoginSuccess(s.userName),s}catch(o){throw this.w3mLogger?.logger.error({error:o},"Error connecting social"),o}}async getFarcasterUri(){try{return await this.init(),await this.appEvent({type:w.APP_GET_FARCASTER_URI})}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error getting farcaster uri"),t}}async connectFarcaster(){try{let t=await this.appEvent({type:w.APP_CONNECT_FARCASTER});return t.userName&&this.setSocialLoginSuccess(t.userName),t}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error connecting farcaster"),t}}async switchNetwork({chainId:t}){try{let n=this.getRpcUrl(t),r=await this.appEvent({type:w.APP_SWITCH_NETWORK,payload:{chainId:t,rpcUrl:n}});return this.setLastUsedChainId(r.chainId),r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error switching network"),n}}async disconnect(){try{return this.deleteAuthLoginCache(),await new Promise(async n=>{let r=setTimeout(()=>{n()},3e3);await this.appEvent({type:w.APP_SIGN_OUT}),clearTimeout(r),n()})}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error disconnecting"),t}}async request(t){let n=t;try{if(te.GET_CHAIN_ID===t.method)return this.getLastUsedChainId();let r=t.chainNamespace||"eip155",o=this.getActiveCaipNetwork(r)?.id;n.chainNamespace=r,n.chainId=o,n.rpcUrl=this.getRpcUrl(o),this.rpcRequestHandler?.(t);let s=await this.appEvent({type:w.APP_RPC_REQUEST,payload:n});return this.rpcSuccessHandler?.(s,n),s}catch(r){throw this.rpcErrorHandler?.(r,n),this.w3mLogger?.logger.error({error:r},"Error requesting"),r}}onRpcRequest(t){this.rpcRequestHandler=t}onRpcSuccess(t){this.rpcSuccessHandler=t}onRpcError(t){this.rpcErrorHandler=t}onIsConnected(t){this.w3mFrame.events.onFrameEvent(n=>{n.type===w.FRAME_IS_CONNECTED_SUCCESS&&n.payload.isConnected&&t()})}onNotConnected(t){this.w3mFrame.events.onFrameEvent(n=>{n.type===w.FRAME_IS_CONNECTED_ERROR&&t(),n.type===w.FRAME_IS_CONNECTED_SUCCESS&&!n.payload.isConnected&&t()})}onConnect(t){this.w3mFrame.events.onFrameEvent(n=>{n.type===w.FRAME_GET_USER_SUCCESS&&t(n.payload)})}onSocialConnected(t){this.w3mFrame.events.onFrameEvent(n=>{n.type===w.FRAME_CONNECT_SOCIAL_SUCCESS&&t(n.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(t){this.w3mFrame.events.onFrameEvent(n=>{n.type===w.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?t(n.payload):n.type===w.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&t({type:te.ACCOUNT_TYPES.EOA})})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}async rejectRpcRequests(){try{await Promise.all(Array.from(this.openRpcRequests.values()).map(async({abortController:t,method:n})=>{te.SAFE_RPC_METHODS.includes(n)||t.abort(),await this.appEvent({type:w.APP_RPC_ABORT})})),this.openRpcRequests.clear()}catch(t){this.w3mLogger?.logger.error({error:t},"Error aborting RPC request")}}async appEvent(t){let n,r;function o(p){return p.replace("@w3m-app/","")}let s=[w.APP_SYNC_DAPP_DATA,w.APP_SYNC_THEME,w.APP_SET_PREFERRED_ACCOUNT],i=o(t.type);return!this.w3mFrame.iframeIsReady&&!s.includes(t.type)&&(r=setTimeout(()=>{this.onTimeout?.("iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(r),[w.APP_CONNECT_EMAIL,w.APP_CONNECT_DEVICE,w.APP_CONNECT_OTP,w.APP_CONNECT_SOCIAL,w.APP_GET_SOCIAL_REDIRECT_URI].map(o).includes(i)&&(n=setTimeout(()=>{this.onTimeout?.("iframe_request_timeout"),this.abortController.abort()},12e4)),new Promise((p,l)=>{let u=Math.random().toString(36).substring(7);this.w3mLogger?.logger.info?.({event:t,id:u},"Sending app event"),this.w3mFrame.events.postAppEvent({...t,id:u});let h=new AbortController;if(i==="RPC_REQUEST"){let N=t;this.openRpcRequests.set(u,{...N.payload,abortController:h})}h.signal.addEventListener("abort",()=>{i==="RPC_REQUEST"?l(new Error("Request was aborted")):i!=="GET_FARCASTER_URI"&&l(new Error("Something went wrong"))});let P=(N,M)=>{N.id===u&&(M?.logger.info?.({framEvent:N,id:u},"Received frame response"),this.openRpcRequests.delete(N.id),N.type===`@w3m-frame/${i}_SUCCESS`?(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in N&&p(N.payload),p(void 0)):N.type===`@w3m-frame/${i}_ERROR`&&(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in N&&l(new Error(N.payload?.message||"An error occurred")),l(new Error("An error occurred"))))};this.w3mFrame.events.registerFrameEventHandler(u,N=>P(N,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){ne.set(w.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(t){ne.set(w.SOCIAL_USERNAME,t)}setLoginSuccess(t){t&&ne.set(w.EMAIL,t),ne.set(w.EMAIL_LOGIN_USED_KEY,"true"),ne.delete(w.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){ne.delete(w.EMAIL_LOGIN_USED_KEY),ne.delete(w.EMAIL),ne.delete(w.LAST_USED_CHAIN_KEY),ne.delete(w.SOCIAL_USERNAME)}setLastUsedChainId(t){t&&ne.set(w.LAST_USED_CHAIN_KEY,String(t))}getLastUsedChainId(){let t=ne.get(w.LAST_USED_CHAIN_KEY)??void 0,n=Number(t);return isNaN(n)?t:n}persistSmartAccountEnabledNetworks(t){ne.set(w.SMART_ACCOUNT_ENABLED_NETWORKS,t.join(","))}getRpcUrl(t){let n=t===void 0?void 0:"eip155";typeof t=="string"&&(t.includes(":")?n=ce.parseCaipNetworkId(t)?.chainNamespace:Number.isInteger(Number(t))?n="eip155":n="solana");let r=this.getCaipNetworks(n);return(t?r.find(s=>String(s.id)===String(t)||s.caipNetworkId===t):r[0])?.rpcUrls.default.http?.[0]}};m();C();f();m();C();f();m();C();f();var wa=Symbol(),en=Symbol(),tt="a",Bn="f",xn="p",Fn="c",Wn="t",tn="h",nt="w",nn="o",rn="k",Ta=(e,t)=>new Proxy(e,t),Qt=Object.getPrototypeOf,Zt=new WeakMap,Hn=e=>e&&(Zt.has(e)?Zt.get(e):Qt(e)===Object.prototype||Qt(e)===Array.prototype),It=e=>typeof e=="object"&&e!==null,ya=e=>Object.values(Object.getOwnPropertyDescriptors(e)).some(t=>!t.configurable&&!t.writable),Ra=e=>{if(Array.isArray(e))return Array.from(e);let t=Object.getOwnPropertyDescriptors(e);return Object.values(t).forEach(n=>{n.configurable=!0}),Object.create(Qt(e),t)},Ia=(e,t)=>{let n={[Bn]:t},r=!1,o=(c,p)=>{if(!r){let l=n[tt].get(e);if(l||(l={},n[tt].set(e,l)),c===nt)l[nt]=!0;else{let u=l[c];u||(u=new Set,l[c]=u),u.add(p)}}},s=()=>{r=!0,n[tt].delete(e)},i={get(c,p){return p===en?e:(o(rn,p),ba(Reflect.get(c,p),n[tt],n[Fn],n[Wn]))},has(c,p){return p===wa?(s(),!0):(o(tn,p),Reflect.has(c,p))},getOwnPropertyDescriptor(c,p){return o(nn,p),Reflect.getOwnPropertyDescriptor(c,p)},ownKeys(c){return o(nt),Reflect.ownKeys(c)}};return t&&(i.set=i.deleteProperty=()=>!1),[i,n]},on=e=>e[en]||e,ba=(e,t,n,r)=>{if(!Hn(e))return e;let o=r&&r.get(e);if(!o){let p=on(e);ya(p)?o=[p,Ra(p)]:o=[p],r?.set(e,o)}let[s,i]=o,c=n&&n.get(s);return(!c||c[1][Bn]!==!!i)&&(c=Ia(s,!!i),c[1][xn]=Ta(i||s,c[0]),n&&n.set(s,c)),c[1][tt]=t,c[1][Fn]=n,c[1][Wn]=r,c[1][xn]},Oa=(e,t)=>{let n=Reflect.ownKeys(e),r=Reflect.ownKeys(t);return n.length!==r.length||n.some((o,s)=>o!==r[s])},va=(e,t,n,r,o=Object.is)=>{if(o(e,t))return!1;if(!It(e)||!It(t))return!0;let s=n.get(on(e));if(!s)return!0;if(r){if(r.get(e)===t)return!1;r.set(e,t)}let i=null;for(let c of s[tn]||[])if(i=Reflect.has(e,c)!==Reflect.has(t,c),i)return i;if(s[nt]===!0){if(i=Oa(e,t),i)return i}else for(let c of s[nn]||[]){let p=!!Reflect.getOwnPropertyDescriptor(e,c),l=!!Reflect.getOwnPropertyDescriptor(t,c);if(i=p!==l,i)return i}for(let c of s[rn]||[])if(i=va(e[c],t[c],n,r,o),i)return i;if(i===null)throw new Error("invalid used");return i};var Kn=e=>Hn(e)&&e[en]||null,an=(e,t=!0)=>{Zt.set(e,t)},Al=(e,t,n)=>{let r=[],o=new WeakSet,s=(i,c)=>{var p,l,u;if(o.has(i))return;It(i)&&o.add(i);let h=It(i)&&t.get(on(i));if(h){if((p=h[tn])===null||p===void 0||p.forEach(P=>{let N=`:has(${String(P)})`;r.push(c?[...c,N]:[N])}),h[nt]===!0){let P=":ownKeys";r.push(c?[...c,P]:[P])}else(l=h[nn])===null||l===void 0||l.forEach(P=>{let N=`:hasOwn(${String(P)})`;r.push(c?[...c,N]:[N])});(u=h[rn])===null||u===void 0||u.forEach(P=>{(!n||"value"in(Object.getOwnPropertyDescriptor(i,P)||{}))&&s(i[P],c?[...c,P]:[P])})}else c&&r.push(c)};return s(e),r};var cn=e=>typeof e=="object"&&e!==null,Ua=e=>cn(e)&&!ot.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)&&!(e instanceof Promise),Vn=(e,t)=>{let n=sn.get(e);if(n?.[0]===t)return n[1];let r=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return an(r,!0),sn.set(e,[t,r]),Reflect.ownKeys(e).forEach(o=>{if(Object.getOwnPropertyDescriptor(r,o))return;let s=Reflect.get(e,o),{enumerable:i}=Reflect.getOwnPropertyDescriptor(e,o),c={value:s,enumerable:i,configurable:!0};if(ot.has(s))an(s,!1);else if(Pe.has(s)){let[p,l]=Pe.get(s);c.value=Vn(p,l())}Object.defineProperty(r,o,c)}),Object.preventExtensions(r)},Pa=(e,t,n,r)=>({deleteProperty(o,s){let i=Reflect.get(o,s);n(s);let c=Reflect.deleteProperty(o,s);return c&&r(["delete",[s],i]),c},set(o,s,i,c){let p=!e()&&Reflect.has(o,s),l=Reflect.get(o,s,c);if(p&&(jn(l,i)||rt.has(i)&&jn(l,rt.get(i))))return!0;n(s),cn(i)&&(i=Kn(i)||i);let u=!Pe.has(i)&&La(i)?H(i):i;return t(s,u),Reflect.set(o,s,u,c),r(["set",[s],i,l]),!0}}),Pe=new WeakMap,ot=new WeakSet,sn=new WeakMap,bt=[1],rt=new WeakMap,jn=Object.is,ka=(e,t)=>new Proxy(e,t),La=Ua,Da=Vn,Ma=Pa;function H(e={}){if(!cn(e))throw new Error("object required");let t=rt.get(e);if(t)return t;let n=bt[0],r=new Set,o=(W,J=++bt[0])=>{n!==J&&(s=n=J,r.forEach(q=>q(W,J)))},s=n,i=(W=bt[0])=>(s!==W&&(s=W,p.forEach(([J])=>{let q=J[1](W);q>n&&(n=q)})),n),c=W=>(J,q)=>{let de=[...J];de[1]=[W,...de[1]],o(de,q)},p=new Map,l=(W,J)=>{let q=!ot.has(J)&&Pe.get(J);if(q){if((import.meta.env?import.meta.env.MODE:void 0)!=="production"&&p.has(W))throw new Error("prop listener already exists");if(r.size){let de=q[2](c(W));p.set(W,[q,de])}else p.set(W,[q])}},u=W=>{var J;let q=p.get(W);q&&(p.delete(W),(J=q[1])==null||J.call(q))},h=W=>(r.add(W),r.size===1&&p.forEach(([q,de],Me)=>{if((import.meta.env?import.meta.env.MODE:void 0)!=="production"&&de)throw new Error("remove already exists");let lt=q[2](c(Me));p.set(Me,[q,lt])}),()=>{r.delete(W),r.size===0&&p.forEach(([q,de],Me)=>{de&&(de(),p.set(Me,[q]))})}),P=!0,N=Ma(()=>P,l,u,o),M=ka(e,N);rt.set(e,M);let j=[e,i,h];return Pe.set(M,j),Reflect.ownKeys(e).forEach(W=>{let J=Object.getOwnPropertyDescriptor(e,W);"value"in J&&J.writable&&(M[W]=e[W])}),P=!1,M}function Z(e,t,n){let r=Pe.get(e);(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&!r&&console.warn("Please use proxy object");let o,s=[],i=r[2],c=!1,l=i(u=>{if(s.push(u),n){t(s.splice(0));return}o||(o=Promise.resolve().then(()=>{o=void 0,c&&t(s.splice(0))}))});return c=!0,()=>{c=!1,l()}}function ye(e){let t=Pe.get(e);(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&!t&&console.warn("Please use proxy object");let[n,r]=t;return Da(n,r())}function Ie(e){return ot.add(e),e}function ln(){return{proxyStateMap:Pe,refSet:ot,snapCache:sn,versionHolder:bt,proxyCache:rt}}m();C();f();function ee(e,t,n,r){let o=e[t];return Z(e,()=>{let s=e[t];Object.is(o,s)||n(o=s)},r)}var Ul=Symbol();var{proxyStateMap:xa,snapCache:Ba}=ln(),Ot=e=>xa.has(e);function Gn(e){let t=[],n=0,r=new Map,o=new WeakMap,s=()=>{let l=Ba.get(c),u=l?.[1];if(u&&!o.has(u)){let h=new Map(r);o.set(u,h)}},i=l=>o.get(l)||r;if(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError(`proxyMap:
	initial state must be iterable
		tip: structure should be [[key, value]]`);for(let[l,u]of e)r.set(l,n),t[n++]=u}let c={data:t,index:n,epoch:0,get size(){return Ot(this)||s(),i(this).size},get(l){let h=i(this).get(l);if(h===void 0){this.epoch;return}return this.data[h]},has(l){let u=i(this);return this.epoch,u.has(l)},set(l,u){if(!Ot(this))throw new Error("Cannot perform mutations on a snapshot");let h=r.get(l);return h===void 0?(r.set(l,this.index),this.data[this.index++]=u):this.data[h]=u,this.epoch++,this},delete(l){if(!Ot(this))throw new Error("Cannot perform mutations on a snapshot");let u=r.get(l);return u===void 0?!1:(delete this.data[u],r.delete(l),this.epoch++,!0)},clear(){if(!Ot(this))throw new Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,r.clear()},forEach(l){this.epoch,i(this).forEach((h,P)=>{l(this.data[h],P,this)})},*entries(){this.epoch;let l=i(this);for(let[u,h]of l)yield[u,this.data[h]]},*keys(){this.epoch;let l=i(this);for(let u of l.keys())yield u},*values(){this.epoch;let l=i(this);for(let u of l.values())yield this.data[u]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},p=H(c);return Object.defineProperties(p,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(p),p}var{proxyStateMap:Pl,snapCache:kl}=ln();m();C();f();var at={getFeatureValue(e,t){let n=t?.[e];return n===void 0?X.DEFAULT_FEATURES[e]:n},filterSocialsByPlatform(e){if(!e||!e.length)return e;let t=e;return T.isTelegram()&&(T.isIos()&&(t=t.filter(n=>n!=="google")),T.isMac()&&(t=t.filter(n=>n!=="x")),T.isAndroid()&&(t=t.filter(n=>!["facebook","x"].includes(n)))),T.isMobile()&&(t=t.filter(n=>n!=="facebook")),t},isSocialsEnabled(){return Array.isArray(L.state.features?.socials)&&L.state.features?.socials.length>0||Array.isArray(L.state.remoteFeatures?.socials)&&L.state.remoteFeatures?.socials.length>0},isEmailEnabled(){return!!(L.state.features?.email||L.state.remoteFeatures?.email)}};var D=H({features:X.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:X.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{},enableMobileFullScreen:!1,coinbasePreference:"all"}),L={state:D,subscribeKey(e,t){return ee(D,e,t)},setOptions(e){Object.assign(D,e)},setRemoteFeatures(e){if(!e)return;let t={...D.remoteFeatures,...e};D.remoteFeatures=t,D.remoteFeatures?.socials&&(D.remoteFeatures.socials=at.filterSocialsByPlatform(D.remoteFeatures.socials)),D.features?.pay&&(D.remoteFeatures.email=!1,D.remoteFeatures.socials=!1)},setFeatures(e){if(!e)return;D.features||(D.features=X.DEFAULT_FEATURES);let t={...D.features,...e};D.features=t,D.features?.pay&&D.remoteFeatures&&(D.remoteFeatures.email=!1,D.remoteFeatures.socials=!1)},setProjectId(e){D.projectId=e},setCustomRpcUrls(e){D.customRpcUrls=e},setAllWallets(e){D.allWallets=e},setIncludeWalletIds(e){D.includeWalletIds=e},setExcludeWalletIds(e){D.excludeWalletIds=e},setFeaturedWalletIds(e){D.featuredWalletIds=e},setTokens(e){D.tokens=e},setTermsConditionsUrl(e){D.termsConditionsUrl=e},setPrivacyPolicyUrl(e){D.privacyPolicyUrl=e},setCustomWallets(e){D.customWallets=e},setIsSiweEnabled(e){D.isSiweEnabled=e},setIsUniversalProvider(e){D.isUniversalProvider=e},setSdkVersion(e){D.sdkVersion=e},setMetadata(e){D.metadata=e},setDisableAppend(e){D.disableAppend=e},setEIP6963Enabled(e){D.enableEIP6963=e},setDebug(e){D.debug=e},setEnableWalletGuide(e){D.enableWalletGuide=e},setEnableAuthLogger(e){D.enableAuthLogger=e},setEnableWallets(e){D.enableWallets=e},setPreferUniversalLinks(e){D.experimental_preferUniversalLinks=e},setSIWX(e){if(e)for(let[t,n]of Object.entries(X.SIWX_DEFAULTS))e[t]??=n;D.siwx=e},setConnectMethodsOrder(e){D.features={...D.features,connectMethodsOrder:e}},setWalletFeaturesOrder(e){D.features={...D.features,walletFeaturesOrder:e}},setSocialsOrder(e){D.remoteFeatures={...D.remoteFeatures,socials:e}},setCollapseWallets(e){D.features={...D.features,collapseWallets:e}},setEnableEmbedded(e){D.enableEmbedded=e},setAllowUnsupportedChain(e){D.allowUnsupportedChain=e},setManualWCControl(e){D.manualWCControl=e},setEnableNetworkSwitch(e){D.enableNetworkSwitch=e},setEnableMobileFullScreen(e){D.enableMobileFullScreen=T.isMobile()&&e},setEnableReconnect(e){D.enableReconnect=e},setCoinbasePreference(e){D.coinbasePreference=e},setDefaultAccountTypes(e={}){Object.entries(e).forEach(([t,n])=>{n&&(D.defaultAccountTypes[t]=n)})},setUniversalProviderConfigOverride(e){D.universalProviderConfigOverride=e},getUniversalProviderConfigOverride(){return D.universalProviderConfigOverride},getSnapshot(){return ye(D)}};m();C();f();var We=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),se=H({...We}),Fa={state:se,subscribeKey(e,t){return ee(se,e,t)},showLoading(e,t={}){this._showMessage({message:e,variant:"loading",...t})},showSuccess(e){this._showMessage({message:e,variant:"success"})},showSvg(e,t){this._showMessage({message:e,svg:t})},showError(e){let t=T.parseError(e);this._showMessage({message:t,variant:"error"})},hide(){se.message=We.message,se.variant=We.variant,se.svg=We.svg,se.open=We.open,se.autoClose=We.autoClose},_showMessage({message:e,svg:t,variant:n="success",autoClose:r=We.autoClose}){se.open?(se.open=!1,setTimeout(()=>{se.message=e,se.variant=n,se.svg=t,se.open=!0,se.autoClose=r},150)):(se.message=e,se.variant=n,se.svg=t,se.open=!0,se.autoClose=r)}},ke=Fa;m();C();f();m();C();f();async function st(...e){let t=await fetch(...e);if(!t.ok)throw new Error(`HTTP status code: ${t.status}`,{cause:t});return t}var we=class{constructor({baseUrl:t,clientId:n}){this.baseUrl=t,this.clientId=n}async get({headers:t,signal:n,cache:r,...o}){let s=this.createUrl(o);return(await st(s,{method:"GET",headers:t,signal:n,cache:r})).json()}async getBlob({headers:t,signal:n,...r}){let o=this.createUrl(r);return(await st(o,{method:"GET",headers:t,signal:n})).blob()}async post({body:t,headers:n,signal:r,...o}){let s=this.createUrl(o);return(await st(s,{method:"POST",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}async put({body:t,headers:n,signal:r,...o}){let s=this.createUrl(o);return(await st(s,{method:"PUT",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}async delete({body:t,headers:n,signal:r,...o}){let s=this.createUrl(o);return(await st(s,{method:"DELETE",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}createUrl({path:t,params:n}){let r=new URL(t,this.baseUrl);return n&&Object.entries(n).forEach(([o,s])=>{s&&r.searchParams.append(o,s)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}sendBeacon({body:t,...n}){let r=this.createUrl(n);return navigator.sendBeacon(r.toString(),t?JSON.stringify(t):void 0)}};m();C();f();m();C();f();m();C();f();m();C();f();m();C();f();m();C();f();m();C();f();m();C();f();m();C();f();m();C();f();m();C();f();m();C();f();m();C();f();var Wa=Object.freeze({enabled:!0,events:[]}),Ha=new we({baseUrl:T.getAnalyticsUrl(),clientId:null}),Ka=5,ja=60*1e3,Le=H({...Wa}),Yn={state:Le,subscribeKey(e,t){return ee(Le,e,t)},async sendError(e,t){if(!Le.enabled)return;let n=Date.now();if(Le.events.filter(s=>{let i=new Date(s.properties.timestamp||"").getTime();return n-i<ja}).length>=Ka)return;let o={type:"error",event:t,properties:{errorType:e.name,errorMessage:e.message,stackTrace:e.stack,timestamp:new Date().toISOString()}};Le.events.push(o);try{if(typeof window>"u")return;let{projectId:s,sdkType:i,sdkVersion:c}=L.state;await Ha.post({path:"/e",params:{projectId:s,st:i,sv:c||"html-wagmi-4.2.2"},body:{eventId:T.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:t,errorType:e.name,errorMessage:e.message,stackTrace:e.stack}}})}catch{}},enable(){Le.enabled=!0},disable(){Le.enabled=!1},clearEvents(){Le.events=[]}};var He=class e extends Error{constructor(t,n,r){super(t),this.originalName="AppKitError",this.name="AppKitError",this.category=n,this.originalError=r,r&&r instanceof Error&&(this.originalName=r.name),Object.setPrototypeOf(this,e.prototype);let o=!1;if(r instanceof Error&&typeof r.stack=="string"&&r.stack){let s=r.stack,i=s.indexOf(`
`);if(i>-1){let c=s.substring(i+1);this.stack=`${this.name}: ${this.message}
${c}`,o=!0}}o||(Error.captureStackTrace?Error.captureStackTrace(this,e):this.stack||(this.stack=`${this.name}: ${this.message}`))}};function $n(e,t){let n="";try{e instanceof Error?n=e.message:typeof e=="string"?n=e:typeof e=="object"&&e!==null?Object.keys(e).length===0?n="Unknown error":n=e?.message||JSON.stringify(e):n=String(e)}catch(o){n="Unknown error",console.error("Error parsing error message",o)}let r=e instanceof He?e:new He(n,t,e);throw Yn.sendError(r,r.category),r}function ie(e,t="INTERNAL_SDK_ERROR"){let n={};return Object.keys(e).forEach(r=>{let o=e[r];if(typeof o=="function"){let s=o;o.constructor.name==="AsyncFunction"?s=async(...i)=>{try{return await o(...i)}catch(c){return $n(c,t)}}:s=(...i)=>{try{return o(...i)}catch(c){return $n(c,t)}},n[r]=s}else n[r]=o}),n}var he=H({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),Va={state:he,subscribeNetworkImages(e){return Z(he.networkImages,()=>e(he.networkImages))},subscribeKey(e,t){return ee(he,e,t)},subscribe(e){return Z(he,()=>e(he))},setWalletImage(e,t){he.walletImages[e]=t},setNetworkImage(e,t){he.networkImages[e]=t},setChainImage(e,t){he.chainImages[e]=t},setConnectorImage(e,t){he.connectorImages={...he.connectorImages,[e]:t}},setTokenImage(e,t){he.tokenImages[e]=t},setCurrencyImage(e,t){he.currencyImages[e]=t}},fe=ie(Va);var qn={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:"",ton:"20f673c0-095e-49b2-07cf-eb5049dcf600"},Ve=H({networkImagePromises:{},tokenImagePromises:{}}),vt={async fetchWalletImage(e){if(e)return await I._fetchWalletImage(e),this.getWalletImageById(e)},async fetchNetworkImage(e){if(!e)return;let t=this.getNetworkImageById(e);return t||(Ve.networkImagePromises[e]||(Ve.networkImagePromises[e]=I._fetchNetworkImage(e)),await Ve.networkImagePromises[e],this.getNetworkImageById(e))},async fetchTokenImage(e){if(e)return Ve.tokenImagePromises[e]||(Ve.tokenImagePromises[e]=I._fetchTokenImage(e)),await Ve.tokenImagePromises[e],this.getTokenImage(e)},getWalletImageById(e){if(e)return fe.state.walletImages[e]},getWalletImage(e){if(e?.image_url)return e?.image_url;if(e?.image_id)return fe.state.walletImages[e.image_id]},getNetworkImage(e){if(e?.assets?.imageUrl)return e?.assets?.imageUrl;if(e?.assets?.imageId)return fe.state.networkImages[e.assets.imageId]},getNetworkImageById(e){if(e)return fe.state.networkImages[e]},getConnectorImage(e){if(e?.imageUrl)return e.imageUrl;if(e?.info?.icon)return e.info.icon;if(e?.imageId)return fe.state.connectorImages[e.imageId]},getChainImage(e){return fe.state.networkImages[qn[e]]},getTokenImage(e){if(e)return fe.state.tokenImages[e]},getWalletImageUrl(e){if(!e)return"";let{projectId:t,sdkType:n,sdkVersion:r}=L.state,o=new URL(`${E.W3M_API_URL}/getWalletImage/${e}`);return o.searchParams.set("projectId",t),o.searchParams.set("st",n),o.searchParams.set("sv",r),o.toString()},getAssetImageUrl(e){if(!e)return"";let{projectId:t,sdkType:n,sdkVersion:r}=L.state,o=new URL(`${E.W3M_API_URL}/public/getAssetImage/${e}`);return o.searchParams.set("projectId",t),o.searchParams.set("st",n),o.searchParams.set("sv",r),o.toString()},getChainNamespaceImageUrl(e){return this.getAssetImageUrl(qn[e])},async getImageByToken(e,t){if(e==="native"){let r=E.NATIVE_IMAGE_IDS_BY_NAMESPACE[t]??null;return r?vt.fetchNetworkImage(r):void 0}let[,n]=Object.entries(E.TOKEN_SYMBOLS_BY_ADDRESS).find(([r])=>r.toLowerCase()===e.toLowerCase())??[];if(n)return vt.fetchTokenImage(n)}};m();C();f();var ge={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"},BINANCE:{id:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25",appId:"yFK5FCqYprrXDiVFbhyRx7",deeplink:"bnc://app.binance.com/mp/app",url:"https://app.binance.com/en/download"}},zn={handleMobileDeeplinkRedirect(e,t){let n=window.location.href,r=encodeURIComponent(n);if(e===ge.PHANTOM.id&&!("phantom"in window)){let o=n.startsWith("https")?"https":"http",s=n.split("/")[2],i=encodeURIComponent(`${o}://${s}`);window.location.href=`${ge.PHANTOM.url}/ul/browse/${r}?ref=${i}`}if(e===ge.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${ge.SOLFLARE.url}/ul/v1/browse/${r}?ref=${r}`),t===E.CHAIN.SOLANA&&e===ge.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${ge.COINBASE.url}/dapp?cb_url=${r}`),t===E.CHAIN.BITCOIN&&e===ge.BINANCE.id&&!("binancew3w"in window)){let o=d.state.activeCaipNetwork,s=window.btoa("/pages/browser/index"),i=window.btoa(`url=${r}&defaultChainId=${o?.id??1}`),c=new URL(ge.BINANCE.deeplink);c.searchParams.set("appId",ge.BINANCE.appId),c.searchParams.set("startPagePath",s),c.searchParams.set("startPageQuery",i);let p=new URL(ge.BINANCE.url);p.searchParams.set("_dp",window.btoa(c.toString())),window.location.href=p.toString()}}};m();C();f();var Ga=T.getAnalyticsUrl(),Ya=new we({baseUrl:Ga,clientId:null}),$a=["MODAL_CREATED"],qa=45,Jn=1e3*10,ae=H({timestamp:Date.now(),lastFlush:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"},pendingEvents:[],subscribedToVisibilityChange:!1,walletImpressions:[]}),G={state:ae,subscribe(e){return Z(ae,()=>e(ae))},getSdkProperties(){let{projectId:e,sdkType:t,sdkVersion:n}=L.state;return{projectId:e,st:t,sv:n||"html-wagmi-4.2.2"}},shouldFlushEvents(){let e=JSON.stringify(ae.pendingEvents).length/1024>qa,t=ae.lastFlush+Jn<Date.now();return e||t},_setPendingEvent(e){try{let t=d.getAccountData()?.address;if("address"in e.data&&e.data.address&&(t=e.data.address),$a.includes(e.data.event)||typeof window>"u")return;let n=d.getActiveCaipNetwork()?.caipNetworkId;this.state.pendingEvents.push({eventId:T.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:e.timestamp,props:{...e.data,address:t,properties:{..."properties"in e.data?e.data.properties:{},caipNetworkId:n}}}),ae.reportedErrors.FORBIDDEN=!1,G.shouldFlushEvents()&&G._submitPendingEvents()}catch(t){console.warn("_setPendingEvent",t)}},sendEvent(e){ae.timestamp=Date.now(),ae.data=e;let t=["INITIALIZE","CONNECT_SUCCESS","SOCIAL_LOGIN_SUCCESS"];(L.state.features?.analytics||t.includes(e.event))&&G._setPendingEvent(ae),this.subscribeToFlushTriggers()},sendWalletImpressionEvent(e){ae.walletImpressions.push(e)},_transformPendingEventsForBatch(e){try{return e.filter(t=>t.props.event!=="WALLET_IMPRESSION_V2")}catch{return e}},_submitPendingEvents(){if(ae.lastFlush=Date.now(),!(ae.pendingEvents.length===0&&ae.walletImpressions.length===0))try{let e=G._transformPendingEventsForBatch(ae.pendingEvents);ae.walletImpressions.length&&e.push({eventId:T.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:Date.now(),props:{type:"track",event:"WALLET_IMPRESSION_V2",items:[...ae.walletImpressions]}}),Ya.sendBeacon({path:"/batch",params:G.getSdkProperties(),body:e}),ae.reportedErrors.FORBIDDEN=!1,ae.pendingEvents=[],ae.walletImpressions=[]}catch{ae.reportedErrors.FORBIDDEN=!0}},subscribeToFlushTriggers(){ae.subscribedToVisibilityChange||typeof document>"u"||(ae.subscribedToVisibilityChange=!0,document?.addEventListener?.("visibilitychange",()=>{document.visibilityState==="hidden"&&G._submitPendingEvents()}),document?.addEventListener?.("freeze",()=>{G._submitPendingEvents()}),window?.addEventListener?.("pagehide",()=>{G._submitPendingEvents()}),setInterval(()=>{G._submitPendingEvents()},Jn))}};var za=T.getApiUrl(),pe=new we({baseUrl:za,clientId:null}),Ja=40,Xn=4,Xa=20,x=H({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1,explorerWallets:[],explorerFilteredWallets:[],plan:{tier:"none",hasExceededUsageLimit:!1,limits:{isAboveRpcLimit:!1,isAboveMauLimit:!1}}}),I={state:x,subscribeKey(e,t){return ee(x,e,t)},_getSdkProperties(){let{projectId:e,sdkType:t,sdkVersion:n}=L.state;return{projectId:e,st:t||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(e){return L.state.isUniversalProvider?e.filter(t=>!!(t.mobile_link||t.desktop_link||t.webapp_link)):e},async _fetchWalletImage(e){let t=`${pe.baseUrl}/getWalletImage/${e}`,n=await pe.getBlob({path:t,params:I._getSdkProperties()});fe.setWalletImage(e,URL.createObjectURL(n))},async _fetchNetworkImage(e){let t=`${pe.baseUrl}/public/getAssetImage/${e}`,n=await pe.getBlob({path:t,params:I._getSdkProperties()});fe.setNetworkImage(e,URL.createObjectURL(n))},async _fetchConnectorImage(e){let t=`${pe.baseUrl}/public/getAssetImage/${e}`,n=await pe.getBlob({path:t,params:I._getSdkProperties()});fe.setConnectorImage(e,URL.createObjectURL(n))},async _fetchCurrencyImage(e){let t=`${pe.baseUrl}/public/getCurrencyImage/${e}`,n=await pe.getBlob({path:t,params:I._getSdkProperties()});fe.setCurrencyImage(e,URL.createObjectURL(n))},async _fetchTokenImage(e){let t=`${pe.baseUrl}/public/getTokenImage/${e}`,n=await pe.getBlob({path:t,params:I._getSdkProperties()});fe.setTokenImage(e,URL.createObjectURL(n))},_filterWalletsByPlatform(e){let t=e.length,n=T.isMobile()?e?.filter(o=>o.mobile_link||o.webapp_link?!0:Object.values(ge).map(i=>i.id).includes(o.id)):e,r=t-n.length;return{filteredWallets:n,mobileFilteredOutWalletsLength:r}},async fetchProjectConfig(){return(await pe.get({path:"/appkit/v1/config",params:I._getSdkProperties()})).features},async fetchUsage(){try{let e=await pe.get({path:"/appkit/v1/project-limits",params:I._getSdkProperties()}),{tier:t,isAboveMauLimit:n,isAboveRpcLimit:r}=e.planLimits,o=t==="starter",s=n||r;I.state.plan={tier:t,hasExceededUsageLimit:o&&s,limits:{isAboveRpcLimit:r,isAboveMauLimit:n}}}catch(e){console.warn("Failed to fetch usage",e)}},async fetchAllowedOrigins(){try{let{allowedOrigins:e}=await pe.get({path:"/projects/v1/origins",params:I._getSdkProperties()});return e}catch(e){if(e instanceof Error&&e.cause instanceof Response){let t=e.cause.status;if(t===E.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:e});if(t>=E.HTTP_STATUS_CODES.SERVER_ERROR&&t<600)throw new Error("SERVER_ERROR",{cause:e});return[]}return[]}},async fetchNetworkImages(){let t=d.getAllRequestedCaipNetworks()?.map(({assets:n})=>n?.imageId).filter(Boolean).filter(n=>!vt.getNetworkImageById(n));t&&await Promise.allSettled(t.map(n=>I._fetchNetworkImage(n)))},async fetchConnectorImages(){let{connectors:e}=A.state,t=e.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(t.map(n=>I._fetchConnectorImage(n)))},async fetchCurrencyImages(e=[]){await Promise.allSettled(e.map(t=>I._fetchCurrencyImage(t)))},async fetchTokenImages(e=[]){await Promise.allSettled(e.map(t=>I._fetchTokenImage(t)))},async fetchWallets(e){let t=e.exclude??[];I._getSdkProperties().sv.startsWith("html-core-")&&t.push(...Object.values(ge).map(i=>i.id));let r=await pe.get({path:"/getWallets",params:{...I._getSdkProperties(),...e,page:String(e.page),entries:String(e.entries),include:e.include?.join(","),exclude:t.join(",")}}),{filteredWallets:o,mobileFilteredOutWalletsLength:s}=I._filterWalletsByPlatform(r?.data);return{data:o||[],count:r?.count,mobileFilteredOutWalletsLength:s}},async prefetchWalletRanks(){let e=A.state.connectors;if(!e?.length)return;let t={page:1,entries:20,badge:"certified"};if(t.names=e.map(o=>o.name).join(","),d.state.activeChain===E.CHAIN.EVM){let o=[...e.flatMap(s=>s.connectors?.map(i=>i.info?.rdns)||[]),...e.map(s=>s.info?.rdns)].filter(s=>typeof s=="string"&&s.length>0);o.length&&(t.rdns=o.join(","))}let{data:n}=await I.fetchWallets(t);x.explorerWallets=n,A.extendConnectorsWithExplorerWallets(n);let r=d.getRequestedCaipNetworkIds().join(",");x.explorerFilteredWallets=n.filter(o=>o.chains?.some(s=>r.includes(s)))},async fetchFeaturedWallets(){let{featuredWalletIds:e}=L.state;if(e?.length){let t={...I._getSdkProperties(),page:1,entries:e?.length??Xn,include:e},{data:n}=await I.fetchWallets(t),r=[...n].sort((s,i)=>e.indexOf(s.id)-e.indexOf(i.id)),o=r.map(s=>s.image_id).filter(Boolean);await Promise.allSettled(o.map(s=>I._fetchWalletImage(s))),x.featured=r,x.allFeatured=r}},async fetchRecommendedWallets(){try{x.isFetchingRecommendedWallets=!0;let{includeWalletIds:e,excludeWalletIds:t,featuredWalletIds:n}=L.state,r=[...t??[],...n??[]].filter(Boolean),o=d.getRequestedCaipNetworkIds().join(","),s={page:1,entries:Xn,include:e,exclude:r,chains:o},{data:i,count:c}=await I.fetchWallets(s),p=_.getRecentWallets(),l=i.map(h=>h.image_id).filter(Boolean),u=p.map(h=>h.image_id).filter(Boolean);await Promise.allSettled([...l,...u].map(h=>I._fetchWalletImage(h))),x.recommended=i,x.allRecommended=i,x.count=c??0}catch{}finally{x.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:e}){let{includeWalletIds:t,excludeWalletIds:n,featuredWalletIds:r}=L.state,o=d.getRequestedCaipNetworkIds().join(","),s=[...x.recommended.map(({id:h})=>h),...n??[],...r??[]].filter(Boolean),i={page:e,entries:Ja,include:t,exclude:s,chains:o},{data:c,count:p,mobileFilteredOutWalletsLength:l}=await I.fetchWallets(i);x.mobileFilteredOutWalletsLength=l+(x.mobileFilteredOutWalletsLength??0);let u=c.slice(0,Xa).map(h=>h.image_id).filter(Boolean);await Promise.allSettled(u.map(h=>I._fetchWalletImage(h))),x.wallets=T.uniqueBy([...x.wallets,...I._filterOutExtensions(c)],"id").filter(h=>h.chains?.some(P=>o.includes(P))),x.count=p>x.count?p:x.count,x.page=e},async initializeExcludedWallets({ids:e}){let t={page:1,entries:e.length,include:e},{data:n}=await I.fetchWallets(t);n&&n.forEach(r=>{x.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:e,badge:t}){let{includeWalletIds:n,excludeWalletIds:r}=L.state,o=d.getRequestedCaipNetworkIds().join(",");x.search=[];let s={page:1,entries:100,search:e?.trim(),badge_type:t,include:n,exclude:r,chains:o},{data:i}=await I.fetchWallets(s);G.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:t??"",search:e??""}});let c=i.map(p=>p.image_id).filter(Boolean);await Promise.allSettled([...c.map(p=>I._fetchWalletImage(p)),T.wait(300)]),x.search=I._filterOutExtensions(i)},initPromise(e,t){let n=x.promises[e];return n||(x.promises[e]=t())},prefetch({fetchConnectorImages:e=!0,fetchFeaturedWallets:t=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0,fetchWalletRanks:o=!0}={}){let s=[e&&I.initPromise("connectorImages",I.fetchConnectorImages),t&&I.initPromise("featuredWallets",I.fetchFeaturedWallets),n&&I.initPromise("recommendedWallets",I.fetchRecommendedWallets),r&&I.initPromise("networkImages",I.fetchNetworkImages),o&&I.initPromise("walletRanks",I.prefetchWalletRanks)].filter(Boolean);return Promise.allSettled(s)},prefetchAnalyticsConfig(){L.state.features?.analytics&&I.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{let{isAnalyticsEnabled:e}=await pe.get({path:"/getAnalyticsConfig",params:I._getSdkProperties()});L.setFeatures({analytics:e})}catch{L.setFeatures({analytics:!1})}},filterByNamespaces(e){if(!e?.length){x.featured=x.allFeatured,x.recommended=x.allRecommended;return}let t=d.getRequestedCaipNetworkIds().join(",");x.featured=x.allFeatured.filter(n=>n.chains?.some(r=>t.includes(r))),x.recommended=x.allRecommended.filter(n=>n.chains?.some(r=>t.includes(r))),x.filteredWallets=x.wallets.filter(n=>n.chains?.some(r=>t.includes(r)))},clearFilterByNamespaces(){x.filteredWallets=[]},setFilterByNamespace(e){if(!e){x.featured=x.allFeatured,x.recommended=x.allRecommended;return}let t=d.getRequestedCaipNetworkIds().join(",");x.featured=x.allFeatured.filter(n=>n.chains?.some(r=>t.includes(r))),x.recommended=x.allRecommended.filter(n=>n.chains?.some(r=>t.includes(r))),x.filteredWallets=x.wallets.filter(n=>n.chains?.some(r=>t.includes(r)))}};m();C();f();var De={filterOutDuplicatesByRDNS(e){let t=L.state.enableEIP6963?A.state.connectors:[],n=_.getRecentWallets(),r=t.map(c=>c.info?.rdns).filter(Boolean),o=n.map(c=>c.rdns).filter(Boolean),s=r.concat(o);if(s.includes("io.metamask.mobile")&&T.isMobile()){let c=s.indexOf("io.metamask.mobile");s[c]="io.metamask"}return e.filter(c=>!(c?.rdns&&s.includes(String(c.rdns))||!c?.rdns&&t.some(l=>l.name===c.name)))},filterOutDuplicatesByIds(e){let t=A.state.connectors.filter(c=>c.type==="ANNOUNCED"||c.type==="INJECTED"||c.type==="MULTI_CHAIN"),n=_.getRecentWallets(),r=t.map(c=>c.explorerId||c.explorerWallet?.id||c.id),o=n.map(c=>c.id),s=r.concat(o);return e.filter(c=>!s.includes(c?.id))},filterOutDuplicateWallets(e){let t=this.filterOutDuplicatesByRDNS(e);return this.filterOutDuplicatesByIds(t)},markWalletsAsInstalled(e){let{connectors:t}=A.state,{featuredWalletIds:n}=L.state,r=t.filter(i=>i.type==="ANNOUNCED").reduce((i,c)=>(c.info?.rdns&&(i[c.info.rdns]=!0),i),{});return e.map(i=>({...i,installed:!!i.rdns&&!!r[i.rdns??""]})).sort((i,c)=>{let p=Number(c.installed)-Number(i.installed);if(p!==0)return p;if(n?.length){let l=n.indexOf(i.id),u=n.indexOf(c.id);if(l!==-1&&u!==-1)return l-u;if(l!==-1)return-1;if(u!==-1)return 1}return 0})},getConnectOrderMethod(e,t){let n=e?.connectMethodsOrder||L.state.features?.connectMethodsOrder,r=t||A.state.connectors;if(n)return n;let{injected:o,announced:s}=le.getConnectorsByType(r,I.state.recommended,I.state.featured),i=o.filter(le.showConnector),c=s.filter(le.showConnector);return i.length||c.length?["wallet","email","social"]:X.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(e){let t=!!e.rdns&&I.state.excludedWallets.some(r=>r.rdns===e.rdns),n=!!e.name&&I.state.excludedWallets.some(r=>Ze.isLowerCaseMatch(r.name,e.name));return t||n},markWalletsWithDisplayIndex(e){return e.map((t,n)=>({...t,display_index:n}))},filterWalletsByWcSupport(e){return b.state.wcBasic?e.filter(t=>t.supports_wc):T.isMobile()?e.filter(t=>t.supports_wc||X.MANDATORY_WALLET_IDS_ON_MOBILE.includes(t.id)):e},getWalletConnectWallets(e){let t=[...I.state.featured,...I.state.recommended];I.state.filteredWallets?.length>0?t.push(...I.state.filteredWallets):t.push(...e);let n=T.uniqueBy(t,"id"),r=De.markWalletsAsInstalled(n),o=De.filterWalletsByWcSupport(r);return De.markWalletsWithDisplayIndex(o)}};var le={getConnectorsByType(e,t,n){let{customWallets:r}=L.state,o=_.getRecentWallets(),s=De.filterOutDuplicateWallets(t),i=De.filterOutDuplicateWallets(n),c=e.filter(h=>h.type==="MULTI_CHAIN"),p=e.filter(h=>h.type==="ANNOUNCED"),l=e.filter(h=>h.type==="INJECTED"),u=e.filter(h=>h.type==="EXTERNAL");return{custom:r,recent:o,external:u,multiChain:c,announced:p,injected:l,recommended:s,featured:i}},showConnector(e){let t=e.info?.rdns,n=!!t&&I.state.excludedWallets.some(o=>!!o.rdns&&o.rdns===t),r=!!e.name&&I.state.excludedWallets.some(o=>Ze.isLowerCaseMatch(o.name,e.name));return!(e.type==="INJECTED"&&(e.name==="Browser Wallet"&&(!T.isMobile()||T.isMobile()&&!t&&!b.checkInstalled())||n||r)||(e.type==="ANNOUNCED"||e.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from(d.state.chains.values()).some(n=>A.getConnectorId(n.namespace)===E.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:e,featured:t,custom:n,recent:r,announced:o,injected:s,multiChain:i,external:c,overriddenConnectors:p=L.state.features?.connectorTypeOrder??[]}){let u=[{type:"walletConnect",isEnabled:!0},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...s,...o,...i].length>0},{type:"featured",isEnabled:t.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:c.length>0},{type:"recommended",isEnabled:e.length>0}].filter(M=>M.isEnabled),h=new Set(u.map(M=>M.type)),P=p.filter(M=>h.has(M)).map(M=>({type:M,isEnabled:!0})),N=u.filter(({type:M})=>!P.some(({type:W})=>W===M));return Array.from(new Set([...P,...N].map(({type:M})=>M)))},sortConnectorsByExplorerWallet(e){return[...e].sort((t,n)=>t.explorerWallet&&n.explorerWallet?(t.explorerWallet.order??0)-(n.explorerWallet.order??0):t.explorerWallet?-1:n.explorerWallet?1:0)},getPriority(e){return e.id===E.CONNECTOR_ID.BASE_ACCOUNT?0:e.id===E.CONNECTOR_ID.COINBASE||e.id===E.CONNECTOR_ID.COINBASE_SDK?1:2},sortConnectorsByPriority(e){return[...e].sort((t,n)=>le.getPriority(t)-le.getPriority(n))},getAuthName({email:e,socialUsername:t,socialProvider:n}){return t?n&&n==="discord"&&t.endsWith("0")?t.slice(0,-1):t:e.length>30?`${e.slice(0,-3)}...`:e},async fetchProviderData(e){try{if(e.name==="Browser Wallet"&&!T.isMobile())return{accounts:[],chainId:void 0};if(e.id===E.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};let[t,n]=await Promise.all([e.provider?.request({method:"eth_accounts"}),e.provider?.request({method:"eth_chainId"}).then(r=>Number(r))]);return{accounts:t,chainId:n}}catch(t){return console.warn(`Failed to fetch provider data for ${e.name}`,t),{accounts:[],chainId:void 0}}},getFilteredCustomWallets(e){let t=_.getRecentWallets(),n=A.state.connectors.map(i=>i.info?.rdns).filter(Boolean),r=t.map(i=>i.rdns).filter(Boolean),o=n.concat(r);if(o.includes("io.metamask.mobile")&&T.isMobile()){let i=o.indexOf("io.metamask.mobile");o[i]="io.metamask"}return e.filter(i=>!o.includes(String(i?.rdns)))},hasWalletConnector(e){return A.state.connectors.some(t=>t.id===e.id||t.name===e.name)},isWalletCompatibleWithCurrentChain(e){let t=d.state.activeChain;return t&&e.chains?e.chains.some(n=>{let r=n.split(":")[0];return t===r}):!0},getFilteredRecentWallets(){return _.getRecentWallets().filter(n=>!De.isExcluded(n)).filter(n=>!this.hasWalletConnector(n)).filter(n=>this.isWalletCompatibleWithCurrentChain(n))},getCappedRecommendedWallets(e){let{connectors:t}=A.state,{customWallets:n,featuredWalletIds:r}=L.state,o=t.find(q=>q.id==="walletConnect"),s=t.filter(q=>q.type==="INJECTED"||q.type==="ANNOUNCED"||q.type==="MULTI_CHAIN");if(!o&&!s.length&&!n?.length)return[];let i=at.isEmailEnabled(),c=at.isSocialsEnabled(),p=s.filter(q=>q.name!=="Browser Wallet"&&q.name!=="WalletConnect"),l=r?.length||0,u=n?.length||0,h=p.length||0,P=i?1:0,N=c?1:0,M=l+u+h+P+N,W=Math.max(0,4-M);return W<=0?[]:De.filterOutDuplicateWallets(e).slice(0,W)},processConnectorsByType(e,t=!0){let n=le.sortConnectorsByExplorerWallet([...e]);return t?n.filter(le.showConnector):n},connectorList(){let e=le.getConnectorsByType(A.state.connectors,I.state.recommended,I.state.featured),t=this.processConnectorsByType(e.announced.filter(N=>N.id!=="walletConnect")),n=this.processConnectorsByType(e.injected),r=this.processConnectorsByType(e.multiChain.filter(N=>N.name!=="WalletConnect"),!1),o=e.custom,s=e.recent,i=this.processConnectorsByType(e.external.filter(N=>N.id!==E.CONNECTOR_ID.COINBASE_SDK&&N.id!==E.CONNECTOR_ID.BASE_ACCOUNT)),c=e.recommended,p=e.featured,l=le.getConnectorTypeOrder({custom:o,recent:s,announced:t,injected:n,multiChain:r,recommended:c,featured:p,external:i}),u=A.state.connectors.find(N=>N.id==="walletConnect"),h=T.isMobile(),P=[];for(let N of l)switch(N){case"walletConnect":{!h&&u&&P.push({kind:"connector",subtype:"walletConnect",connector:u});break}case"recent":{le.getFilteredRecentWallets().forEach(j=>P.push({kind:"wallet",subtype:"recent",wallet:j}));break}case"injected":{r.forEach(M=>P.push({kind:"connector",subtype:"multiChain",connector:M})),t.forEach(M=>P.push({kind:"connector",subtype:"announced",connector:M})),n.forEach(M=>P.push({kind:"connector",subtype:"injected",connector:M}));break}case"featured":{p.forEach(M=>P.push({kind:"wallet",subtype:"featured",wallet:M}));break}case"custom":{le.getFilteredCustomWallets(o??[]).forEach(j=>P.push({kind:"wallet",subtype:"custom",wallet:j}));break}case"external":{i.forEach(M=>P.push({kind:"connector",subtype:"external",connector:M}));break}case"recommended":{le.getCappedRecommendedWallets(c).forEach(j=>P.push({kind:"wallet",subtype:"recommended",wallet:j}));break}default:console.warn(`Unknown connector type: ${N}`)}return P},hasInjectedConnectors(){return A.state.connectors.filter(e=>(e.type==="INJECTED"||e.type==="ANNOUNCED"||e.type==="MULTI_CHAIN")&&e.name!=="Browser Wallet"&&e.name!=="WalletConnect").length}};m();C();f();m();C();f();m();C();f();var Qa=["ConnectingExternal","ConnectingMultiChain","ConnectingSocial","ConnectingFarcaster"],z=H({view:"Connect",history:["Connect"],transactionStack:[]}),Za={state:z,subscribeKey(e,t){return ee(z,e,t)},pushTransactionStack(e){z.transactionStack.push(e)},popTransactionStack(e){let t=z.transactionStack.pop();if(!t)return;let{onSuccess:n,onError:r,onCancel:o}=t;switch(e){case"success":n?.();break;case"error":r?.(),B.goBack();break;case"cancel":o?.(),B.goBack();break;default:}},push(e,t){let n=e,r=t;I.state.plan.hasExceededUsageLimit&&Qa.includes(e)&&(n="UsageExceeded",r=void 0),n!==z.view&&(z.view=n,z.history.push(n),z.data=r)},reset(e,t){z.view=e,z.history=[e],z.data=t},replace(e,t){z.history.at(-1)===e||(z.view=e,z.history[z.history.length-1]=e,z.data=t)},goBack(){let e=d.state.activeCaipAddress,t=B.state.view==="ConnectingFarcaster",n=!e&&t;if(z.history.length>1){z.history.pop();let[r]=z.history.slice(-1);r&&(e&&r==="Connect"?z.view="Account":z.view=r)}else Q.close();z.data?.wallet&&(z.data.wallet=void 0),z.data?.redirectView&&(z.data.redirectView=void 0),setTimeout(()=>{if(n){d.setAccountProp("farcasterUrl",void 0,d.state.activeChain);let r=A.getAuthConnector();r?.provider?.reload();let o=ye(L.state);r?.provider?.syncDappData?.({metadata:o.metadata,sdkVersion:o.sdkVersion,projectId:o.projectId,sdkType:o.sdkType})}},100)},goBackToIndex(e){if(z.history.length>1){z.history=z.history.slice(0,e+1);let[t]=z.history.slice(-1);t&&(z.view=t)}},goBackOrCloseModal(){B.state.history.length>1?B.goBack():Q.close()}},B=ie(Za);var Qn={onSwitchNetwork({network:e,ignoreSwitchConfirmation:t=!1}){let n=d.state.activeCaipNetwork,r=d.state.activeChain,o=B.state.data;if(e.id===n?.id)return;let i=!!d.getAccountData(r)?.address,c=!!d.getAccountData(e.chainNamespace)?.address,p=e.chainNamespace!==r,u=A.getConnectorId(r)===E.CONNECTOR_ID.AUTH,h=E.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(P=>P===e.chainNamespace);t||u&&h?B.push("SwitchNetwork",{...o,network:e}):i&&p&&!c?B.push("SwitchActiveChain",{switchToChain:e.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:e}):B.push("SwitchNetwork",{...o,network:e})}};m();C();f();var Ge=H({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1,connectingWallet:void 0}),Ae={state:Ge,subscribe(e){return Z(Ge,()=>e(Ge))},subscribeOpen(e){return ee(Ge,"open",e)},set(e){Object.assign(Ge,{...Ge,...e})}};var Ce=H({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),es={state:Ce,subscribe(e){return Z(Ce,()=>e(Ce))},subscribeKey(e,t){return ee(Ce,e,t)},async open(e){let t=e?.namespace,n=d.state.activeChain,r=t&&t!==n,o=d.getAccountData(e?.namespace)?.caipAddress,s=d.state.noAdapters;if(b.state.wcBasic?I.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1,fetchWalletRanks:!1}):await I.prefetch(),A.setFilterByNamespace(e?.namespace),Q.setLoading(!0,t),t&&r){let i=d.getNetworkData(t)?.caipNetwork||d.getRequestedCaipNetworks(t)[0];i&&(s?(await d.switchActiveNetwork(i),B.push("ConnectingWalletConnectBasic")):Qn.onSwitchNetwork({network:i,ignoreSwitchConfirmation:!0}))}else L.state.manualWCControl||s&&!o?T.isMobile()?B.reset("AllWallets"):B.reset("ConnectingWalletConnectBasic"):e?.view?B.reset(e.view,e.data):o?B.reset("Account"):B.reset("Connect");Ce.open=!0,Ae.set({open:!0}),G.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!o}})},close(){let e=L.state.enableEmbedded,t=!!d.state.activeCaipAddress;Ce.open&&G.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:t}}),Ce.open=!1,B.reset("Connect"),Q.clearLoading(),e?t?B.replace("Account"):B.push("Connect"):Ae.set({open:!1}),b.resetUri()},setLoading(e,t){t&&Ce.loadingNamespaceMap.set(t,e),Ce.loading=e,Ae.set({loading:e})},clearLoading(){Ce.loadingNamespaceMap.clear(),Ce.loading=!1,Ae.set({loading:!1})},shake(){Ce.shake||(Ce.shake=!0,setTimeout(()=>{Ce.shake=!1},500))}},Q=ie(es);m();C();f();var be=H({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),dn={state:be,subscribe(e){return Z(be,()=>e(be))},setThemeMode(e){be.themeMode=e;try{let t=A.getAuthConnector();if(t){let n=dn.getSnapshot().themeVariables;t.provider.syncTheme({themeMode:e,themeVariables:n,w3mThemeVariables:xe(n,e)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(e){be.themeVariables={...be.themeVariables,...e};try{let t=A.getAuthConnector();if(t){let n=dn.getSnapshot().themeVariables;t.provider.syncTheme({themeVariables:n,w3mThemeVariables:xe(be.themeVariables,be.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return ye(be)}},it=ie(dn);var Zn=Object.fromEntries(mt.map(e=>[e,void 0])),ts=Object.fromEntries(mt.map(e=>[e,!0])),Y=H({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:Zn,filterByNamespaceMap:ts}),ns={state:Y,subscribe(e){return Z(Y,()=>{e(Y)})},subscribeKey(e,t){return ee(Y,e,t)},initialize(e){e.forEach(t=>{let n=_.getConnectedConnectorId(t);n&&A.setConnectorId(n,t)})},setActiveConnector(e){e&&(Y.activeConnector=Ie(e))},setConnectors(e){e.filter(o=>!Y.allConnectors.some(s=>s.id===o.id&&A.getConnectorName(s.name)===A.getConnectorName(o.name)&&s.chain===o.chain)).forEach(o=>{o.type!=="MULTI_CHAIN"&&Y.allConnectors.push(Ie(o))});let n=A.getEnabledNamespaces(),r=A.getEnabledConnectors(n);Y.connectors=A.mergeMultiChainConnectors(r)},filterByNamespaces(e){Object.keys(Y.filterByNamespaceMap).forEach(t=>{Y.filterByNamespaceMap[t]=!1}),e.forEach(t=>{Y.filterByNamespaceMap[t]=!0}),A.updateConnectorsForEnabledNamespaces()},filterByNamespace(e,t){Y.filterByNamespaceMap[e]=t,A.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){let e=A.getEnabledNamespaces(),t=A.getEnabledConnectors(e),n=A.areAllNamespacesEnabled();Y.connectors=A.mergeMultiChainConnectors(t),n?I.clearFilterByNamespaces():I.filterByNamespaces(e)},getEnabledNamespaces(){return Object.entries(Y.filterByNamespaceMap).filter(([e,t])=>t).map(([e])=>e)},getEnabledConnectors(e){return Y.allConnectors.filter(t=>e.includes(t.chain))},areAllNamespacesEnabled(){return Object.values(Y.filterByNamespaceMap).every(e=>e)},mergeMultiChainConnectors(e){let t=A.generateConnectorMapByName(e),n=[];return t.forEach(r=>{let o=r[0],s=o?.id===E.CONNECTOR_ID.AUTH;r.length>1&&o?n.push({name:o.name,imageUrl:o.imageUrl,imageId:o.imageId,connectors:[...r],type:s?"AUTH":"MULTI_CHAIN",chain:"eip155",id:o?.id||""}):o&&n.push(o)}),n},generateConnectorMapByName(e){let t=new Map;return e.forEach(n=>{let{name:r}=n,o=A.getConnectorName(r);if(!o)return;let s=t.get(o)||[];s.find(c=>c.chain===n.chain)||s.push(n),t.set(o,s)}),t},getConnectorName(e){return e&&({"Trust Wallet":"Trust"}[e]||e)},getUniqueConnectorsByName(e){let t=[];return e.forEach(n=>{t.find(r=>r.chain===n.chain)||t.push(n)}),t},addConnector(e){if(e.id===E.CONNECTOR_ID.AUTH){let t=e,n=ye(L.state),r=it.getSnapshot().themeMode,o=it.getSnapshot().themeVariables;t?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,projectId:n.projectId,sdkType:n.sdkType}),t?.provider?.syncTheme({themeMode:r,themeVariables:o,w3mThemeVariables:xe(o,r)}),A.setConnectors([e])}else A.setConnectors([e])},getAuthConnector(e){let t=e||d.state.activeChain,n=Y.connectors.find(r=>r.id===E.CONNECTOR_ID.AUTH);if(n)return n?.connectors?.length?n.connectors.find(o=>o.chain===t):n},getAnnouncedConnectorRdns(){return Y.connectors.filter(e=>e.type==="ANNOUNCED").map(e=>e.info?.rdns)},getConnectorById(e){return le.sortConnectorsByPriority(Y.allConnectors).find(n=>n.id===e)},getConnector({id:e,namespace:t}){let n=t||d.state.activeChain,r=Y.allConnectors.filter(i=>i.chain===n);return le.sortConnectorsByPriority(r).find(i=>i.id===e||i.explorerId===e)},syncIfAuthConnector(e){if(e.id!=="AUTH")return;let t=e,n=ye(L.state),r=it.getSnapshot().themeMode,o=it.getSnapshot().themeVariables;t?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),t.provider.syncTheme({themeMode:r,themeVariables:o,w3mThemeVariables:xe(o,r)})},getConnectorsByNamespace(e){let t=Y.allConnectors.filter(n=>n.chain===e);return A.mergeMultiChainConnectors(t)},canSwitchToSmartAccount(e){return d.checkIfSmartAccountEnabled()&&_e(e)===te.ACCOUNT_TYPES.EOA},selectWalletConnector(e){let t=B.state.data?.redirectView,n=d.state.activeChain,r=n?A.getConnector({id:e.id,namespace:n}):void 0;zn.handleMobileDeeplinkRedirect(r?.explorerId||e.id,d.state.activeChain),r?B.push("ConnectingExternal",{connector:r,wallet:e,redirectView:t}):B.push("ConnectingWalletConnect",{wallet:e,redirectView:t})},getConnectors(e){return e?A.getConnectorsByNamespace(e):A.mergeMultiChainConnectors(Y.allConnectors)},setFilterByNamespace(e){Y.filterByNamespace=e,Y.connectors=A.getConnectors(e),I.setFilterByNamespace(e)},setConnectorId(e,t){e&&(Y.activeConnectorIds={...Y.activeConnectorIds,[t]:e},_.setConnectedConnectorId(t,e))},removeConnectorId(e){Y.activeConnectorIds={...Y.activeConnectorIds,[e]:void 0},_.deleteConnectedConnectorId(e)},getConnectorId(e){if(e)return Y.activeConnectorIds[e]},isConnected(e){return e?!!Y.activeConnectorIds[e]:Object.values(Y.activeConnectorIds).some(t=>!!t)},resetConnectorIds(){Y.activeConnectorIds={...Zn}},extendConnectorsWithExplorerWallets(e){Y.allConnectors.forEach(r=>{let o=e.find(s=>s.id===r.id||s.rdns&&s.rdns===r.info?.rdns);o&&(r.explorerWallet=o)});let t=A.getEnabledNamespaces(),n=A.getEnabledConnectors(t);Y.connectors=A.mergeMultiChainConnectors(n)},async connect(e={}){let{namespace:t}=e;return A.setFilterByNamespace(t),B.push("Connect",{addWalletForNamespace:t}),new Promise((n,r)=>{if(t){let o=d.subscribeChainProp("accountState",i=>{i?.caipAddress&&(n({caipAddress:i?.caipAddress}),o())},t),s=Q.subscribeKey("open",i=>{i||(r(new Error("Modal closed")),s())})}else{let o=d.subscribeKey("activeCaipAddress",i=>{i&&(n({caipAddress:i}),o())}),s=Q.subscribeKey("open",i=>{i||(r(new Error("Modal closed")),s())})}})}},A=ie(ns);var rs=1e3,Ye={checkNamespaceConnectorId(e,t){return A.getConnectorId(e)===t},isSocialProvider(e){return X.DEFAULT_REMOTE_FEATURES.socials.includes(e)},connectWalletConnect({walletConnect:e,connector:t,closeModalOnConnect:n=!0,redirectViewOnModalClose:r="Connect",onOpen:o,onConnect:s}){return new Promise((i,c)=>{if(e&&A.setActiveConnector(t),o?.(T.isMobile()&&e),r){let l=Q.subscribeKey("open",u=>{u||(B.state.view!==r&&B.replace(r),l(),c(new Error("Modal closed")))})}let p=d.subscribeKey("activeCaipAddress",l=>{l&&(s?.(),n&&Q.close(),p(),i(ce.parseCaipAddress(l)))})})},connectExternal(e){return new Promise((t,n)=>{let r=d.subscribeKey("activeCaipAddress",o=>{o&&(Q.close(),r(),t(ce.parseCaipAddress(o)))});b.connectExternal(e,e.chain).catch(()=>{r(),n(new Error("Connection rejected"))})})},connectSocial({social:e,namespace:t,closeModalOnConnect:n=!0,onOpenFarcaster:r,onConnect:o}){let s,i=!1,c=null,p=t||d.state.activeChain,l=d.subscribeKey("activeCaipAddress",u=>{u&&(n&&Q.close(),l())});return new Promise((u,h)=>{async function P(M){if(M.data?.resultUri)if(M.origin===E.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",P,!1);try{let j=A.getAuthConnector(p);if(j&&!i){s&&s.close(),i=!0;let W=M.data.resultUri;G.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:e}}),_.setConnectedSocialProvider(e),await b.connectExternal({id:j.id,type:j.type,socialUri:W},j.chain);let J=d.state.activeCaipAddress;if(!J){h(new Error("Failed to connect"));return}u(ce.parseCaipAddress(J)),G.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:e}})}}catch(j){G.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:e,message:T.parseError(j)}}),h(new Error("Failed to connect"))}}else G.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:e,message:"Untrusted Origin"}})}async function N(){if(G.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:e}}),e==="farcaster"){r?.();let M=Q.subscribeKey("open",W=>{!W&&e==="farcaster"&&(h(new Error("Popup closed")),o?.(),M())}),j=A.getAuthConnector();if(j&&!d.getAccountData(p)?.farcasterUrl)try{let{url:J}=await j.provider.getFarcasterUri();d.setAccountProp("farcasterUrl",J,p)}catch{h(new Error("Failed to connect to farcaster"))}}else{let M=A.getAuthConnector();c=T.returnOpenHref(`${E.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(M){let{uri:j}=await M.provider.getSocialRedirectUri({provider:e});if(c&&j){c.location.href=j,s=c;let W=setInterval(()=>{s?.closed&&!i&&(h(new Error("Popup closed")),clearInterval(W))},1e3);window.addEventListener("message",P,!1)}else c?.close(),h(new Error("Failed to initiate social connection"))}}catch{h(new Error("Failed to initiate social connection")),c?.close()}}}N()})},connectEmail({closeModalOnConnect:e=!0,redirectViewOnModalClose:t="Connect",onOpen:n,onConnect:r}){return new Promise((o,s)=>{if(n?.(),t){let c=Q.subscribeKey("open",p=>{p||(B.state.view!==t&&B.replace(t),c(),s(new Error("Modal closed")))})}let i=d.subscribeKey("activeCaipAddress",c=>{c&&(r?.(),e&&Q.close(),i(),o(ce.parseCaipAddress(c)))})})},async updateEmail(){let e=_.getConnectedConnectorId(d.state.activeChain),t=A.getAuthConnector();if(!t)throw new Error("No auth connector found");if(e!==E.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");let n=t.provider.getEmail()??"";return await Q.open({view:"UpdateEmailWallet",data:{email:n,redirectView:void 0}}),new Promise((r,o)=>{let s=setInterval(()=>{let c=t.provider.getEmail()??"";c!==n&&(Q.close(),clearInterval(s),i(),r({email:c}))},rs),i=Q.subscribeKey("open",c=>{c||(B.state.view!=="Connect"&&B.push("Connect"),clearInterval(s),i(),o(new Error("Modal closed")))})})},canSwitchToSmartAccount(e){return d.checkIfSmartAccountEnabled()&&_e(e)===te.ACCOUNT_TYPES.EOA}};function Ut(){let e=d.state.activeCaipNetwork?.chainNamespace||"eip155",t=d.state.activeCaipNetwork?.id||1,n=X.NATIVE_TOKEN_ADDRESS[e];return`${e}:${t}:${n}`}function Pm(e){return X.NATIVE_TOKEN_ADDRESS[e]}function _e(e){return d.getAccountData(e)?.preferredAccountType}function km(e){return e?d.state.chains.get(e)?.networkState?.caipNetwork:d.state.activeCaipNetwork}m();C();f();var pn={getConnectionStatus(e,t){let n=A.state.activeConnectorIds[t],r=b.getConnections(t);return!!n&&e.connectorId===n?"connected":r.some(i=>i.connectorId.toLowerCase()===e.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections({connections:e,connectorId:t,addresses:n}){return e.map(r=>{if((t?r.connectorId.toLowerCase()===t.toLowerCase():!1)&&n){let s=r.accounts.filter(i=>!n.some(p=>p.toLowerCase()===i.address.toLowerCase()));return{...r,accounts:s}}return r})},excludeExistingConnections(e,t){let n=new Set(e);return t.filter(r=>!n.has(r.connectorId))},getConnectionsByConnectorId(e,t){return e.filter(n=>n.connectorId.toLowerCase()===t.toLowerCase())},getConnectionsData(e){let t=!!L.state.remoteFeatures?.multiWallet,n=A.state.activeConnectorIds[e],r=b.getConnections(e),s=(b.state.recentConnections.get(e)??[]).filter(c=>A.getConnectorById(c.connectorId)),i=pn.excludeExistingConnections([...r.map(c=>c.connectorId),...n?[n]:[]],s);return t?{connections:r,recentConnections:i}:{connections:r.filter(c=>c.connectorId.toLowerCase()===n?.toLowerCase()),recentConnections:[]}},onConnectMobile(e){let t=b.state.wcUri;if(e?.mobile_link&&t)try{b.setWcError(!1);let{mobile_link:n,link_mode:r,name:o}=e,{redirect:s,redirectUniversalLink:i,href:c}=T.formatNativeUrl(n,t,r),p=s,l=i,u=T.isIframe()?"_top":"_self";b.setWcLinking({name:o,href:c}),b.setRecentWallet(e),L.state.experimental_preferUniversalLinks&&l?T.openHref(l,u):T.openHref(p,u)}catch(n){G.sendEvent({type:"track",event:"CONNECT_PROXY_ERROR",properties:{message:n instanceof Error?n.message:"Error parsing the deep link",uri:t,mobile_link:e.mobile_link,name:e.name}}),b.setWcError(!0)}}};m();C();f();var re=H({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),os={state:re,subscribe(e){return Z(re,()=>e(re))},setLastNetworkInView(e){re.lastNetworkInView=e},async fetchTransactions(e){if(!e)throw new Error("Transactions can't be fetched without an accountAddress");re.loading=!0;try{let t=await F.fetchTransactions({account:e,cursor:re.next,chainId:d.state.activeCaipNetwork?.caipNetworkId}),n=ct.filterSpamTransactions(t.data),r=ct.filterByConnectedChain(n),o=[...re.transactions,...r];re.loading=!1,re.transactions=o,re.transactionsByYear=ct.groupTransactionsByYearAndMonth(re.transactionsByYear,r),re.empty=o.length===0,re.next=t.next?t.next:void 0}catch{let n=d.state.activeChain;G.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:e,projectId:L.state.projectId,cursor:re.next,isSmartAccount:_e(n)===te.ACCOUNT_TYPES.SMART_ACCOUNT}}),ke.showError("Failed to fetch transactions"),re.loading=!1,re.empty=!0,re.next=void 0}},groupTransactionsByYearAndMonth(e={},t=[]){let n=e;return t.forEach(r=>{let o=new Date(r.metadata.minedAt).getFullYear(),s=new Date(r.metadata.minedAt).getMonth(),i=n[o]??{},p=(i[s]??[]).filter(l=>l.id!==r.id);n[o]={...i,[s]:[...p,r].sort((l,u)=>new Date(u.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),n},filterSpamTransactions(e){return e.filter(t=>!t.transfers?.every(r=>r.nft_info?.flags.is_spam===!0))},filterByConnectedChain(e){let t=d.state.activeCaipNetwork?.caipNetworkId;return e.filter(r=>r.metadata.chain===t)},clearCursor(){re.next=void 0},resetTransactions(){re.transactions=[],re.transactionsByYear={},re.lastNetworkInView=void 0,re.loading=!1,re.empty=!1,re.next=void 0}},ct=ie(os,"API_ERROR");var V=H({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,wcFetchingUri:!1,buffering:!1,status:"disconnected"}),Ke,as={state:V,subscribe(e){return Z(V,()=>e(V))},subscribeKey(e,t){return ee(V,e,t)},_getClient(){return V._client},setClient(e){V._client=Ie(e)},initialize(e){let t=e.filter(n=>!!n.namespace).map(n=>n.namespace);b.syncStorageConnections(t)},syncStorageConnections(e){let t=_.getConnections(),n=e??Array.from(d.state.chains.keys());for(let r of n){let o=t[r]??[],s=new Map(V.recentConnections);s.set(r,o),V.recentConnections=s}},getConnections(e){return e?V.connections.get(e)??[]:[]},hasAnyConnection(e){let t=b.state.connections;return Array.from(t.values()).flatMap(n=>n).some(({connectorId:n})=>n===e)},async connectWalletConnect({cache:e="auto"}={}){V.wcFetchingUri=!0;let t=T.isTelegram()||T.isSafari()&&T.isIos();if(e==="always"||e==="auto"&&t){if(Ke){await Ke,Ke=void 0;return}if(!T.isPairingExpired(V?.wcPairingExpiry)){let n=V.wcUri;V.wcUri=n;return}Ke=b._getClient()?.connectWalletConnect?.().catch(()=>{}),b.state.status="connecting",await Ke,Ke=void 0,V.wcPairingExpiry=void 0,b.state.status="connected"}else await b._getClient()?.connectWalletConnect?.()},async connectExternal(e,t,n=!0){let r=await b._getClient()?.connectExternal?.(e);n&&d.setActiveNamespace(t);let o=A.state.allConnectors.find(i=>i.id===e?.id),s=e.type==="AUTH"?"email":"browser";return G.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:s,name:o?.name||"Unknown",view:B.state.view,walletRank:o?.explorerWallet?.order}}),r},async reconnectExternal(e){await b._getClient()?.reconnectExternal?.(e);let t=e.chain||d.state.activeChain;t&&A.setConnectorId(e.id,t)},async setPreferredAccountType(e,t){if(!t)return;Q.setLoading(!0,d.state.activeChain);let n=A.getAuthConnector();n&&(d.setAccountProp("preferredAccountType",e,t),await n.provider.setPreferredAccount(e),_.setPreferredAccountTypes(Object.entries(d.state.chains).reduce((r,[o,s])=>{let i=o,c=_e(i);return c!==void 0&&(r[i]=c),r},{})),await b.reconnectExternal(n),Q.setLoading(!1,d.state.activeChain),G.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:e,network:d.state.activeCaipNetwork?.caipNetworkId||""}}))},async signMessage(e){return b._getClient()?.signMessage(e)},parseUnits(e,t){return b._getClient()?.parseUnits(e,t)},formatUnits(e,t){return b._getClient()?.formatUnits(e,t)},updateBalance(e){return b._getClient()?.updateBalance(e)},async sendTransaction(e){return b._getClient()?.sendTransaction(e)},async getCapabilities(e){return b._getClient()?.getCapabilities(e)},async grantPermissions(e){return b._getClient()?.grantPermissions(e)},async walletGetAssets(e){return b._getClient()?.walletGetAssets(e)??{}},async estimateGas(e){return b._getClient()?.estimateGas(e)},async writeContract(e){return b._getClient()?.writeContract(e)},async writeSolanaTransaction(e){return b._getClient()?.writeSolanaTransaction(e)},async getEnsAddress(e){return b._getClient()?.getEnsAddress(e)},async getEnsAvatar(e){return b._getClient()?.getEnsAvatar(e)},checkInstalled(e){return b._getClient()?.checkInstalled?.(e)||!1},resetWcConnection(){V.wcUri=void 0,V.wcPairingExpiry=void 0,V.wcLinking=void 0,V.recentWallet=void 0,V.wcFetchingUri=!1,V.status="disconnected",ct.resetTransactions(),_.deleteWalletConnectDeepLink(),_.deleteRecentWallet(),Ae.set({connectingWallet:void 0})},resetUri(){V.wcUri=void 0,V.wcPairingExpiry=void 0,Ke=void 0,V.wcFetchingUri=!1,Ae.set({connectingWallet:void 0})},finalizeWcConnection(e){let{wcLinking:t,recentWallet:n}=b.state;t&&_.setWalletConnectDeepLink(t),n&&_.setAppKitRecent(n),e&&G.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:e,properties:{method:t?"mobile":"qrcode",name:B.state.data?.wallet?.name||"Unknown",view:B.state.view,walletRank:n?.order}})},setWcBasic(e){V.wcBasic=e},setUri(e){V.wcUri=e,V.wcFetchingUri=!1,V.wcPairingExpiry=T.getPairingExpiry()},setWcLinking(e){V.wcLinking=e},setWcError(e){V.wcError=e,V.wcFetchingUri=!1,V.buffering=!1},setRecentWallet(e){V.recentWallet=e},setBuffering(e){V.buffering=e},setStatus(e){V.status=e},setIsSwitchingConnection(e){V.isSwitchingConnection=e},async disconnect({id:e,namespace:t,initialDisconnect:n}={}){try{await b._getClient()?.disconnect({id:e,chainNamespace:t,initialDisconnect:n})}catch(r){throw new He("Failed to disconnect","INTERNAL_SDK_ERROR",r)}},async disconnectConnector({id:e,namespace:t}){try{await b._getClient()?.disconnectConnector({id:e,namespace:t})}catch(n){throw new He("Failed to disconnect connector","INTERNAL_SDK_ERROR",n)}},setConnections(e,t){let n=new Map(V.connections);n.set(t,e),V.connections=n},async handleAuthAccountSwitch({address:e,namespace:t}){let r=d.getAccountData(t)?.user?.accounts?.find(s=>s.type==="smartAccount"),o=r&&r.address.toLowerCase()===e.toLowerCase()&&Ye.canSwitchToSmartAccount(t)?"smartAccount":"eoa";await b.setPreferredAccountType(o,t)},async handleActiveConnection({connection:e,namespace:t,address:n}){let r=A.getConnectorById(e.connectorId),o=e.connectorId===E.CONNECTOR_ID.AUTH;if(!r)throw new Error(`No connector found for connection: ${e.connectorId}`);if(o)n&&await b.handleAuthAccountSwitch({address:n,namespace:t});else return(await b.connectExternal({id:r.id,type:r.type,provider:r.provider,address:n,chain:t},t))?.address;return n},async handleDisconnectedConnection({connection:e,namespace:t,address:n,closeModalOnConnect:r}){let o=A.getConnectorById(e.connectorId),s=e.auth?.name?.toLowerCase(),i=e.connectorId===E.CONNECTOR_ID.AUTH,c=e.connectorId===E.CONNECTOR_ID.WALLET_CONNECT;if(!o)throw new Error(`No connector found for connection: ${e.connectorId}`);let p;if(i)if(s&&Ye.isSocialProvider(s)){let{address:l}=await Ye.connectSocial({social:s,closeModalOnConnect:r,onOpenFarcaster(){Q.open({view:"ConnectingFarcaster"})},onConnect(){B.replace("ProfileWallets")}});p=l}else{let{address:l}=await Ye.connectEmail({closeModalOnConnect:r,onOpen(){Q.open({view:"EmailLogin"})},onConnect(){B.replace("ProfileWallets")}});p=l}else if(c){let{address:l}=await Ye.connectWalletConnect({walletConnect:!0,connector:o,closeModalOnConnect:r,onOpen(u){let h=u?"AllWallets":"ConnectingWalletConnect";Q.state.open?B.push(h):Q.open({view:h})},onConnect(){B.replace("ProfileWallets")}});p=l}else{let l=await b.connectExternal({id:o.id,type:o.type,provider:o.provider,chain:t},t);l&&(p=l.address)}return i&&n&&await b.handleAuthAccountSwitch({address:n,namespace:t}),p},async switchConnection({connection:e,address:t,namespace:n,closeModalOnConnect:r,onChange:o}){let s,i=d.getAccountData(n)?.caipAddress;if(i){let{address:p}=ce.parseCaipAddress(i);s=p}let c=pn.getConnectionStatus(e,n);switch(c){case"connected":case"active":{let p=await b.handleActiveConnection({connection:e,namespace:n,address:t});if(s&&p){let l=p.toLowerCase()!==s.toLowerCase();o?.({address:p,namespace:n,hasSwitchedAccount:l,hasSwitchedWallet:c==="active"})}break}case"disconnected":{let p=await b.handleDisconnectedConnection({connection:e,namespace:n,address:t,closeModalOnConnect:r});p&&o?.({address:p,namespace:n,hasSwitchedAccount:!0,hasSwitchedWallet:!0});break}default:throw new Error(`Invalid connection status: ${c}`)}}},b=ie(as);m();C();f();var Pt={createBalance(e,t){let n={name:e.metadata.name||"",symbol:e.metadata.symbol||"",decimals:e.metadata.decimals||0,value:e.metadata.value||0,price:e.metadata.price||0,iconUrl:e.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:t,address:e.address==="native"?void 0:this.convertAddressToCAIP10Address(e.address,t),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:e.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:e,decimals:t}){return ut(BigInt(e),t)},convertAddressToCAIP10Address(e,t){return`${t}:${e}`},createCAIP2ChainId(e,t){return`${t}:${parseInt(e,16)}`},getChainIdHexFromCAIP2ChainId(e){let t=e.split(":");if(t.length<2||!t[1])return"0x0";let n=t[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(e){return typeof e!="object"||e===null?!1:Object.values(e).every(t=>Array.isArray(t)&&t.every(n=>this.isValidAsset(n)))},isValidAsset(e){return typeof e=="object"&&e!==null&&typeof e.address=="string"&&typeof e.balance=="string"&&(e.type==="ERC20"||e.type==="NATIVE")&&typeof e.metadata=="object"&&e.metadata!==null&&typeof e.metadata.name=="string"&&typeof e.metadata.symbol=="string"&&typeof e.metadata.decimals=="number"&&typeof e.metadata.price=="number"&&typeof e.metadata.iconUrl=="string"}};m();C();f();var un;async function er(){if(!un){let{createPublicClient:e,http:t,defineChain:n}=await import("./_esm-SEE772QS.js");un={createPublicClient:e,http:t,defineChain:n}}return un}var kt={getBlockchainApiRpcUrl(e,t){let n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",e),n.searchParams.set("projectId",t),n.toString()},async getViemChain(e){let{defineChain:t}=await er(),{chainId:n}=ce.parseCaipNetworkId(e.caipNetworkId);return t({...e,id:Number(n)})},async createViemPublicClient(e){let{createPublicClient:t,http:n}=await er(),r=L.state.projectId,o=await kt.getViemChain(e);if(!o)throw new Error(`Chain ${e.caipNetworkId} not found in viem/chains`);return t({chain:o,transport:n(kt.getBlockchainApiRpcUrl(e.caipNetworkId,r))})}};var $e={async getMyTokensWithBalance(e={forceUpdate:void 0,caipNetwork:d.state.activeCaipNetwork,address:d.getAccountData()?.address}){let{forceUpdate:t,caipNetwork:n,address:r}=e,o=A.getConnectorId("eip155")===E.CONNECTOR_ID.AUTH;if(!r)return[];let s=n?`${n.caipNetworkId}:${r}`:r,i=_.getBalanceCacheForCaipAddress(s);if(i)return i.balances;if(n&&n.chainNamespace===E.CHAIN.EVM&&o){let p=await this.getEIP155Balances(r,n);if(p)return this.filterLowQualityTokens(p)}let c=await F.getBalance(r,n?.caipNetworkId,t);return this.filterLowQualityTokens(c.balances)},async getEIP155Balances(e,t){try{let n=Pt.getChainIdHexFromCAIP2ChainId(t.caipNetworkId);if(!(await b.getCapabilities(e))?.[n]?.assetDiscovery?.supported)return null;let o=await b.walletGetAssets({account:e,chainFilter:[n]});if(!Pt.isWalletGetAssetsResponse(o))return null;let i=(o[n]||[]).map(c=>Pt.createBalance(c,t.caipNetworkId));return _.updateBalanceCache({caipAddress:`${t.caipNetworkId}:${e}`,balance:{balances:i},timestamp:Date.now()}),i}catch{return null}},filterLowQualityTokens(e){return e.filter(t=>t.quantity.decimals!=="0")},async fetchERC20Balance({caipAddress:e,assetAddress:t,caipNetwork:n}){let r=await kt.createViemPublicClient(n),{address:o}=ce.parseCaipAddress(e),[{result:s},{result:i},{result:c},{result:p}]=await r.multicall({contracts:[{address:t,functionName:"name",args:[],abi:ze},{address:t,functionName:"symbol",args:[],abi:ze},{address:t,functionName:"balanceOf",args:[o],abi:ze},{address:t,functionName:"decimals",args:[],abi:ze}]});return{name:s,symbol:i,decimals:p,balance:c&&p?ut(c,p):"0"}}};m();C();f();var mn={adapters:{}},tr={state:mn,initialize(e){mn.adapters={...e}},get(e){return mn.adapters[e]}};m();C();f();var Lt={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0,ton:void 0},Ee=H({providers:{...Lt},providerIds:{...Lt}}),nr={state:Ee,subscribeKey(e,t){return ee(Ee,e,t)},subscribe(e){return Z(Ee,()=>{e(Ee)})},subscribeProviders(e){return Z(Ee.providers,()=>e(Ee.providers))},setProvider(e,t){e&&t&&(Ee.providers[e]=Ie(t))},getProvider(e){if(e)return Ee.providers[e]},setProviderId(e,t){t&&(Ee.providerIds[e]=t)},getProviderId(e){if(e)return Ee.providerIds[e]},reset(){Ee.providers={...Lt},Ee.providerIds={...Lt}},resetChain(e){Ee.providers[e]=void 0,Ee.providerIds[e]=void 0}};m();C();f();m();C();f();var rr={async getTokenList(e){return(await F.fetchSwapTokens({chainId:e}))?.tokens?.map(r=>({...r,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0}))||[]},async fetchGasPrice(){let e=d.state.activeCaipNetwork;if(!e)return null;try{switch(e.chainNamespace){case"solana":let t=(await b?.estimateGas({chainNamespace:"solana"}))?.toString();return{standard:t,fast:t,instant:t};case"eip155":default:return await F.fetchGasPrice({chainId:e.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:e,userAddress:t,sourceTokenAmount:n,sourceTokenDecimals:r}){let o=await F.fetchSwapAllowance({tokenAddress:e,userAddress:t});if(o?.allowance&&n&&r){let s=b.parseUnits(n,r)||0;return BigInt(o.allowance)>=s}return!1},async getMyTokensWithBalance(e){let t=await $e.getMyTokensWithBalance({forceUpdate:e,caipNetwork:d.state.activeCaipNetwork,address:d.getAccountData()?.address});return d.setAccountProp("tokenBalance",t,d.state.activeChain),this.mapBalancesToSwapTokens(t)},mapBalancesToSwapTokens(e){return e?.map(t=>({...t,address:t?.address?t.address:Ut(),decimals:parseInt(t.quantity.decimals,10),logoUri:t.iconUrl,eip2612:!1}))||[]},async handleSwapError(e){try{let t=e?.cause;return t?.json&&(await t.json())?.reasons?.[0]?.description?.includes("insufficient liquidity")?"Insufficient liquidity":void 0}catch{return}}};var $=H({tokenBalances:[],loading:!1}),ss={state:$,subscribe(e){return Z($,()=>e($))},subscribeKey(e,t){return ee($,e,t)},setToken(e){e&&($.token=Ie(e))},setTokenAmount(e){$.sendTokenAmount=e},setReceiverAddress(e){$.receiverAddress=e},setReceiverProfileImageUrl(e){$.receiverProfileImageUrl=e},setReceiverProfileName(e){$.receiverProfileName=e},setNetworkBalanceInUsd(e){$.networkBalanceInUSD=e},setLoading(e){$.loading=e},getSdkEventProperties(e){return{message:T.parseError(e),isSmartAccount:_e(d.state.activeChain)===te.ACCOUNT_TYPES.SMART_ACCOUNT,token:$.token?.symbol||"",amount:$.sendTokenAmount??0,network:d.state.activeCaipNetwork?.caipNetworkId||""}},async sendToken(){try{switch(K.setLoading(!0),d.state.activeCaipNetwork?.chainNamespace){case"eip155":await K.sendEvmToken();return;case"solana":await K.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}catch(e){throw Se.isUserRejectedRequestError(e)?new Je(e):e}finally{K.setLoading(!1)}},async sendEvmToken(){let e=d.state.activeChain;if(!e)throw new Error("SendController:sendEvmToken - activeChainNamespace is required");let t=_e(e);if(!K.state.sendTokenAmount||!K.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!K.state.token)throw new Error("A token is required");if(K.state.token?.address){G.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===te.ACCOUNT_TYPES.SMART_ACCOUNT,token:K.state.token.address,amount:K.state.sendTokenAmount,network:d.state.activeCaipNetwork?.caipNetworkId||""}});let{hash:n}=await K.sendERC20Token({receiverAddress:K.state.receiverAddress,tokenAddress:K.state.token.address,sendTokenAmount:K.state.sendTokenAmount,decimals:K.state.token.quantity.decimals});n&&($.hash=n)}else{G.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===te.ACCOUNT_TYPES.SMART_ACCOUNT,token:K.state.token.symbol||"",amount:K.state.sendTokenAmount,network:d.state.activeCaipNetwork?.caipNetworkId||""}});let{hash:n}=await K.sendNativeToken({receiverAddress:K.state.receiverAddress,sendTokenAmount:K.state.sendTokenAmount,decimals:K.state.token.quantity.decimals});n&&($.hash=n)}},async fetchTokenBalance(e){$.loading=!0;let t=d.state.activeChain,n=d.state.activeCaipNetwork?.caipNetworkId,r=d.state.activeCaipNetwork?.chainNamespace,o=d.getAccountData(t)?.caipAddress??d.state.activeCaipAddress,s=o?T.getPlainAddress(o):void 0;if($.lastRetry&&!T.isAllowedRetry($.lastRetry,30*X.ONE_SEC_MS))return $.loading=!1,[];try{if(s&&n&&r){let i=await $e.getMyTokensWithBalance();return $.tokenBalances=i,$.lastRetry=void 0,i}}catch(i){$.lastRetry=Date.now(),e?.(i),ke.showError("Token Balance Unavailable")}finally{$.loading=!1}return[]},fetchNetworkBalance(){if($.tokenBalances.length===0)return;let e=rr.mapBalancesToSwapTokens($.tokenBalances);if(!e)return;let t=e.find(n=>n.address===Ut());t&&($.networkBalanceInUSD=t?ft.multiply(t.quantity.numeric,t.price).toString():"0")},async sendNativeToken(e){B.pushTransactionStack({});let t=e.receiverAddress,n=d.getAccountData()?.address,r=b.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals)),s=await b.sendTransaction({chainNamespace:E.CHAIN.EVM,to:t,address:n,data:"0x",value:r??BigInt(0)});return G.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:_e("eip155")===te.ACCOUNT_TYPES.SMART_ACCOUNT,token:K.state.token?.symbol||"",amount:e.sendTokenAmount,network:d.state.activeCaipNetwork?.caipNetworkId||"",hash:s||""}}),b._getClient()?.updateBalance("eip155"),K.resetSend(),{hash:s}},async sendERC20Token(e){B.pushTransactionStack({onSuccess(){B.replace("Account")}});let t=b.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals)),n=d.getAccountData()?.address;if(n&&e.sendTokenAmount&&e.receiverAddress&&e.tokenAddress){let r=T.getPlainAddress(e.tokenAddress);if(!r)throw new Error("SendController:sendERC20Token - tokenAddress is required");let o=await b.writeContract({fromAddress:n,tokenAddress:r,args:[e.receiverAddress,t??BigInt(0)],method:"transfer",abi:Bt.getERC20Abi(r),chainNamespace:E.CHAIN.EVM});return G.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:_e("eip155")===te.ACCOUNT_TYPES.SMART_ACCOUNT,token:K.state.token?.symbol||"",amount:e.sendTokenAmount,network:d.state.activeCaipNetwork?.caipNetworkId||"",hash:o||""}}),K.resetSend(),{hash:o}}return{hash:void 0}},async sendSolanaToken(){if(!K.state.sendTokenAmount||!K.state.receiverAddress)throw new Error("An amount and receiver address are required");B.pushTransactionStack({onSuccess(){B.replace("Account")}});let e;K.state.token&&K.state.token.address!==X.SOLANA_NATIVE_TOKEN_ADDRESS&&(T.isCaipAddress(K.state.token.address)?e=T.getPlainAddress(K.state.token.address):e=K.state.token.address);let t=await b.sendTransaction({chainNamespace:"solana",tokenMint:e,to:K.state.receiverAddress,value:K.state.sendTokenAmount});t&&($.hash=t),b._getClient()?.updateBalance("solana"),G.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:!1,token:K.state.token?.symbol||"",amount:K.state.sendTokenAmount,network:d.state.activeCaipNetwork?.caipNetworkId||"",hash:t||""}}),K.resetSend()},resetSend(){$.token=void 0,$.sendTokenAmount=void 0,$.receiverAddress=void 0,$.receiverProfileImageUrl=void 0,$.receiverProfileName=void 0,$.loading=!1,$.tokenBalances=[]}},K=ie(ss);var fn={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},Dt={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},S=H({chains:Gn(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{connectionControllerClient:void 0},isSwitchingNamespace:!1}),or={state:S,subscribe(e){return Z(S,()=>{e(S)})},subscribeKey(e,t){return ee(S,e,t)},subscribeAccountStateProp(e,t,n){let r=n||S.activeChain;return r?ee(S.chains.get(r)?.accountState||{},e,t):()=>{}},subscribeChainProp(e,t,n){let r;return Z(S.chains,()=>{let o=n||S.activeChain;if(o){let s=S.chains.get(o)?.[e];r!==s&&(r=s,t(s))}})},initialize(e,t,n){let{chainId:r,namespace:o}=_.getActiveNetworkProps(),s=t?.find(u=>u.id.toString()===r?.toString()),c=e.find(u=>u?.namespace===o)||e?.[0],p=e.map(u=>u.namespace).filter(u=>u!==void 0),l=L.state.enableEmbedded?new Set([...p]):new Set([...t?.map(u=>u.chainNamespace)??[]]);(e?.length===0||!c)&&(S.noAdapters=!0),S.noAdapters||(S.activeChain=c?.namespace,S.activeCaipNetwork=s,d.setChainNetworkData(c?.namespace,{caipNetwork:s}),S.activeChain&&Ae.set({activeChain:c?.namespace})),l.forEach(u=>{let h=t?.filter(M=>M.chainNamespace===u),P=_.getPreferredAccountTypes()||{},N={...L.state.defaultAccountTypes,...P};d.state.chains.set(u,{namespace:u,networkState:H({...Dt,caipNetwork:h?.[0]}),accountState:H({...fn,preferredAccountType:N[u]}),caipNetworks:h??[],...n}),d.setRequestedCaipNetworks(h??[],u)})},removeAdapter(e){if(S.activeChain===e){let t=Array.from(S.chains.entries()).find(([n])=>n!==e);if(t){let n=t[1]?.caipNetworks?.[0];n&&d.setActiveCaipNetwork(n)}}S.chains.delete(e)},addAdapter(e,{connectionControllerClient:t},n){if(!e.namespace)throw new Error("ChainController:addAdapter - adapter must have a namespace");S.chains.set(e.namespace,{namespace:e.namespace,networkState:{...Dt,caipNetwork:n[0]},accountState:{...fn},caipNetworks:n,connectionControllerClient:t}),d.setRequestedCaipNetworks(n?.filter(r=>r.chainNamespace===e.namespace)??[],e.namespace)},addNetwork(e){let t=S.chains.get(e.chainNamespace);if(t){let n=[...t.caipNetworks||[]];t.caipNetworks?.find(r=>r.id===e.id)||n.push(e),S.chains.set(e.chainNamespace,{...t,caipNetworks:n}),d.setRequestedCaipNetworks(n,e.chainNamespace),A.filterByNamespace(e.chainNamespace,!0)}},removeNetwork(e,t){let n=S.chains.get(e);if(n){let r=S.activeCaipNetwork?.id===t,o=[...n.caipNetworks?.filter(s=>s.id!==t)||[]];r&&n?.caipNetworks?.[0]&&d.setActiveCaipNetwork(n.caipNetworks[0]),S.chains.set(e,{...n,caipNetworks:o}),d.setRequestedCaipNetworks(o||[],e),o.length===0&&A.filterByNamespace(e,!1)}},setAdapterNetworkState(e,t){let n=S.chains.get(e);n&&(n.networkState={...n.networkState||Dt,...t},S.chains.set(e,n))},setChainAccountData(e,t,n=!0){if(!e)throw new Error("Chain is required to update chain account data");let r=S.chains.get(e);if(r){let o={...r.accountState||fn,...t};S.chains.set(e,{...r,accountState:o}),(S.chains.size===1||S.activeChain===e)&&t.caipAddress&&(S.activeCaipAddress=t.caipAddress)}},setChainNetworkData(e,t){if(!e)return;let n=S.chains.get(e);if(n){let r={...n.networkState||Dt,...t};S.chains.set(e,{...n,networkState:r})}},setAccountProp(e,t,n,r=!0){d.setChainAccountData(n,{[e]:t},r)},setActiveNamespace(e){S.activeChain=e;let t=e?S.chains.get(e):void 0,n=t?.networkState?.caipNetwork;n?.id&&e&&(S.activeCaipAddress=t?.accountState?.caipAddress,S.activeCaipNetwork=n,d.setChainNetworkData(e,{caipNetwork:n}),_.setActiveCaipNetworkId(n?.caipNetworkId),Ae.set({activeChain:e,selectedNetworkId:n?.caipNetworkId}))},setActiveCaipNetwork(e){if(!e)return;let t=S.activeChain===e.chainNamespace;t||d.setIsSwitchingNamespace(!0);let n=S.chains.get(e.chainNamespace);S.activeChain=e.chainNamespace,S.activeCaipNetwork=e,d.setChainNetworkData(e.chainNamespace,{caipNetwork:e});let r=n?.accountState?.address;if(r)S.activeCaipAddress=`${e.chainNamespace}:${e.id}:${r}`;else if(t&&S.activeCaipAddress){let{address:s}=ce.parseCaipAddress(S.activeCaipAddress);r=s,S.activeCaipAddress=`${e.caipNetworkId}:${r}`}else S.activeCaipAddress=void 0;d.setChainAccountData(e.chainNamespace,{address:r,caipAddress:S.activeCaipAddress}),K.resetSend(),Ae.set({activeChain:S.activeChain,selectedNetworkId:S.activeCaipNetwork?.caipNetworkId}),_.setActiveCaipNetworkId(e.caipNetworkId),!d.checkIfSupportedNetwork(e.chainNamespace)&&L.state.enableNetworkSwitch&&!L.state.allowUnsupportedChain&&!b.state.wcBasic&&d.showUnsupportedChainUI()},addCaipNetwork(e){if(!e)return;let t=S.chains.get(e.chainNamespace);t&&t?.caipNetworks?.push(e)},async switchActiveNamespace(e){if(!e)return;let t=e!==d.state.activeChain,n=d.getNetworkData(e)?.caipNetwork,r=d.getCaipNetworkByNamespace(e,n?.id);t&&r&&await d.switchActiveNetwork(r)},async switchActiveNetwork(e,{throwOnFailure:t=!1}={}){let n=d.state.activeChain;if(!n)throw new Error("ChainController:switchActiveNetwork - namespace is required");let r=nr.getProviderId(S.activeChain)==="AUTH",o=d.getAccountData(n)?.address,s=E.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e.chainNamespace);try{if(o&&e.chainNamespace===n||r&&s){let i=tr.get(e.chainNamespace);if(!i)throw new Error("Adapter not found");await i.switchNetwork({caipNetwork:e})}d.setActiveCaipNetwork(e)}catch(i){if(t)throw i}G.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:e.caipNetworkId}})},getConnectionControllerClient(e){let t=e||S.activeChain;if(!t)throw new Error("Chain is required to get connection controller client");let n=S.chains.get(t);if(!n?.connectionControllerClient)throw new Error("ConnectionController client not set");return n.connectionControllerClient},getNetworkProp(e,t){let n=S.chains.get(t)?.networkState;if(n)return n[e]},getRequestedCaipNetworks(e){let t=S.chains.get(e),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=t?.networkState||{};return T.sortRequestedNetworks(n,r).filter(i=>i?.id)},getAllRequestedCaipNetworks(){let e=[];return S.chains.forEach(t=>{if(!t.namespace)throw new Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");let n=d.getRequestedCaipNetworks(t.namespace);e.push(...n)}),e},setRequestedCaipNetworks(e,t){d.setAdapterNetworkState(t,{requestedCaipNetworks:e});let r=d.getAllRequestedCaipNetworks().map(s=>s.chainNamespace),o=Array.from(new Set(r));A.filterByNamespaces(o)},getAllApprovedCaipNetworkIds(){let e=[];return S.chains.forEach(t=>{if(!t.namespace)throw new Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");let n=d.getApprovedCaipNetworkIds(t.namespace);e.push(...n)}),e},getActiveCaipNetwork(e){return e?S.chains.get(e)?.networkState?.caipNetwork:S.activeCaipNetwork},getActiveCaipAddress(){return S.activeCaipAddress},getApprovedCaipNetworkIds(e){return S.chains.get(e)?.networkState?.approvedCaipNetworkIds||[]},setApprovedCaipNetworksData(e,t){d.setAdapterNetworkState(e,t)},checkIfSupportedNetwork(e,t){let n=t||S.activeCaipNetwork?.caipNetworkId,r=d.getRequestedCaipNetworks(e);return r.length?r?.some(o=>o.caipNetworkId===n):!0},checkIfSupportedChainId(e){return S.activeChain?d.getRequestedCaipNetworks(S.activeChain)?.some(n=>n.id===e):!0},checkIfSmartAccountEnabled(){let e=Mt.caipNetworkIdToNumber(S.activeCaipNetwork?.caipNetworkId);return!S.activeChain||!e?!1:!!(ne.get(w.SMART_ACCOUNT_ENABLED_NETWORKS)?.split(",")||[])?.includes(e.toString())},showUnsupportedChainUI(){Q.open({view:"UnsupportedChain"})},checkIfNamesSupported(){let e=S.activeCaipNetwork;return!!(e?.chainNamespace&&X.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(e.chainNamespace))},resetNetwork(e){d.setAdapterNetworkState(e,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(e){let t=e;if(!t)throw new Error("Chain is required to set account prop");let n=d.state.chains.get(t)?.accountState?.preferredAccountType,r=L.state.defaultAccountTypes[t];S.activeCaipAddress=void 0,d.setChainAccountData(t,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:r||n,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),A.removeConnectorId(t)},setIsSwitchingNamespace(e){S.isSwitchingNamespace=e},getFirstCaipNetworkSupportsAuthConnector(){let e=[],t;if(S.chains.forEach(n=>{E.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(r=>r===n.namespace)&&n.namespace&&e.push(n.namespace)}),e.length>0){let n=e[0];return t=n?S.chains.get(n)?.caipNetworks?.[0]:void 0,t}},getAccountData(e){let t=e||S.activeChain;if(t)return d.state.chains.get(t)?.accountState},getNetworkData(e){let t=e||S.activeChain;if(t)return d.state.chains.get(t)?.networkState},getCaipNetworkByNamespace(e,t){if(!e)return;let n=d.state.chains.get(e),r=n?.caipNetworks?.find(o=>o.id.toString()===t?.toString());return r||n?.networkState?.caipNetwork||n?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){let e=A.state.filterByNamespace;return(e?[S.chains.get(e)]:Array.from(S.chains.values())).flatMap(n=>n?.caipNetworks||[]).map(n=>n.caipNetworkId)},getCaipNetworks(e){return e?d.getRequestedCaipNetworks(e):d.getAllRequestedCaipNetworks()},getCaipNetworkById(e,t){return or.getCaipNetworks(t).find(n=>n.id.toString()===e.toString()||n.caipNetworkId.toString()===e.toString())},setLastConnectedSIWECaipNetwork(e){S.lastConnectedSIWECaipNetwork=e},getLastConnectedSIWECaipNetwork(){return S.lastConnectedSIWECaipNetwork},async fetchTokenBalance(e){let t=d.getAccountData();if(!t)return[];let n=d.state.activeCaipNetwork?.caipNetworkId,r=d.state.activeCaipNetwork?.chainNamespace,o=d.state.activeCaipAddress,s=o?T.getPlainAddress(o):void 0;if(d.setAccountProp("balanceLoading",!0,r),t.lastRetry&&!T.isAllowedRetry(t.lastRetry,30*X.ONE_SEC_MS))return d.setAccountProp("balanceLoading",!1,r),[];try{if(s&&n&&r){let i=await $e.getMyTokensWithBalance();return d.setAccountProp("tokenBalance",i,r),d.setAccountProp("lastRetry",void 0,r),d.setAccountProp("balanceLoading",!1,r),i}}catch(i){d.setAccountProp("lastRetry",Date.now(),r),e?.(i),ke.showError("Token Balance Unavailable")}finally{d.setAccountProp("balanceLoading",!1,r)}return[]},isCaipNetworkDisabled(e){let t=e.chainNamespace,n=!!d.getAccountData(t)?.caipAddress,r=d.getAllApprovedCaipNetworkIds(),o=d.getNetworkProp("supportsAllNetworks",t)!==!1,s=A.getConnectorId(t),i=A.getAuthConnector(),c=s===E.CONNECTOR_ID.AUTH&&i;return!n||o||c?!1:!r?.includes(e.caipNetworkId)}},d=ie(or);var is={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},ar=T.getBlockchainApiUrl(),ue=H({clientId:null,api:new we({baseUrl:ar,clientId:null}),supportedChains:{http:[],ws:[]}}),F={state:ue,async get(e){let{st:t,sv:n}=F.getSdkProperties(),r=L.state.projectId,o={...e.params||{},st:t,sv:n,projectId:r};return ue.api.get({...e,params:o})},getSdkProperties(){let{sdkType:e,sdkVersion:t}=L.state;return{st:e||"unknown",sv:t||"unknown"}},async isNetworkSupported(e){if(!e)return!1;try{ue.supportedChains.http.length||await F.getSupportedNetworks()}catch{return!1}return ue.supportedChains.http.includes(e)},async getSupportedNetworks(){try{let e=await F.get({path:"v1/supported-chains"});return ue.supportedChains=e,e}catch{return ue.supportedChains}},async fetchIdentity({address:e}){let t=_.getIdentityFromCacheForAddress(e);if(t)return t;let n=await F.get({path:`/v1/identity/${e}`,params:{sender:d.state.activeCaipAddress?T.getPlainAddress(d.state.activeCaipAddress):void 0}});return _.updateIdentityCache({address:e,identity:n,timestamp:Date.now()}),n},async fetchTransactions({account:e,cursor:t,signal:n,cache:r,chainId:o}){if(!await F.isNetworkSupported(d.state.activeCaipNetwork?.caipNetworkId))return{data:[],next:void 0};let i=_.getTransactionsCacheForAddress({address:e,chainId:o});if(i)return i;let c=await F.get({path:`/v1/account/${e}/history`,params:{cursor:t,chainId:o},signal:n,cache:r});return _.updateTransactionsCache({address:e,chainId:o,timestamp:Date.now(),transactions:c}),c},async fetchSwapQuote({amount:e,userAddress:t,from:n,to:r,gasPrice:o}){return await F.isNetworkSupported(d.state.activeCaipNetwork?.caipNetworkId)?F.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:e,userAddress:t,from:n,to:r,gasPrice:o}}):{quotes:[]}},async fetchSwapTokens({chainId:e}){return await F.isNetworkSupported(d.state.activeCaipNetwork?.caipNetworkId)?F.get({path:"/v1/convert/tokens",params:{chainId:e}}):{tokens:[]}},async getAddressBalance({caipNetworkId:e,address:t}){return ue.api.post({path:`/v1?chainId=${e}&projectId=${L.state.projectId}`,body:{id:"1",jsonrpc:"2.0",method:"getAddressBalance",params:{address:t}}}).then(n=>n.result)},async fetchTokenPrice({addresses:e,caipNetworkId:t=d.state.activeCaipNetwork?.caipNetworkId}){if(!await F.isNetworkSupported(t))return{fungibles:[]};let r=_.getTokenPriceCacheForAddresses(e);if(r)return r;let o=await ue.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:e,projectId:L.state.projectId},headers:{"Content-Type":"application/json"}});return _.updateTokenPriceCache({addresses:e,timestamp:Date.now(),tokenPrice:o}),o},async fetchSwapAllowance({tokenAddress:e,userAddress:t}){return await F.isNetworkSupported(d.state.activeCaipNetwork?.caipNetworkId)?F.get({path:"/v1/convert/allowance",params:{tokenAddress:e,userAddress:t},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:e}){let{st:t,sv:n}=F.getSdkProperties();if(!await F.isNetworkSupported(d.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Gas Price");return F.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:e,st:t,sv:n}})},async generateSwapCalldata({amount:e,from:t,to:n,userAddress:r,disableEstimate:o}){if(!await F.isNetworkSupported(d.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return ue.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:e,eip155:{slippage:X.CONVERT_SLIPPAGE_TOLERANCE},projectId:L.state.projectId,from:t,to:n,userAddress:r,disableEstimate:o}})},async generateApproveCalldata({from:e,to:t,userAddress:n}){let{st:r,sv:o}=F.getSdkProperties();if(!await F.isNetworkSupported(d.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return F.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:e,to:t,st:r,sv:o}})},async getBalance(e,t,n){let{st:r,sv:o}=F.getSdkProperties();if(!await F.isNetworkSupported(d.state.activeCaipNetwork?.caipNetworkId))return ke.showError("Token Balance Unavailable"),{balances:[]};let i=`${t}:${e}`,c=_.getBalanceCacheForCaipAddress(i);if(c)return c;let p=await F.get({path:`/v1/account/${e}/balance`,params:{currency:"usd",chainId:t,forceUpdate:n,st:r,sv:o}});return _.updateBalanceCache({caipAddress:i,balance:p,timestamp:Date.now()}),p},async lookupEnsName(e){return await F.isNetworkSupported(d.state.activeCaipNetwork?.caipNetworkId)?F.get({path:`/v1/profile/account/${e}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:e}){if(!await F.isNetworkSupported(d.state.activeCaipNetwork?.caipNetworkId))return[];let n=d.getAccountData()?.address;return F.get({path:`/v1/profile/reverse/${e}`,params:{sender:n,apiVersion:"2"}})},async getEnsNameSuggestions(e){return await F.isNetworkSupported(d.state.activeCaipNetwork?.caipNetworkId)?F.get({path:`/v1/profile/suggestions/${e}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:e,address:t,message:n,signature:r}){return await F.isNetworkSupported(d.state.activeCaipNetwork?.caipNetworkId)?ue.api.post({path:"/v1/profile/account",body:{coin_type:e,address:t,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:e,partnerUserId:t,defaultNetwork:n,purchaseAmount:r,paymentAmount:o}){return await F.isNetworkSupported(d.state.activeCaipNetwork?.caipNetworkId)?(await ue.api.post({path:"/v1/generators/onrampurl",params:{projectId:L.state.projectId},body:{destinationWallets:e,defaultNetwork:n,partnerUserId:t,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:o}})).url:""},async getOnrampOptions(){if(!await F.isNetworkSupported(d.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await F.get({path:"/v1/onramp/options"})}catch{return is}},async getOnrampQuote({purchaseCurrency:e,paymentCurrency:t,amount:n,network:r}){try{return await F.isNetworkSupported(d.state.activeCaipNetwork?.caipNetworkId)?await ue.api.post({path:"/v1/onramp/quote",params:{projectId:L.state.projectId},body:{purchaseCurrency:e,paymentCurrency:t,amount:n,network:r}}):null}catch{return{networkFee:{amount:n,currency:t.id},paymentSubtotal:{amount:n,currency:t.id},paymentTotal:{amount:n,currency:t.id},purchaseAmount:{amount:n,currency:t.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(e){return await F.isNetworkSupported(d.state.activeCaipNetwork?.caipNetworkId)?F.get({path:`/v1/sessions/${e}`}):[]},async revokeSmartSession(e,t,n){return await F.isNetworkSupported(d.state.activeCaipNetwork?.caipNetworkId)?ue.api.post({path:`/v1/sessions/${e}/revoke`,params:{projectId:L.state.projectId},body:{pci:t,signature:n}}):{success:!1}},setClientId(e){ue.clientId=e,ue.api=new we({baseUrl:ar,clientId:e})}};export{ba as a,va as b,Al as c,H as d,Z as e,ye as f,Ie as g,ee as h,mr as i,E as j,Mt as k,ft as l,fr as m,Bt as n,dr as o,Oe as p,ce as q,Se as r,Je as s,k as t,U as u,Xe as v,xe as w,ji as x,Vi as y,X as z,_ as A,T as B,te as C,ne as D,me as E,Xt as F,we as G,L as H,ke as I,F as J,He as K,ie as L,fe as M,vt as N,G as O,I as P,De as Q,le as R,B as S,it as T,A as U,Ut as V,Pm as W,_e as X,km as Y,pn as Z,Ae as _,ct as $,b as aa,$e as ba,tr as ca,nr as da,rr as ea,K as fa,d as ga,Qn as ha,Q as ia};
