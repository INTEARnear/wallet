import{a as ti,b as Dt}from"./chunk-K4N7X7FH.js";import{a as pn,d as Ze,e as Qe,h as Xn,i as ei}from"./chunk-MKZMJWD4.js";import{a as Kp}from"./chunk-7O2PPVEZ.js";import{a as Yp}from"./chunk-AB5CHUS5.js";import{a as Xp,k as Po,l as To}from"./chunk-KNNEA2JS.js";import{c as Kn,d as Yn}from"./chunk-H6T4G3YK.js";import{b as Qn,c as E,d as Qp,g as pe,h as u,i as b,j as l,k as y,l as Io,m as Mo,n as d}from"./chunk-KGCAX4NX.js";var Cu=E(ri=>{"use strict";u();d();l();Object.defineProperty(ri,"__esModule",{value:!0});ri.walletLogo=void 0;var eg=(e,t)=>{let r;switch(e){case"standard":return r=t,`data:image/svg+xml,%3Csvg width='${t}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=t,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${t}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=t,`data:image/svg+xml,%3Csvg width='${t}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};ri.walletLogo=eg});var Au=E(ni=>{"use strict";u();d();l();Object.defineProperty(ni,"__esModule",{value:!0});ni.LINK_API_URL=void 0;ni.LINK_API_URL="https://www.walletlink.org"});var gn=E(Rr=>{"use strict";u();d();l();Object.defineProperty(Rr,"__esModule",{value:!0});Rr.errorValues=Rr.standardErrorCodes=void 0;Rr.standardErrorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}};Rr.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}}});var si=E(Xe=>{"use strict";u();d();l();Object.defineProperty(Xe,"__esModule",{value:!0});Xe.serialize=Xe.getErrorCode=Xe.isValidCode=Xe.getMessageFromCode=Xe.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;var ii=gn(),Pu="Unspecified error message.";Xe.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function Tu(e,t=Pu){if(e&&Number.isInteger(e)){let r=e.toString();if(No(ii.errorValues,r))return ii.errorValues[r].message;if(Ou(e))return Xe.JSON_RPC_SERVER_ERROR_MESSAGE}return t}Xe.getMessageFromCode=Tu;function Nu(e){if(!Number.isInteger(e))return!1;let t=e.toString();return!!(ii.errorValues[t]||Ou(e))}Xe.isValidCode=Nu;function tg(e){var t;if(typeof e=="number")return e;if(rg(e))return(t=e.code)!==null&&t!==void 0?t:e.errorCode}Xe.getErrorCode=tg;function rg(e){return typeof e=="object"&&e!==null&&(typeof e.code=="number"||typeof e.errorCode=="number")}function ng(e,{shouldIncludeStack:t=!1}={}){let r={};if(e&&typeof e=="object"&&!Array.isArray(e)&&No(e,"code")&&Nu(e.code)){let n=e;r.code=n.code,n.message&&typeof n.message=="string"?(r.message=n.message,No(n,"data")&&(r.data=n.data)):(r.message=Tu(r.code),r.data={originalError:Iu(e)})}else r.code=ii.standardErrorCodes.rpc.internal,r.message=Mu(e,"message")?e.message:Pu,r.data={originalError:Iu(e)};return t&&(r.stack=Mu(e,"stack")?e.stack:void 0),r}Xe.serialize=ng;function Ou(e){return e>=-32099&&e<=-32e3}function Iu(e){return e&&typeof e=="object"&&!Array.isArray(e)?Object.assign({},e):e}function No(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Mu(e,t){return typeof e=="object"&&e!==null&&t in e&&typeof e[t]=="string"}});var ju=E(ci=>{"use strict";u();d();l();Object.defineProperty(ci,"__esModule",{value:!0});ci.standardErrors=void 0;var qe=gn(),Bu=si();ci.standardErrors={rpc:{parse:e=>nt(qe.standardErrorCodes.rpc.parse,e),invalidRequest:e=>nt(qe.standardErrorCodes.rpc.invalidRequest,e),invalidParams:e=>nt(qe.standardErrorCodes.rpc.invalidParams,e),methodNotFound:e=>nt(qe.standardErrorCodes.rpc.methodNotFound,e),internal:e=>nt(qe.standardErrorCodes.rpc.internal,e),server:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");let{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return nt(t,e)},invalidInput:e=>nt(qe.standardErrorCodes.rpc.invalidInput,e),resourceNotFound:e=>nt(qe.standardErrorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>nt(qe.standardErrorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>nt(qe.standardErrorCodes.rpc.transactionRejected,e),methodNotSupported:e=>nt(qe.standardErrorCodes.rpc.methodNotSupported,e),limitExceeded:e=>nt(qe.standardErrorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>xr(qe.standardErrorCodes.provider.userRejectedRequest,e),unauthorized:e=>xr(qe.standardErrorCodes.provider.unauthorized,e),unsupportedMethod:e=>xr(qe.standardErrorCodes.provider.unsupportedMethod,e),disconnected:e=>xr(qe.standardErrorCodes.provider.disconnected,e),chainDisconnected:e=>xr(qe.standardErrorCodes.provider.chainDisconnected,e),unsupportedChain:e=>xr(qe.standardErrorCodes.provider.unsupportedChain,e),custom:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");let{code:t,message:r,data:n}=e;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new ai(t,r,n)}}};function nt(e,t){let[r,n]=Lu(t);return new oi(e,r||(0,Bu.getMessageFromCode)(e),n)}function xr(e,t){let[r,n]=Lu(t);return new ai(e,r||(0,Bu.getMessageFromCode)(e),n)}function Lu(e){if(e){if(typeof e=="string")return[e];if(typeof e=="object"&&!Array.isArray(e)){let{message:t,data:r}=e;if(t&&typeof t!="string")throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}var oi=class extends Error{constructor(t,r,n){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=t,n!==void 0&&(this.data=n)}},ai=class extends oi{constructor(t,r,n){if(!ig(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,r,n)}};function ig(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}});var li=E(ui=>{"use strict";u();d();l();Object.defineProperty(ui,"__esModule",{value:!0});ui.isErrorResponse=void 0;function sg(e){return e.errorMessage!==void 0}ui.isErrorResponse=sg});var fi=E(di=>{"use strict";u();d();l();Object.defineProperty(di,"__esModule",{value:!0});di.LIB_VERSION=void 0;di.LIB_VERSION="3.9.3"});var Du=E(hi=>{"use strict";u();d();l();Object.defineProperty(hi,"__esModule",{value:!0});hi.serializeError=void 0;var og=li(),ag=fi(),cg=gn(),ug=si();function lg(e,t){let r=(0,ug.serialize)(dg(e),{shouldIncludeStack:!0}),n=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");n.searchParams.set("version",ag.LIB_VERSION),n.searchParams.set("code",r.code.toString());let i=fg(r.data,t);return i&&n.searchParams.set("method",i),n.searchParams.set("message",r.message),Object.assign(Object.assign({},r),{docUrl:n.href})}hi.serializeError=lg;function dg(e){return typeof e=="string"?{message:e,code:cg.standardErrorCodes.rpc.internal}:(0,og.isErrorResponse)(e)?Object.assign(Object.assign({},e),{message:e.errorMessage,code:e.errorCode,data:{method:e.method}}):e}function fg(e,t){let r=e?.method;if(r)return r;if(t!==void 0){if(typeof t=="string")return t;if(Array.isArray(t)){if(t.length>0)return t[0].method}else return t.method}}});var yn=E(it=>{"use strict";u();d();l();Object.defineProperty(it,"__esModule",{value:!0});it.standardErrors=it.standardErrorCodes=it.serializeError=it.getMessageFromCode=it.getErrorCode=void 0;var hg=gn();Object.defineProperty(it,"standardErrorCodes",{enumerable:!0,get:function(){return hg.standardErrorCodes}});var pg=ju();Object.defineProperty(it,"standardErrors",{enumerable:!0,get:function(){return pg.standardErrors}});var gg=Du();Object.defineProperty(it,"serializeError",{enumerable:!0,get:function(){return gg.serializeError}});var Fu=si();Object.defineProperty(it,"getErrorCode",{enumerable:!0,get:function(){return Fu.getErrorCode}});Object.defineProperty(it,"getMessageFromCode",{enumerable:!0,get:function(){return Fu.getMessageFromCode}})});var mn=E($e=>{"use strict";u();d();l();Object.defineProperty($e,"__esModule",{value:!0});$e.ProviderType=$e.RegExpString=$e.IntNumber=$e.BigIntString=$e.AddressString=$e.HexString=$e.OpaqueType=void 0;function bn(){return e=>e}$e.OpaqueType=bn;$e.HexString=bn();$e.AddressString=bn();$e.BigIntString=bn();function yg(e){return Math.floor(e)}$e.IntNumber=yg;$e.RegExpString=bn();var qu;(function(e){e.CoinbaseWallet="CoinbaseWallet",e.MetaMask="MetaMask",e.Unselected=""})(qu||($e.ProviderType=qu={}))});var mt=E(D=>{"use strict";u();d();l();var bg=D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(D,"__esModule",{value:!0});D.isMobileWeb=D.getLocation=D.isInIFrame=D.createQrUrl=D.getFavicon=D.range=D.isBigNumber=D.ensureParsedJSONObject=D.ensureBN=D.ensureRegExpString=D.ensureIntNumber=D.ensureBuffer=D.ensureAddressString=D.ensureEvenLengthHexString=D.ensureHexString=D.isHexString=D.prepend0x=D.strip0x=D.has0xPrefix=D.hexStringFromIntNumber=D.intNumberFromHexString=D.bigIntStringFromBN=D.hexStringFromBuffer=D.hexStringToUint8Array=D.uint8ArrayToHex=D.randomBytesHex=void 0;var Ft=bg(ti()),tr=yn(),st=mn(),Uu=/^[0-9]*$/,Hu=/^[a-f0-9]*$/;function mg(e){return $u(crypto.getRandomValues(new Uint8Array(e)))}D.randomBytesHex=mg;function $u(e){return[...e].map(t=>t.toString(16).padStart(2,"0")).join("")}D.uint8ArrayToHex=$u;function _g(e){return new Uint8Array(e.match(/.{1,2}/g).map(t=>parseInt(t,16)))}D.hexStringToUint8Array=_g;function wg(e,t=!1){let r=e.toString("hex");return(0,st.HexString)(t?`0x${r}`:r)}D.hexStringFromBuffer=wg;function vg(e){return(0,st.BigIntString)(e.toString(10))}D.bigIntStringFromBN=vg;function Eg(e){return(0,st.IntNumber)(new Ft.default(wn(e,!1),16).toNumber())}D.intNumberFromHexString=Eg;function Sg(e){return(0,st.HexString)(`0x${new Ft.default(e).toString(16)}`)}D.hexStringFromIntNumber=Sg;function Oo(e){return e.startsWith("0x")||e.startsWith("0X")}D.has0xPrefix=Oo;function pi(e){return Oo(e)?e.slice(2):e}D.strip0x=pi;function Wu(e){return Oo(e)?`0x${e.slice(2)}`:`0x${e}`}D.prepend0x=Wu;function _n(e){if(typeof e!="string")return!1;let t=pi(e).toLowerCase();return Hu.test(t)}D.isHexString=_n;function Vu(e,t=!1){if(typeof e=="string"){let r=pi(e).toLowerCase();if(Hu.test(r))return(0,st.HexString)(t?`0x${r}`:r)}throw tr.standardErrors.rpc.invalidParams(`"${String(e)}" is not a hexadecimal string`)}D.ensureHexString=Vu;function wn(e,t=!1){let r=Vu(e,!1);return r.length%2===1&&(r=(0,st.HexString)(`0${r}`)),t?(0,st.HexString)(`0x${r}`):r}D.ensureEvenLengthHexString=wn;function kg(e){if(typeof e=="string"){let t=pi(e).toLowerCase();if(_n(t)&&t.length===40)return(0,st.AddressString)(Wu(t))}throw tr.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(e)}`)}D.ensureAddressString=kg;function Rg(e){if(y.isBuffer(e))return e;if(typeof e=="string"){if(_n(e)){let t=wn(e,!1);return y.from(t,"hex")}return y.from(e,"utf8")}throw tr.standardErrors.rpc.invalidParams(`Not binary data: ${String(e)}`)}D.ensureBuffer=Rg;function zu(e){if(typeof e=="number"&&Number.isInteger(e))return(0,st.IntNumber)(e);if(typeof e=="string"){if(Uu.test(e))return(0,st.IntNumber)(Number(e));if(_n(e))return(0,st.IntNumber)(new Ft.default(wn(e,!1),16).toNumber())}throw tr.standardErrors.rpc.invalidParams(`Not an integer: ${String(e)}`)}D.ensureIntNumber=zu;function xg(e){if(e instanceof RegExp)return(0,st.RegExpString)(e.toString());throw tr.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(e)}`)}D.ensureRegExpString=xg;function Cg(e){if(e!==null&&(Ft.default.isBN(e)||Ju(e)))return new Ft.default(e.toString(10),10);if(typeof e=="number")return new Ft.default(zu(e));if(typeof e=="string"){if(Uu.test(e))return new Ft.default(e,10);if(_n(e))return new Ft.default(wn(e,!1),16)}throw tr.standardErrors.rpc.invalidParams(`Not an integer: ${String(e)}`)}D.ensureBN=Cg;function Ag(e){if(typeof e=="string")return JSON.parse(e);if(typeof e=="object")return e;throw tr.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(e)}`)}D.ensureParsedJSONObject=Ag;function Ju(e){if(e==null||typeof e.constructor!="function")return!1;let{constructor:t}=e;return typeof t.config=="function"&&typeof t.EUCLID=="number"}D.isBigNumber=Ju;function Ig(e,t){return Array.from({length:t-e},(r,n)=>e+n)}D.range=Ig;function Mg(){let e=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:t,host:r}=document.location,n=e?e.getAttribute("href"):null;return!n||n.startsWith("javascript:")||n.startsWith("vbscript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?t+n:`${t}//${r}${n}`}D.getFavicon=Mg;function Pg(e,t,r,n,i,s){let o=n?"parent-id":"id",a=new URLSearchParams({[o]:e,secret:t,server:r,v:i,chainId:s.toString()}).toString();return`${r}/#/link?${a}`}D.createQrUrl=Pg;function Gu(){try{return window.frameElement!==null}catch{return!1}}D.isInIFrame=Gu;function Tg(){try{return Gu()&&window.top?window.top.location:window.location}catch{return window.location}}D.getLocation=Tg;function Ng(){var e;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((e=window?.navigator)===null||e===void 0?void 0:e.userAgent)}D.isMobileWeb=Ng});var Zu=E(gi=>{"use strict";u();d();l();Object.defineProperty(gi,"__esModule",{value:!0});gi.ScopedLocalStorage=void 0;var Bo=class{constructor(t){this.scope=t}setItem(t,r){localStorage.setItem(this.scopedKey(t),r)}getItem(t){return localStorage.getItem(this.scopedKey(t))}removeItem(t){localStorage.removeItem(this.scopedKey(t))}clear(){let t=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){let i=localStorage.key(n);typeof i=="string"&&i.startsWith(t)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(t){return`${this.scope}:${t}`}};gi.ScopedLocalStorage=Bo});var bi=E(yi=>{"use strict";u();d();l();Object.defineProperty(yi,"__esModule",{value:!0});yi.EVENTS=void 0;yi.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",METHOD_NOT_IMPLEMENTED:"walletlink_sdk.method_not_implemented",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"}});var mi=E(_t=>{"use strict";u();d();l();Object.defineProperty(_t,"__esModule",{value:!0});_t.RelayAbstract=_t.APP_VERSION_KEY=_t.LOCAL_STORAGE_ADDRESSES_KEY=_t.WALLET_USER_NAME_KEY=void 0;var Qu=yn();_t.WALLET_USER_NAME_KEY="walletUsername";_t.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";_t.APP_VERSION_KEY="AppVersion";var Lo=class{async makeEthereumJSONRPCRequest(t,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(t),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw Qu.standardErrors.rpc.parse({});let i=n,{error:s}=i;if(s)throw(0,Qu.serializeError)(s,t.method);return i})}};_t.RelayAbstract=Lo});var ot=E((N4,jo)=>{u();d();l();typeof Object.create=="function"?jo.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:jo.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}});var rr=E((j4,Yu)=>{u();d();l();var Ku=Dt().Buffer;function _i(e,t){this._block=Ku.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}_i.prototype.update=function(e,t){typeof e=="string"&&(t=t||"utf8",e=Ku.from(e,t));for(var r=this._block,n=this._blockSize,i=e.length,s=this._len,o=0;o<i;){for(var a=s%n,c=Math.min(i-o,n-a),f=0;f<c;f++)r[a+f]=e[o+f];s+=c,o+=c,s%n===0&&this._update(r)}return this._len+=i,this};_i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return e?s.toString(e):s};_i.prototype._update=function(){throw new Error("_update must be implemented by subclass")};Yu.exports=_i});var tl=E((U4,el)=>{u();d();l();var Og=ot(),Xu=rr(),Bg=Dt().Buffer,Lg=[1518500249,1859775393,-1894007588,-899497514],jg=new Array(80);function vn(){this.init(),this._w=jg,Xu.call(this,64,56)}Og(vn,Xu);vn.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Dg(e){return e<<5|e>>>27}function Fg(e){return e<<30|e>>>2}function qg(e,t,r,n){return e===0?t&r|~t&n:e===2?t&r|t&n|r&n:t^r^n}vn.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)t[a]=e.readInt32BE(a*4);for(;a<80;++a)t[a]=t[a-3]^t[a-8]^t[a-14]^t[a-16];for(var c=0;c<80;++c){var f=~~(c/20),h=Dg(r)+qg(f,n,i,s)+o+t[c]+Lg[f]|0;o=s,s=i,i=Fg(n),n=r,r=h}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};vn.prototype._hash=function(){var e=Bg.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};el.exports=vn});var il=E((V4,nl)=>{u();d();l();var Ug=ot(),rl=rr(),Hg=Dt().Buffer,$g=[1518500249,1859775393,-1894007588,-899497514],Wg=new Array(80);function En(){this.init(),this._w=Wg,rl.call(this,64,56)}Ug(En,rl);En.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Vg(e){return e<<1|e>>>31}function zg(e){return e<<5|e>>>27}function Jg(e){return e<<30|e>>>2}function Gg(e,t,r,n){return e===0?t&r|~t&n:e===2?t&r|t&n|r&n:t^r^n}En.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)t[a]=e.readInt32BE(a*4);for(;a<80;++a)t[a]=Vg(t[a-3]^t[a-8]^t[a-14]^t[a-16]);for(var c=0;c<80;++c){var f=~~(c/20),h=zg(r)+Gg(f,n,i,s)+o+t[c]+$g[f]|0;o=s,s=i,i=Jg(n),n=r,r=h}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};En.prototype._hash=function(){var e=Hg.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};nl.exports=En});var Do=E((Z4,ol)=>{u();d();l();var Zg=ot(),sl=rr(),Qg=Dt().Buffer,Kg=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Yg=new Array(64);function Sn(){this.init(),this._w=Yg,sl.call(this,64,56)}Zg(Sn,sl);Sn.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function Xg(e,t,r){return r^e&(t^r)}function e1(e,t,r){return e&t|r&(e|t)}function t1(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function r1(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function n1(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function i1(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}Sn.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,c=this._g|0,f=this._h|0,h=0;h<16;++h)t[h]=e.readInt32BE(h*4);for(;h<64;++h)t[h]=i1(t[h-2])+t[h-7]+n1(t[h-15])+t[h-16]|0;for(var _=0;_<64;++_){var S=f+r1(o)+Xg(o,a,c)+Kg[_]+t[_]|0,A=t1(r)+e1(r,n,i)|0;f=c,c=a,a=o,o=s+S|0,s=i,i=n,n=r,r=S+A|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=c+this._g|0,this._h=f+this._h|0};Sn.prototype._hash=function(){var e=Qg.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e};ol.exports=Sn});var cl=E((X4,al)=>{u();d();l();var s1=ot(),o1=Do(),a1=rr(),c1=Dt().Buffer,u1=new Array(64);function wi(){this.init(),this._w=u1,a1.call(this,64,56)}s1(wi,o1);wi.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};wi.prototype._hash=function(){var e=c1.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e};al.exports=wi});var Fo=E((n5,gl)=>{u();d();l();var l1=ot(),pl=rr(),d1=Dt().Buffer,ul=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],f1=new Array(160);function kn(){this.init(),this._w=f1,pl.call(this,128,112)}l1(kn,pl);kn.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function ll(e,t,r){return r^e&(t^r)}function dl(e,t,r){return e&t|r&(e|t)}function fl(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function hl(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function h1(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p1(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function g1(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function y1(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function je(e,t){return e>>>0<t>>>0?1:0}kn.prototype._update=function(e){for(var t=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,c=this._gh|0,f=this._hh|0,h=this._al|0,_=this._bl|0,S=this._cl|0,A=this._dl|0,L=this._el|0,O=this._fl|0,T=this._gl|0,N=this._hl|0,M=0;M<32;M+=2)t[M]=e.readInt32BE(M*4),t[M+1]=e.readInt32BE(M*4+4);for(;M<160;M+=2){var P=t[M-30],j=t[M-15*2+1],X=h1(P,j),ie=p1(j,P);P=t[M-2*2],j=t[M-2*2+1];var re=g1(P,j),Te=y1(j,P),Ee=t[M-7*2],be=t[M-7*2+1],he=t[M-16*2],se=t[M-16*2+1],ye=ie+be|0,xe=X+Ee+je(ye,ie)|0;ye=ye+Te|0,xe=xe+re+je(ye,Te)|0,ye=ye+se|0,xe=xe+he+je(ye,se)|0,t[M]=xe,t[M+1]=ye}for(var Se=0;Se<160;Se+=2){xe=t[Se],ye=t[Se+1];var Ge=dl(r,n,i),me=dl(h,_,S),ne=fl(r,h),ee=fl(h,r),ue=hl(o,L),fe=hl(L,o),w=ul[Se],R=ul[Se+1],x=ll(o,a,c),U=ll(L,O,T),F=N+fe|0,W=f+ue+je(F,N)|0;F=F+U|0,W=W+x+je(F,U)|0,F=F+R|0,W=W+w+je(F,R)|0,F=F+ye|0,W=W+xe+je(F,ye)|0;var $=ee+me|0,H=ne+Ge+je($,ee)|0;f=c,N=T,c=a,T=O,a=o,O=L,L=A+F|0,o=s+W+je(L,A)|0,s=i,A=S,i=n,S=_,n=r,_=h,h=F+$|0,r=W+H+je(h,F)|0}this._al=this._al+h|0,this._bl=this._bl+_|0,this._cl=this._cl+S|0,this._dl=this._dl+A|0,this._el=this._el+L|0,this._fl=this._fl+O|0,this._gl=this._gl+T|0,this._hl=this._hl+N|0,this._ah=this._ah+r+je(this._al,h)|0,this._bh=this._bh+n+je(this._bl,_)|0,this._ch=this._ch+i+je(this._cl,S)|0,this._dh=this._dh+s+je(this._dl,A)|0,this._eh=this._eh+o+je(this._el,L)|0,this._fh=this._fh+a+je(this._fl,O)|0,this._gh=this._gh+c+je(this._gl,T)|0,this._hh=this._hh+f+je(this._hl,N)|0};kn.prototype._hash=function(){var e=d1.allocUnsafe(64);function t(r,n,i){e.writeInt32BE(r,i),e.writeInt32BE(n,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e};gl.exports=kn});var bl=E((a5,yl)=>{u();d();l();var b1=ot(),m1=Fo(),_1=rr(),w1=Dt().Buffer,v1=new Array(160);function vi(){this.init(),this._w=v1,_1.call(this,128,112)}b1(vi,m1);vi.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};vi.prototype._hash=function(){var e=w1.allocUnsafe(48);function t(r,n,i){e.writeInt32BE(r,i),e.writeInt32BE(n,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e};yl.exports=vi});var _l=E((Tt,ml)=>{u();d();l();var Tt=ml.exports=function(t){t=t.toLowerCase();var r=Tt[t];if(!r)throw new Error(t+" is not supported (we accept pull requests)");return new r};Tt.sha=tl();Tt.sha1=il();Tt.sha224=cl();Tt.sha256=Do();Tt.sha384=bl();Tt.sha512=Fo()});var Si=E(Ei=>{"use strict";u();d();l();Object.defineProperty(Ei,"__esModule",{value:!0});Ei.Session=void 0;var wl=_l(),vl=mt(),El="session:id",Sl="session:secret",kl="session:linked",qo=class e{constructor(t,r,n,i){this._storage=t,this._id=r||(0,vl.randomBytesHex)(16),this._secret=n||(0,vl.randomBytesHex)(32),this._key=new wl.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(t){let r=t.getItem(El),n=t.getItem(kl),i=t.getItem(Sl);return r&&i?new e(t,r,i,n==="1"):null}static hash(t){return new wl.sha256().update(t).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(t){this._linked=t,this.persistLinked()}save(){return this._storage.setItem(El,this._id),this._storage.setItem(Sl,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(kl,this._linked?"1":"0")}};Ei.Session=qo});var Rl=E(Ri=>{"use strict";u();d();l();Object.defineProperty(Ri,"__esModule",{value:!0});Ri.Cipher=void 0;var ki=mt(),Uo=class{constructor(t){this.secret=t}async encrypt(t){let r=this.secret;if(r.length!==64)throw Error("secret must be 256 bits");let n=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.importKey("raw",(0,ki.hexStringToUint8Array)(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=new TextEncoder,o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:n},i,s.encode(t)),a=16,c=o.slice(o.byteLength-a),f=o.slice(0,o.byteLength-a),h=new Uint8Array(c),_=new Uint8Array(f),S=new Uint8Array([...n,...h,..._]);return(0,ki.uint8ArrayToHex)(S)}async decrypt(t){let r=this.secret;if(r.length!==64)throw Error("secret must be 256 bits");return new Promise((n,i)=>{(async function(){let s=await crypto.subtle.importKey("raw",(0,ki.hexStringToUint8Array)(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]),o=(0,ki.hexStringToUint8Array)(t),a=o.slice(0,12),c=o.slice(12,28),f=o.slice(28),h=new Uint8Array([...f,...c]),_={name:"AES-GCM",iv:new Uint8Array(a)};try{let S=await window.crypto.subtle.decrypt(_,s,h),A=new TextDecoder;n(A.decode(S))}catch(S){i(S)}})()})}};Ri.Cipher=Uo});var xl=E(xi=>{"use strict";u();d();l();Object.defineProperty(xi,"__esModule",{value:!0});xi.WalletLinkHTTP=void 0;var Ho=class{constructor(t,r,n){this.linkAPIUrl=t,this.sessionId=r;let i=`${r}:${n}`;this.auth=`Basic ${btoa(i)}`}async markUnseenEventsAsSeen(t){return Promise.all(t.map(r=>fetch(`${this.linkAPIUrl}/events/${r.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(r=>console.error("Unabled to mark event as failed:",r))}async fetchUnseenEvents(){var t;let r=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(r.ok){let{events:n,error:i}=await r.json();if(i)throw new Error(`Check unseen events failed: ${i}`);let s=(t=n?.filter(o=>o.event==="Web3Response").map(o=>({type:"Event",sessionId:this.sessionId,eventId:o.id,event:o.event,data:o.data})))!==null&&t!==void 0?t:[];return this.markUnseenEventsAsSeen(s),s}throw new Error(`Check unseen events failed: ${r.status}`)}};xi.WalletLinkHTTP=Ho});var Cl=E(Ar=>{"use strict";u();d();l();Object.defineProperty(Ar,"__esModule",{value:!0});Ar.WalletLinkWebSocket=Ar.ConnectionState=void 0;var Cr;(function(e){e[e.DISCONNECTED=0]="DISCONNECTED",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED"})(Cr||(Ar.ConnectionState=Cr={}));var $o=class{setConnectionStateListener(t){this.connectionStateListener=t}setIncomingDataListener(t){this.incomingDataListener=t}constructor(t,r=WebSocket){this.WebSocketClass=r,this.webSocket=null,this.pendingData=[],this.url=t.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((t,r)=>{var n;let i;try{this.webSocket=i=new this.WebSocketClass(this.url)}catch(s){r(s);return}(n=this.connectionStateListener)===null||n===void 0||n.call(this,Cr.CONNECTING),i.onclose=s=>{var o;this.clearWebSocket(),r(new Error(`websocket error ${s.code}: ${s.reason}`)),(o=this.connectionStateListener)===null||o===void 0||o.call(this,Cr.DISCONNECTED)},i.onopen=s=>{var o;t(),(o=this.connectionStateListener)===null||o===void 0||o.call(this,Cr.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(c=>this.sendData(c)),this.pendingData=[])},i.onmessage=s=>{var o,a;if(s.data==="h")(o=this.incomingDataListener)===null||o===void 0||o.call(this,{type:"Heartbeat"});else try{let c=JSON.parse(s.data);(a=this.incomingDataListener)===null||a===void 0||a.call(this,c)}catch{}}})}disconnect(){var t;let{webSocket:r}=this;if(r){this.clearWebSocket(),(t=this.connectionStateListener)===null||t===void 0||t.call(this,Cr.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{r.close()}catch{}}}sendData(t){let{webSocket:r}=this;if(!r){this.pendingData.push(t),this.connect();return}r.send(t)}clearWebSocket(){let{webSocket:t}=this;t&&(this.webSocket=null,t.onclose=null,t.onerror=null,t.onmessage=null,t.onopen=null)}};Ar.WalletLinkWebSocket=$o});var Ml=E(Ai=>{"use strict";u();d();l();Object.defineProperty(Ai,"__esModule",{value:!0});Ai.WalletLinkConnection=void 0;var Ir=mn(),E1=Rl(),wt=bi(),Al=mi(),Mr=Si(),S1=xl(),Ci=Cl(),Il=1e4,k1=6e4,Wo=class{constructor({session:t,linkAPIUrl:r,listener:n,diagnostic:i,WebSocketClass:s=WebSocket}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,Ir.IntNumber)(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=a=>{if(!a)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",f=>a.JsonRpcUrl&&this.handleChainUpdated(f,a.JsonRpcUrl)]]).forEach((f,h)=>{let _=a[h];_!==void 0&&f(_)})},this.handleDestroyed=a=>{var c,f;a==="1"&&((c=this.listener)===null||c===void 0||c.resetAndReload(),(f=this.diagnostic)===null||f===void 0||f.log(wt.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:this.isDestroyed,sessionIdHash:Mr.Session.hash(this.session.id)}))},this.handleAccountUpdated=async a=>{var c,f;try{let h=await this.cipher.decrypt(a);(c=this.listener)===null||c===void 0||c.accountUpdated(h)}catch{(f=this.diagnostic)===null||f===void 0||f.log(wt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}},this.handleMetadataUpdated=async(a,c)=>{var f,h;try{let _=await this.cipher.decrypt(c);(f=this.listener)===null||f===void 0||f.metadataUpdated(a,_)}catch{(h=this.diagnostic)===null||h===void 0||h.log(wt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:a})}},this.handleWalletUsernameUpdated=async a=>{this.handleMetadataUpdated(Al.WALLET_USER_NAME_KEY,a)},this.handleAppVersionUpdated=async a=>{this.handleMetadataUpdated(Al.APP_VERSION_KEY,a)},this.handleChainUpdated=async(a,c)=>{var f,h;try{let _=await this.cipher.decrypt(a),S=await this.cipher.decrypt(c);(f=this.listener)===null||f===void 0||f.chainUpdated(_,S)}catch{(h=this.diagnostic)===null||h===void 0||h.log(wt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}},this.session=t,this.cipher=new E1.Cipher(t.secret),this.diagnostic=i,this.listener=n;let o=new Ci.WalletLinkWebSocket(`${r}/rpc`,s);o.setConnectionStateListener(async a=>{var c;(c=this.diagnostic)===null||c===void 0||c.log(wt.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:Mr.Session.hash(t.id)});let f=!1;switch(a){case Ci.ConnectionState.DISCONNECTED:if(!this.destroyed){let h=async()=>{await new Promise(_=>setTimeout(_,5e3)),this.destroyed||o.connect().catch(()=>{h()})};h()}break;case Ci.ConnectionState.CONNECTED:try{await this.authenticate(),this.sendIsLinked(),this.sendGetSessionConfig(),f=!0}catch{}this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},Il),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case Ci.ConnectionState.CONNECTING:break}this.connected!==f&&(this.connected=f)}),o.setIncomingDataListener(a=>{var c,f,h;switch(a.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{let _=a.type==="IsLinkedOK"?a.linked:void 0;(c=this.diagnostic)===null||c===void 0||c.log(wt.EVENTS.LINKED,{sessionIdHash:Mr.Session.hash(t.id),linked:_,type:a.type,onlineGuests:a.onlineGuests}),this.linked=_||a.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{(f=this.diagnostic)===null||f===void 0||f.log(wt.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:Mr.Session.hash(t.id),metadata_keys:a&&a.metadata?Object.keys(a.metadata):void 0}),this.handleSessionMetadataUpdated(a.metadata);break}case"Event":{this.handleIncomingEvent(a);break}}a.id!==void 0&&((h=this.requestResolutions.get(a.id))===null||h===void 0||h(a))}),this.ws=o,this.http=new S1.WalletLinkHTTP(r,t.id,t.key)}connect(){var t;if(this.destroyed)throw new Error("instance is destroyed");(t=this.diagnostic)===null||t===void 0||t.log(wt.EVENTS.STARTED_CONNECTING,{sessionIdHash:Mr.Session.hash(this.session.id)}),this.ws.connect()}destroy(){var t;this.destroyed=!0,this.ws.disconnect(),(t=this.diagnostic)===null||t===void 0||t.log(wt.EVENTS.DISCONNECTED,{sessionIdHash:Mr.Session.hash(this.session.id)}),this.listener=void 0}get isDestroyed(){return this.destroyed}get connected(){return this._connected}set connected(t){var r,n;this._connected=t,t&&((r=this.onceConnected)===null||r===void 0||r.call(this)),(n=this.listener)===null||n===void 0||n.connectedUpdated(t)}setOnceConnected(t){return new Promise(r=>{this.connected?t().then(r):this.onceConnected=()=>{t().then(r),this.onceConnected=void 0}})}get linked(){return this._linked}set linked(t){var r,n;this._linked=t,t&&((r=this.onceLinked)===null||r===void 0||r.call(this)),(n=this.listener)===null||n===void 0||n.linkedUpdated(t)}setOnceLinked(t){return new Promise(r=>{this.linked?t().then(r):this.onceLinked=()=>{t().then(r),this.onceLinked=void 0}})}async handleIncomingEvent(t){var r,n;if(!(t.type!=="Event"||t.event!=="Web3Response"))try{let i=await this.cipher.decrypt(t.data),s=JSON.parse(i);if(s.type!=="WEB3_RESPONSE")return;(r=this.listener)===null||r===void 0||r.handleWeb3ResponseMessage(s)}catch{(n=this.diagnostic)===null||n===void 0||n.log(wt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(t=>setTimeout(t,250));try{await this.fetchUnseenEventsAPI()}catch(t){console.error("Unable to check for unseen events",t)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(r=>this.handleIncomingEvent(r))}async setSessionMetadata(t,r){let n={type:"SetSessionConfig",id:(0,Ir.IntNumber)(this.nextReqId++),sessionId:this.session.id,metadata:{[t]:r}};return this.setOnceConnected(async()=>{let i=await this.makeRequest(n);if(i.type==="Fail")throw new Error(i.error||"failed to set session metadata")})}async publishEvent(t,r,n=!1){let i=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin,relaySource:window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),s={type:"PublishEvent",id:(0,Ir.IntNumber)(this.nextReqId++),sessionId:this.session.id,event:t,data:i,callWebhook:n};return this.setOnceLinked(async()=>{let o=await this.makeRequest(s);if(o.type==="Fail")throw new Error(o.error||"failed to publish event");return o.eventId})}sendData(t){this.ws.sendData(JSON.stringify(t))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>Il*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(t,r=k1){let n=t.id;this.sendData(t);let i;return Promise.race([new Promise((s,o)=>{i=window.setTimeout(()=>{o(new Error(`request ${n} timed out`))},r)}),new Promise(s=>{this.requestResolutions.set(n,o=>{clearTimeout(i),s(o),this.requestResolutions.delete(n)})})])}async authenticate(){let t={type:"HostSession",id:(0,Ir.IntNumber)(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key},r=await this.makeRequest(t);if(r.type==="Fail")throw new Error(r.error||"failed to authentcate")}sendIsLinked(){let t={type:"IsLinked",id:(0,Ir.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(t)}sendGetSessionConfig(){let t={type:"GetSessionConfig",id:(0,Ir.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(t)}};Ai.WalletLinkConnection=Wo});var Pl=E(Vo=>{"use strict";u();d();l();Object.defineProperty(Vo,"__esModule",{value:!0});Vo.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}'});var zo=E(Pr=>{"use strict";u();d();l();var R1=Pr&&Pr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.injectCssReset=void 0;var x1=R1(Pl());function C1(){let e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode(x1.default)),document.documentElement.appendChild(e)}Pr.injectCssReset=C1});var Nl=E(Ii=>{"use strict";u();d();l();Object.defineProperty(Ii,"__esModule",{value:!0});Ii.CloseIcon=void 0;var Tl=(Qe(),pe(Ze));function A1(e){return(0,Tl.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),(0,Tl.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}Ii.CloseIcon=A1});var Ol=E(Pi=>{"use strict";u();d();l();Object.defineProperty(Pi,"__esModule",{value:!0});Pi.CoinbaseWalletRound=void 0;var Mi=(Qe(),pe(Ze));function I1(e){return(0,Mi.h)("svg",Object.assign({width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),(0,Mi.h)("circle",{cx:"14",cy:"14",r:"14",fill:"#0052FF"}),(0,Mi.h)("path",{d:"M23.8521 14.0003C23.8521 19.455 19.455 23.8521 14.0003 23.8521C8.54559 23.8521 4.14844 19.455 4.14844 14.0003C4.14844 8.54559 8.54559 4.14844 14.0003 4.14844C19.455 4.14844 23.8521 8.54559 23.8521 14.0003Z",fill:"white"}),(0,Mi.h)("path",{d:"M11.1855 12.5042C11.1855 12.0477 11.1855 11.7942 11.2835 11.642C11.3814 11.4899 11.4793 11.3377 11.6261 11.287C11.8219 11.1855 12.0178 11.1855 12.5073 11.1855H15.4934C15.983 11.1855 16.1788 11.1855 16.3746 11.287C16.5215 11.3884 16.6683 11.4899 16.7173 11.642C16.8152 11.8449 16.8152 12.0477 16.8152 12.5042V15.4965C16.8152 15.953 16.8152 16.2066 16.7173 16.3587C16.6194 16.5109 16.5215 16.663 16.3746 16.7137C16.1788 16.8152 15.983 16.8152 15.4934 16.8152H12.5073C12.0178 16.8152 11.8219 16.8152 11.6261 16.7137C11.4793 16.6123 11.3324 16.5109 11.2835 16.3587C11.1855 16.1558 11.1855 15.953 11.1855 15.4965V12.5042Z",fill:"#0052FF"}))}Pi.CoinbaseWalletRound=I1});var Bl=E(Ti=>{"use strict";u();d();l();Object.defineProperty(Ti,"__esModule",{value:!0});Ti.QRCodeIcon=void 0;var Rn=(Qe(),pe(Ze));function M1(e){return(0,Rn.h)("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),(0,Rn.h)("path",{d:"M3 3V8.99939L5 8.99996V5H9V3H3Z"}),(0,Rn.h)("path",{d:"M15 21L21 21V15.0006L19 15V19L15 19V21Z"}),(0,Rn.h)("path",{d:"M21 9H19V5H15.0006L15 3H21V9Z"}),(0,Rn.h)("path",{d:"M3 15V21H8.99939L8.99996 19H5L5 15H3Z"}))}Ti.QRCodeIcon=M1});var ql=E((eS,Fl)=>{u();d();l();function Ll(e){this.mode=et.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,r=this.data.length;t<r;t++){var n=[],i=this.data.charCodeAt(t);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}Ll.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,r=this.parsedData.length;t<r;t++)e.put(this.parsedData[t],8)}};function Et(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}Et.prototype={addData:function(e){var t=new Ll(e);this.dataList.push(t),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=Et.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[e+r][t+n]=!0:this.modules[e+r][t+n]=!1)},getBestMaskPattern:function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=Ce.getLostPoint(this);(r==0||e>n)&&(e=n,t=r)}return t},createMovieClip:function(e,t,r){var n=e.createEmptyMovieClip(t,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var c=a*i,f=this.modules[s][a];f&&(n.beginFill(0,100),n.moveTo(c,o),n.lineTo(c+i,o),n.lineTo(c+i,o+i),n.lineTo(c,o+i),n.endFill())}return n},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=Ce.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var n=e[t],i=e[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(e){for(var t=Ce.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(e,t){for(var r=this.errorCorrectLevel<<3|t,n=Ce.getBCHTypeInfo(r),i=0;i<15;i++){var s=!e&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!e&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var r=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[n][o-a]==null){var c=!1;s<e.length&&(c=(e[s]>>>i&1)==1);var f=Ce.getMask(t,n,o-a);f&&(c=!c),this.modules[n][o-a]=c,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};Et.PAD0=236;Et.PAD1=17;Et.createData=function(e,t,r){for(var n=vt.getRSBlocks(e,t),i=new jl,s=0;s<r.length;s++){var o=r[s];i.put(o.mode,4),i.put(o.getLength(),Ce.getLengthInBits(o.mode,e)),o.write(i)}for(var a=0,s=0;s<n.length;s++)a+=n[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(Et.PAD0,8),i.getLengthInBits()>=a*8));)i.put(Et.PAD1,8);return Et.createBytes(i,n)};Et.createBytes=function(e,t){for(var r=0,n=0,i=0,s=new Array(t.length),o=new Array(t.length),a=0;a<t.length;a++){var c=t[a].dataCount,f=t[a].totalCount-c;n=Math.max(n,c),i=Math.max(i,f),s[a]=new Array(c);for(var h=0;h<s[a].length;h++)s[a][h]=255&e.buffer[h+r];r+=c;var _=Ce.getErrorCorrectPolynomial(f),S=new Tr(s[a],_.getLength()-1),A=S.mod(_);o[a]=new Array(_.getLength()-1);for(var h=0;h<o[a].length;h++){var L=h+A.getLength()-o[a].length;o[a][h]=L>=0?A.get(L):0}}for(var O=0,h=0;h<t.length;h++)O+=t[h].totalCount;for(var T=new Array(O),N=0,h=0;h<n;h++)for(var a=0;a<t.length;a++)h<s[a].length&&(T[N++]=s[a][h]);for(var h=0;h<i;h++)for(var a=0;a<t.length;a++)h<o[a].length&&(T[N++]=o[a][h]);return T};var et={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Ut={L:1,M:0,Q:3,H:2},qt={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Ce={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;Ce.getBCHDigit(t)-Ce.getBCHDigit(Ce.G15)>=0;)t^=Ce.G15<<Ce.getBCHDigit(t)-Ce.getBCHDigit(Ce.G15);return(e<<10|t)^Ce.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;Ce.getBCHDigit(t)-Ce.getBCHDigit(Ce.G18)>=0;)t^=Ce.G18<<Ce.getBCHDigit(t)-Ce.getBCHDigit(Ce.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return Ce.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case qt.PATTERN000:return(t+r)%2==0;case qt.PATTERN001:return t%2==0;case qt.PATTERN010:return r%3==0;case qt.PATTERN011:return(t+r)%3==0;case qt.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case qt.PATTERN101:return t*r%2+t*r%3==0;case qt.PATTERN110:return(t*r%2+t*r%3)%2==0;case qt.PATTERN111:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new Tr([1],0),r=0;r<e;r++)t=t.multiply(new Tr([1,De.gexp(r)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case et.MODE_NUMBER:return 10;case et.MODE_ALPHA_NUM:return 9;case et.MODE_8BIT_BYTE:return 8;case et.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case et.MODE_NUMBER:return 12;case et.MODE_ALPHA_NUM:return 11;case et.MODE_8BIT_BYTE:return 16;case et.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case et.MODE_NUMBER:return 14;case et.MODE_ALPHA_NUM:return 13;case et.MODE_8BIT_BYTE:return 16;case et.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,n=0;n<t;n++)for(var i=0;i<t;i++){for(var s=0,o=e.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||t<=n+a))for(var c=-1;c<=1;c++)i+c<0||t<=i+c||a==0&&c==0||o==e.isDark(n+a,i+c)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<t-1;n++)for(var i=0;i<t-1;i++){var f=0;e.isDark(n,i)&&f++,e.isDark(n+1,i)&&f++,e.isDark(n,i+1)&&f++,e.isDark(n+1,i+1)&&f++,(f==0||f==4)&&(r+=3)}for(var n=0;n<t;n++)for(var i=0;i<t-6;i++)e.isDark(n,i)&&!e.isDark(n,i+1)&&e.isDark(n,i+2)&&e.isDark(n,i+3)&&e.isDark(n,i+4)&&!e.isDark(n,i+5)&&e.isDark(n,i+6)&&(r+=40);for(var i=0;i<t;i++)for(var n=0;n<t-6;n++)e.isDark(n,i)&&!e.isDark(n+1,i)&&e.isDark(n+2,i)&&e.isDark(n+3,i)&&e.isDark(n+4,i)&&!e.isDark(n+5,i)&&e.isDark(n+6,i)&&(r+=40);for(var h=0,i=0;i<t;i++)for(var n=0;n<t;n++)e.isDark(n,i)&&h++;var _=Math.abs(100*h/t/t-50)/5;return r+=_*10,r}},De={glog:function(e){if(e<1)throw new Error("glog("+e+")");return De.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return De.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(Ne=0;Ne<8;Ne++)De.EXP_TABLE[Ne]=1<<Ne;var Ne;for(Ne=8;Ne<256;Ne++)De.EXP_TABLE[Ne]=De.EXP_TABLE[Ne-4]^De.EXP_TABLE[Ne-5]^De.EXP_TABLE[Ne-6]^De.EXP_TABLE[Ne-8];var Ne;for(Ne=0;Ne<255;Ne++)De.LOG_TABLE[De.EXP_TABLE[Ne]]=Ne;var Ne;function Tr(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var r=0;r<e.length&&e[r]==0;)r++;this.num=new Array(e.length-r+t);for(var n=0;n<e.length-r;n++)this.num[n]=e[n+r]}Tr.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<e.getLength();n++)t[r+n]^=De.gexp(De.glog(this.get(r))+De.glog(e.get(n)));return new Tr(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=De.glog(this.get(0))-De.glog(e.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<e.getLength();n++)r[n]^=De.gexp(De.glog(e.get(n))+t);return new Tr(r,0).mod(e)}};function vt(e,t){this.totalCount=e,this.dataCount=t}vt.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];vt.getRSBlocks=function(e,t){var r=vt.getRsBlockTable(e,t);if(r==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[s*3+0],a=r[s*3+1],c=r[s*3+2],f=0;f<o;f++)i.push(new vt(a,c));return i};vt.getRsBlockTable=function(e,t){switch(t){case Ut.L:return vt.RS_BLOCK_TABLE[(e-1)*4+0];case Ut.M:return vt.RS_BLOCK_TABLE[(e-1)*4+1];case Ut.Q:return vt.RS_BLOCK_TABLE[(e-1)*4+2];case Ut.H:return vt.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};function jl(){this.buffer=[],this.length=0}jl.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var r=0;r<t;r++)this.putBit((e>>>t-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Jo=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function Dl(e){var t=this;if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof e=="string"&&(e={content:e}),e)for(var r in e)this.options[r]=e[r];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function n(f){switch(f){case"L":return Ut.L;case"M":return Ut.M;case"Q":return Ut.Q;case"H":return Ut.H;default:throw new Error("Unknwon error correction level: "+f)}}function i(f,h){for(var _=s(f),S=1,A=0,L=0,O=Jo.length;L<=O;L++){var T=Jo[L];if(!T)throw new Error("Content too long: expected "+A+" but got "+_);switch(h){case"L":A=T[0];break;case"M":A=T[1];break;case"Q":A=T[2];break;case"H":A=T[3];break;default:throw new Error("Unknwon error correction level: "+h)}if(_<=A)break;S++}if(S>Jo.length)throw new Error("Content too long");return S}function s(f){var h=encodeURI(f).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return h.length+(h.length!=f?3:0)}var o=this.options.content,a=i(o,this.options.ecl),c=n(this.options.ecl);this.qrcode=new Et(a,c),this.qrcode.addData(o),this.qrcode.make()}Dl.prototype.svg=function(e){var t=this.options||{},r=this.qrcode.modules;typeof e>"u"&&(e={container:t.container||"svg"});for(var n=typeof t.pretty<"u"?!!t.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",o=t.width,a=t.height,c=r.length,f=o/(c+2*t.padding),h=a/(c+2*t.padding),_=typeof t.join<"u"?!!t.join:!1,S=typeof t.swap<"u"?!!t.swap:!1,A=typeof t.xmlDeclaration<"u"?!!t.xmlDeclaration:!0,L=typeof t.predefined<"u"?!!t.predefined:!1,O=L?i+'<defs><path id="qrmodule" d="M0 0 h'+h+" v"+f+' H0 z" style="fill:'+t.color+';shape-rendering:crispEdges;" /></defs>'+s:"",T=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+t.background+';shape-rendering:crispEdges;"/>'+s,N="",M="",P=0;P<c;P++)for(var j=0;j<c;j++){var X=r[j][P];if(X){var ie=j*f+t.padding*f,re=P*h+t.padding*h;if(S){var Te=ie;ie=re,re=Te}if(_){var Ee=f+ie,be=h+re;ie=Number.isInteger(ie)?Number(ie):ie.toFixed(2),re=Number.isInteger(re)?Number(re):re.toFixed(2),Ee=Number.isInteger(Ee)?Number(Ee):Ee.toFixed(2),be=Number.isInteger(be)?Number(be):be.toFixed(2),M+="M"+ie+","+re+" V"+be+" H"+Ee+" V"+re+" H"+ie+" Z "}else L?N+=i+'<use x="'+ie.toString()+'" y="'+re.toString()+'" href="#qrmodule" />'+s:N+=i+'<rect x="'+ie.toString()+'" y="'+re.toString()+'" width="'+f+'" height="'+h+'" style="fill:'+t.color+';shape-rendering:crispEdges;"/>'+s}}_&&(N=i+'<path x="0" y="0" style="fill:'+t.color+';shape-rendering:crispEdges;" d="'+M+'" />');let he="";if(this.options.image!==void 0&&this.options.image.svg){let ye=o*this.options.image.width/100,xe=a*this.options.image.height/100,Se=o/2-ye/2,Ge=a/2-xe/2;he+=`<svg x="${Se}" y="${Ge}" width="${ye}" height="${xe}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,he+=this.options.image.svg+s,he+="</svg>"}var se="";switch(e.container){case"svg":A&&(se+='<?xml version="1.0" standalone="yes"?>'+s),se+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,se+=O+T+N,se+=he,se+="</svg>";break;case"svg-viewbox":A&&(se+='<?xml version="1.0" standalone="yes"?>'+s),se+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,se+=O+T+N,se+=he,se+="</svg>";break;case"g":se+='<g width="'+o+'" height="'+a+'">'+s,se+=O+T+N,se+=he,se+="</g>";break;default:se+=(O+T+N+he).replace(/^\s+/,"");break}return se};Fl.exports=Dl});var Hl=E(Nr=>{"use strict";u();d();l();var P1=Nr&&Nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.QRCode=void 0;var T1=(Qe(),pe(Ze)),Ul=(ei(),pe(Xn)),N1=P1(ql()),O1=e=>{let[t,r]=(0,Ul.useState)("");return(0,Ul.useEffect)(()=>{var n,i;let s=new N1.default({content:e.content,background:e.bgColor||"#ffffff",color:e.fgColor||"#000000",container:"svg",ecl:"M",width:(n=e.width)!==null&&n!==void 0?n:256,height:(i=e.height)!==null&&i!==void 0?i:256,padding:0,image:e.image}),o=y.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)},[e.bgColor,e.content,e.fgColor,e.height,e.image,e.width]),t?(0,T1.h)("img",{src:t,alt:"QR Code"}):null};Nr.QRCode=O1});var $l=E(Go=>{"use strict";u();d();l();Object.defineProperty(Go,"__esModule",{value:!0});Go.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}"});var Wl=E(Or=>{"use strict";u();d();l();var B1=Or&&Or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Or,"__esModule",{value:!0});Or.Spinner=void 0;var Ni=(Qe(),pe(Ze)),L1=B1($l()),j1=e=>{var t;let r=(t=e.size)!==null&&t!==void 0?t:64,n=e.color||"#000";return(0,Ni.h)("div",{class:"-cbwsdk-spinner"},(0,Ni.h)("style",null,L1.default),(0,Ni.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,Ni.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};Or.Spinner=j1});var Vl=E(Zo=>{"use strict";u();d();l();Object.defineProperty(Zo,"__esModule",{value:!0});Zo.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer;border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}"});var Gl=E(Ht=>{"use strict";u();d();l();var zl=Ht&&Ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ht,"__esModule",{value:!0});Ht.CoinbaseWalletSteps=Ht.ConnectContent=void 0;var nr=zl(pn()),oe=(Qe(),pe(Ze)),D1=mt(),F1=fi(),q1=Nl(),U1=Ol(),H1=Bl(),$1=Hl(),W1=Wl(),V1=zl(Vl()),Qo={title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",steps:Jl},z1=e=>e==="light"?"#FFFFFF":"#0A0B0D";function J1(e){let{theme:t}=e,r=(0,D1.createQrUrl)(e.sessionId,e.sessionSecret,e.linkAPIUrl,e.isParentConnection,e.version,e.chainId),n=Qo.steps;return(0,oe.h)("div",{"data-testid":"connect-content",className:(0,nr.default)("-cbwsdk-connect-content",t)},(0,oe.h)("style",null,V1.default),(0,oe.h)("div",{className:"-cbwsdk-connect-content-header"},(0,oe.h)("h2",{className:(0,nr.default)("-cbwsdk-connect-content-heading",t)},"Scan to connect with our mobile app"),e.onCancel&&(0,oe.h)("button",{type:"button",className:"-cbwsdk-cancel-button",onClick:e.onCancel},(0,oe.h)(q1.CloseIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,oe.h)("div",{className:"-cbwsdk-connect-content-layout"},(0,oe.h)("div",{className:"-cbwsdk-connect-content-column-left"},(0,oe.h)(G1,{title:Qo.title,description:Qo.description,theme:t})),(0,oe.h)("div",{className:"-cbwsdk-connect-content-column-right"},(0,oe.h)("div",{className:"-cbwsdk-connect-content-qr-wrapper"},(0,oe.h)($1.QRCode,{content:r,width:200,height:200,fgColor:"#000",bgColor:"transparent"}),(0,oe.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:F1.LIB_VERSION}),(0,oe.h)("input",{type:"hidden",value:r})),(0,oe.h)(n,{theme:t}),!e.isConnected&&(0,oe.h)("div",{"data-testid":"connecting-spinner",className:(0,nr.default)("-cbwsdk-connect-content-qr-connecting",t)},(0,oe.h)(W1.Spinner,{size:36,color:t==="dark"?"#FFF":"#000"}),(0,oe.h)("p",null,"Connecting...")))))}Ht.ConnectContent=J1;function G1({title:e,description:t,theme:r}){return(0,oe.h)("div",{className:(0,nr.default)("-cbwsdk-connect-item",r)},(0,oe.h)("div",null,(0,oe.h)(U1.CoinbaseWalletRound,null)),(0,oe.h)("div",{className:"-cbwsdk-connect-item-copy-wrapper"},(0,oe.h)("h3",{className:"-cbwsdk-connect-item-title"},e),(0,oe.h)("p",{className:"-cbwsdk-connect-item-description"},t)))}function Jl({theme:e}){return(0,oe.h)("ol",{className:"-cbwsdk-wallet-steps"},(0,oe.h)("li",{className:(0,nr.default)("-cbwsdk-wallet-steps-item",e)},(0,oe.h)("div",{className:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,oe.h)("li",{className:(0,nr.default)("-cbwsdk-wallet-steps-item",e)},(0,oe.h)("div",{className:"-cbwsdk-wallet-steps-item-wrapper"},(0,oe.h)("span",null,"Tap ",(0,oe.h)("strong",null,"Scan")," "),(0,oe.h)("span",{className:(0,nr.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",e)},(0,oe.h)(H1.QRCodeIcon,{fill:z1(e)})))))}Ht.CoinbaseWalletSteps=Jl});var Ql=E(Oi=>{"use strict";u();d();l();Object.defineProperty(Oi,"__esModule",{value:!0});Oi.ArrowLeftIcon=void 0;var Zl=(Qe(),pe(Ze));function Z1(e){return(0,Zl.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),(0,Zl.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}Oi.ArrowLeftIcon=Z1});var Kl=E(Bi=>{"use strict";u();d();l();Object.defineProperty(Bi,"__esModule",{value:!0});Bi.LaptopIcon=void 0;var Ko=(Qe(),pe(Ze));function Q1(e){return(0,Ko.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),(0,Ko.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,Ko.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}Bi.LaptopIcon=Q1});var Xl=E(Li=>{"use strict";u();d();l();Object.defineProperty(Li,"__esModule",{value:!0});Li.SafeIcon=void 0;var Yl=(Qe(),pe(Ze));function K1(e){return(0,Yl.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),(0,Yl.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}Li.SafeIcon=K1});var ed=E(Yo=>{"use strict";u();d();l();Object.defineProperty(Yo,"__esModule",{value:!0});Yo.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}"});var rd=E(Br=>{"use strict";u();d();l();var td=Br&&Br.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Br,"__esModule",{value:!0});Br.TryExtensionContent=void 0;var ir=td(pn()),Oe=(Qe(),pe(Ze)),Xo=(ei(),pe(Xn)),Y1=Ql(),X1=Kl(),ey=Xl(),ty=td(ed());function ry({theme:e}){let[t,r]=(0,Xo.useState)(!1),n=(0,Xo.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,Xo.useCallback)(()=>{t?window.location.reload():(n(),r(!0))},[n,t]);return(0,Oe.h)("div",{class:(0,ir.default)("-cbwsdk-try-extension",e)},(0,Oe.h)("style",null,ty.default),(0,Oe.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,Oe.h)("h3",{class:(0,ir.default)("-cbwsdk-try-extension-heading",e)},"Or try the Coinbase Wallet browser extension"),(0,Oe.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,Oe.h)("button",{class:(0,ir.default)("-cbwsdk-try-extension-cta",e),onClick:i},t?"Refresh":"Install"),(0,Oe.h)("div",null,!t&&(0,Oe.h)(Y1.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:e==="light"?"#0052FF":"#588AF5"})))),(0,Oe.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,Oe.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,Oe.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,Oe.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,Oe.h)("span",{class:(0,ir.default)("-cbwsdk-try-extension-list-item-icon",e)},(0,Oe.h)(X1.LaptopIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Oe.h)("div",{class:(0,ir.default)("-cbwsdk-try-extension-list-item-copy",e)},"Connect with dapps with just one click on your desktop browser")),(0,Oe.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,Oe.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,Oe.h)("span",{class:(0,ir.default)("-cbwsdk-try-extension-list-item-icon",e)},(0,Oe.h)(ey.SafeIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Oe.h)("div",{class:(0,ir.default)("-cbwsdk-try-extension-list-item-copy",e)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}Br.TryExtensionContent=ry});var nd=E(ea=>{"use strict";u();d();l();Object.defineProperty(ea,"__esModule",{value:!0});ea.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}"});var sd=E(Lr=>{"use strict";u();d();l();var id=Lr&&Lr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lr,"__esModule",{value:!0});Lr.ConnectDialog=void 0;var ta=id(pn()),sr=(Qe(),pe(Ze)),ra=(ei(),pe(Xn)),ny=Gl(),iy=rd(),sy=id(nd()),oy=e=>{let{isOpen:t,darkMode:r}=e,[n,i]=(0,ra.useState)(!t),[s,o]=(0,ra.useState)(!t);(0,ra.useEffect)(()=>{let c=[window.setTimeout(()=>{o(!t)},10)];return t?i(!1):c.push(window.setTimeout(()=>{i(!0)},360)),()=>{c.forEach(window.clearTimeout)}},[t]);let a=r?"dark":"light";return(0,sr.h)("div",{class:(0,ta.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,sr.h)("style",null,sy.default),(0,sr.h)("div",{class:(0,ta.default)("-cbwsdk-connect-dialog-backdrop",a,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,sr.h)("div",{class:"-cbwsdk-connect-dialog"},(0,sr.h)("div",{class:(0,ta.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},e.connectDisabled?null:(0,sr.h)(ny.ConnectContent,{theme:a,version:e.version,sessionId:e.sessionId,sessionSecret:e.sessionSecret,linkAPIUrl:e.linkAPIUrl,isConnected:e.isConnected,isParentConnection:e.isParentConnection,chainId:e.chainId,onCancel:e.onCancel}),(0,sr.h)(iy.TryExtensionContent,{theme:a}))))};Lr.ConnectDialog=oy});var od=E(ji=>{"use strict";u();d();l();Object.defineProperty(ji,"__esModule",{value:!0});ji.LinkFlow=void 0;var na=(Qe(),pe(Ze)),ay=sd(),ia=class{constructor(t){this.connected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=t.darkMode,this.version=t.version,this.sessionId=t.sessionId,this.sessionSecret=t.sessionSecret,this.linkAPIUrl=t.linkAPIUrl,this.isParentConnection=t.isParentConnection}attach(t){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",t.appendChild(this.root),this.render()}setConnected(t){this.connected!==t&&(this.connected=t,this.render())}setChainId(t){this.chainId!==t&&(this.chainId=t,this.render())}detach(){var t;this.root&&((0,na.render)(null,this.root),(t=this.root.parentElement)===null||t===void 0||t.removeChild(this.root))}setConnectDisabled(t){this.connectDisabled=t}open(t){this.isOpen=!0,this.onCancel=t.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){this.root&&(0,na.render)((0,na.h)(ay.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.connected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)}};ji.LinkFlow=ia});var ad=E(sa=>{"use strict";u();d();l();Object.defineProperty(sa,"__esModule",{value:!0});sa.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}"});var ca=E(at=>{"use strict";u();d();l();var cd=at&&at.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(at,"__esModule",{value:!0});at.SnackbarInstance=at.SnackbarContainer=at.Snackbar=void 0;var Di=cd(pn()),Be=(Qe(),pe(Ze)),oa=(ei(),pe(Xn)),cy=cd(ad()),uy="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",ly="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=",aa=class{constructor(t){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=t.darkMode}attach(t){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",t.appendChild(this.root),this.render()}presentItem(t){let r=this.nextItemKey++;return this.items.set(r,t),this.render(),()=>{this.items.delete(r),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,Be.render)((0,Be.h)("div",null,(0,Be.h)(at.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([t,r])=>(0,Be.h)(at.SnackbarInstance,Object.assign({},r,{key:t}))))),this.root)}};at.Snackbar=aa;var dy=e=>(0,Be.h)("div",{class:(0,Di.default)("-cbwsdk-snackbar-container")},(0,Be.h)("style",null,cy.default),(0,Be.h)("div",{class:"-cbwsdk-snackbar"},e.children));at.SnackbarContainer=dy;var fy=({autoExpand:e,message:t,menuItems:r})=>{let[n,i]=(0,oa.useState)(!0),[s,o]=(0,oa.useState)(e??!1);(0,oa.useEffect)(()=>{let c=[window.setTimeout(()=>{i(!1)},1),window.setTimeout(()=>{o(!0)},1e4)];return()=>{c.forEach(window.clearTimeout)}});let a=()=>{o(!s)};return(0,Be.h)("div",{class:(0,Di.default)("-cbwsdk-snackbar-instance",n&&"-cbwsdk-snackbar-instance-hidden",s&&"-cbwsdk-snackbar-instance-expanded")},(0,Be.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:a},(0,Be.h)("img",{src:uy,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",(0,Be.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},t),(0,Be.h)("div",{class:"-gear-container"},!s&&(0,Be.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,Be.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,Be.h)("img",{src:ly,class:"-gear-icon",title:"Expand"}))),r&&r.length>0&&(0,Be.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},r.map((c,f)=>(0,Be.h)("div",{class:(0,Di.default)("-cbwsdk-snackbar-instance-menu-item",c.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:c.onClick,key:f},(0,Be.h)("svg",{width:c.svgWidth,height:c.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,Be.h)("path",{"fill-rule":c.defaultFillRule,"clip-rule":c.defaultClipRule,d:c.path,fill:"#AAAAAA"})),(0,Be.h)("span",{class:(0,Di.default)("-cbwsdk-snackbar-instance-menu-item-info",c.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},c.info)))))};at.SnackbarInstance=fy});var la=E(Fi=>{"use strict";u();d();l();Object.defineProperty(Fi,"__esModule",{value:!0});Fi.WalletLinkRelayUI=void 0;var hy=zo(),py=od(),gy=ca(),ua=class{constructor(t){this.standalone=null,this.attached=!1,this.snackbar=new gy.Snackbar({darkMode:t.darkMode}),this.linkFlow=new py.LinkFlow({darkMode:t.darkMode,version:t.version,sessionId:t.session.id,sessionSecret:t.session.secret,linkAPIUrl:t.linkAPIUrl,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");let t=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",t.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,hy.injectCssReset)()}setConnected(t){this.linkFlow.setConnected(t)}setChainId(t){this.linkFlow.setChainId(t)}setConnectDisabled(t){this.linkFlow.setConnectDisabled(t)}addEthereumChain(){}watchAsset(){}switchEthereumChain(){}requestEthereumAccounts(t){this.linkFlow.open({onCancel:t.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(){}signEthereumTransaction(){}submitEthereumTransaction(){}ethereumAddressFromSignedMessage(){}showConnecting(t){let r;return t.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:t.onResetConnection}]}:r={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:t.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:t.onResetConnection}]},this.snackbar.presentItem(r)}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(t){this.standalone=t}isStandalone(){var t;return(t=this.standalone)!==null&&t!==void 0?t:!1}};Fi.WalletLinkRelayUI=ua});var da=E(Ui=>{"use strict";u();d();l();Object.defineProperty(Ui,"__esModule",{value:!0});Ui.WalletLinkRelay=void 0;var jr=yn(),yy=mn(),Ae=mt(),or=bi(),ud=mi(),$t=Si(),by=Ml(),ar=li(),my=la(),qi=class e extends ud.RelayAbstract{constructor(t){var r;super(),this.accountsCallback=null,this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.chainCallback=null,this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.linkedUpdated=o=>{var a;this.isLinked=o;let c=this.storage.getItem(ud.LOCAL_STORAGE_ADDRESSES_KEY);if(o&&(this.session.linked=o),this.isUnlinkedErrorState=!1,c){let f=c.split(" "),h=this.storage.getItem("IsStandaloneSigning")==="true";if(f[0]!==""&&!o&&this.session.linked&&!h){this.isUnlinkedErrorState=!0;let _=this.getSessionIdHash();(a=this.diagnostic)===null||a===void 0||a.log(or.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:_})}}},this.metadataUpdated=(o,a)=>{this.storage.setItem(o,a)},this.chainUpdated=(o,a)=>{this.chainCallbackParams.chainId===o&&this.chainCallbackParams.jsonRpcUrl===a||(this.chainCallbackParams={chainId:o,jsonRpcUrl:a},this.chainCallback&&this.chainCallback(o,a))},this.accountUpdated=o=>{this.accountsCallback&&this.accountsCallback([o]),e.accountRequestCallbackIds.size>0&&(Array.from(e.accountRequestCallbackIds.values()).forEach(a=>{let c={type:"WEB3_RESPONSE",id:a,response:{method:"requestEthereumAccounts",result:[o]}};this.invokeCallback(Object.assign(Object.assign({},c),{id:a}))}),e.accountRequestCallbackIds.clear())},this.connectedUpdated=o=>{this.ui.setConnected(o)},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=t.linkAPIUrl,this.storage=t.storage,this.options=t;let{session:n,ui:i,connection:s}=this.subscribe();this._session=n,this.connection=s,this.relayEventManager=t.relayEventManager,this.diagnostic=t.diagnosticLogger,this._reloadOnDisconnect=(r=t.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){let t=$t.Session.load(this.storage)||new $t.Session(this.storage).save(),{linkAPIUrl:r,diagnostic:n}=this,i=new by.WalletLinkConnection({session:t,linkAPIUrl:r,diagnostic:n,listener:this}),{version:s,darkMode:o}=this.options,a=this.options.uiConstructor({linkAPIUrl:r,version:s,darkMode:o,session:t});return i.connect(),{session:t,ui:a,connection:i}}attachUI(){this.ui.attach()}resetAndReload(){Promise.race([this.connection.setSessionMetadata("__destroyed","1"),new Promise(t=>setTimeout(()=>t(null),1e3))]).then(()=>{var t,r;let n=this.ui.isStandalone();(t=this.diagnostic)===null||t===void 0||t.log(or.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();let i=$t.Session.load(this.storage);if(i?.id===this._session.id?this.storage.clear():i&&((r=this.diagnostic)===null||r===void 0||r.log(or.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:$t.Session.hash(i.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0);let{session:s,ui:o,connection:a}=this.subscribe();this._session=s,this.connection=a,this.ui=o,n&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.options.headlessMode||this.attachUI()}).catch(t=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(or.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${t}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(t,r){this.appName=t,this.appLogoUrl=r}getStorageItem(t){return this.storage.getItem(t)}get session(){return this._session}setStorageItem(t,r){this.storage.setItem(t,r)}signEthereumMessage(t,r,n,i){return this.sendRequest({method:"signEthereumMessage",params:{message:(0,Ae.hexStringFromBuffer)(t,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(t,r,n){return this.sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:(0,Ae.hexStringFromBuffer)(t,!0),signature:(0,Ae.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(t){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:t.fromAddress,toAddress:t.toAddress,weiValue:(0,Ae.bigIntStringFromBN)(t.weiValue),data:(0,Ae.hexStringFromBuffer)(t.data,!0),nonce:t.nonce,gasPriceInWei:t.gasPriceInWei?(0,Ae.bigIntStringFromBN)(t.gasPriceInWei):null,maxFeePerGas:t.gasPriceInWei?(0,Ae.bigIntStringFromBN)(t.gasPriceInWei):null,maxPriorityFeePerGas:t.gasPriceInWei?(0,Ae.bigIntStringFromBN)(t.gasPriceInWei):null,gasLimit:t.gasLimit?(0,Ae.bigIntStringFromBN)(t.gasLimit):null,chainId:t.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(t){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:t.fromAddress,toAddress:t.toAddress,weiValue:(0,Ae.bigIntStringFromBN)(t.weiValue),data:(0,Ae.hexStringFromBuffer)(t.data,!0),nonce:t.nonce,gasPriceInWei:t.gasPriceInWei?(0,Ae.bigIntStringFromBN)(t.gasPriceInWei):null,maxFeePerGas:t.maxFeePerGas?(0,Ae.bigIntStringFromBN)(t.maxFeePerGas):null,maxPriorityFeePerGas:t.maxPriorityFeePerGas?(0,Ae.bigIntStringFromBN)(t.maxPriorityFeePerGas):null,gasLimit:t.gasLimit?(0,Ae.bigIntStringFromBN)(t.gasLimit):null,chainId:t.chainId,shouldSubmit:!0}})}submitEthereumTransaction(t,r){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:(0,Ae.hexStringFromBuffer)(t,!0),chainId:r}})}scanQRCode(t){return this.sendRequest({method:"scanQRCode",params:{regExp:t}})}getQRCodeUrl(){return(0,Ae.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(t,r){return this.sendRequest({method:"generic",params:{action:r,data:t}})}sendGenericMessage(t){return this.sendRequest(t)}sendRequest(t){let r=null,n=(0,Ae.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,t.method,o),r?.()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,c=>{if(r?.(),(0,ar.isErrorResponse)(c))return a(new Error(c.errorMessage));o(c)}),this.ui.isStandalone()?this.sendRequestStandalone(n,t):this.publishWeb3RequestEvent(n,t)}),cancel:i}}setConnectDisabled(t){this.ui.setConnectDisabled(t)}setAccountsCallback(t){this.accountsCallback=t}setChainCallback(t){this.chainCallback=t}setDappDefaultChainCallback(t){this.dappDefaultChain=t,this.ui instanceof my.WalletLinkRelayUI&&this.ui.setChainId(t)}publishWeb3RequestEvent(t,r){var n;let i={type:"WEB3_REQUEST",id:t,request:r},s=$t.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(or.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${r.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?$t.Session.hash(s.id):"",isSessionMismatched:(s?.id!==this._session.id).toString()}),this.publishEvent("Web3Request",i,!0).then(o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(or.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${r.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?$t.Session.hash(s.id):"",isSessionMismatched:(s?.id!==this._session.id).toString()})}).catch(o=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:i.id,response:{method:r.method,errorMessage:o.message}})})}publishWeb3RequestCanceledEvent(t){let r={type:"WEB3_REQUEST_CANCELED",id:t};this.publishEvent("Web3RequestCanceled",r,!1).then()}publishEvent(t,r,n){return this.connection.publishEvent(t,r,n)}handleWeb3ResponseMessage(t){var r;let{response:n}=t;if((r=this.diagnostic)===null||r===void 0||r.log(or.EVENTS.WEB3_RESPONSE,{eventId:t.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),n.method==="requestEthereumAccounts"){e.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},t),{id:i}))),e.accountRequestCallbackIds.clear();return}this.invokeCallback(t)}handleErrorResponse(t,r,n,i){var s;let o=(s=n?.message)!==null&&s!==void 0?s:(0,jr.getMessageFromCode)(i);this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:t,response:{method:r,errorMessage:o,errorCode:i}})}invokeCallback(t){let r=this.relayEventManager.callbacks.get(t.id);r&&(r(t.response),this.relayEventManager.callbacks.delete(t.id))}requestEthereumAccounts(){let t={method:"requestEthereumAccounts",params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=null,n=(0,Ae.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,t.method,o),r?.()};return{promise:new Promise((o,a)=>{if(this.relayEventManager.callbacks.set(n,c=>{if(this.ui.hideRequestEthereumAccounts(),r?.(),(0,ar.isErrorResponse)(c))return a(new Error(c.errorMessage));o(c)}),this.ui.inlineAccountsResponse()){let c=f=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:n,response:{method:"requestEthereumAccounts",result:f}})};this.ui.requestEthereumAccounts({onCancel:i,onAccounts:c})}else{let c=jr.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>i(c)})}e.accountRequestCallbackIds.add(n),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(n,t)}),cancel:i}}selectProvider(t){let r={method:"selectProvider",params:{providerOptions:t}},n=(0,Ae.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(n,h=>{if((0,ar.isErrorResponse)(h))return a(new Error(h.errorMessage));o(h)});let c=h=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:n,response:{method:"selectProvider",result:yy.ProviderType.Unselected}})},f=h=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:n,response:{method:"selectProvider",result:h}})};this.ui.selectProvider&&this.ui.selectProvider({onApprove:f,onCancel:c,providerOptions:t})});return{cancel:i,promise:s}}watchAsset(t,r,n,i,s,o){let a={method:"watchAsset",params:{type:t,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}},c=null,f=(0,Ae.randomBytesHex)(8),h=S=>{this.publishWeb3RequestCanceledEvent(f),this.handleErrorResponse(f,a.method,S),c?.()};this.ui.inlineWatchAsset()||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:h,onResetConnection:this.resetAndReload}));let _=new Promise((S,A)=>{this.relayEventManager.callbacks.set(f,T=>{if(c?.(),(0,ar.isErrorResponse)(T))return A(new Error(T.errorMessage));S(T)});let L=T=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:f,response:{method:"watchAsset",result:!1}})},O=()=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:f,response:{method:"watchAsset",result:!0}})};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:O,onCancel:L,type:t,address:r,symbol:n,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(f,a)});return{cancel:h,promise:_}}addEthereumChain(t,r,n,i,s,o){let a={method:"addEthereumChain",params:{chainId:t,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}},c=null,f=(0,Ae.randomBytesHex)(8),h=S=>{this.publishWeb3RequestCanceledEvent(f),this.handleErrorResponse(f,a.method,S),c?.()};return this.ui.inlineAddEthereumChain(t)||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:h,onResetConnection:this.resetAndReload})),{promise:new Promise((S,A)=>{this.relayEventManager.callbacks.set(f,T=>{if(c?.(),(0,ar.isErrorResponse)(T))return A(new Error(T.errorMessage));S(T)});let L=T=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:f,response:{method:"addEthereumChain",result:{isApproved:!1,rpcUrl:""}}})},O=T=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:f,response:{method:"addEthereumChain",result:{isApproved:!0,rpcUrl:T}}})};this.ui.inlineAddEthereumChain(t)&&this.ui.addEthereumChain({onCancel:L,onApprove:O,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(t)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(f,a)}),cancel:h}}switchEthereumChain(t,r){let n={method:"switchEthereumChain",params:Object.assign({chainId:t},{address:r})},i=(0,Ae.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,a)};return{promise:new Promise((a,c)=>{this.relayEventManager.callbacks.set(i,_=>{if((0,ar.isErrorResponse)(_)&&_.errorCode)return c(jr.standardErrors.provider.custom({code:_.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if((0,ar.isErrorResponse)(_))return c(new Error(_.errorMessage));a(_)});let f=_=>{var S;if(_){let A=(S=(0,jr.getErrorCode)(_))!==null&&S!==void 0?S:jr.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(i,"switchEthereumChain",_ instanceof Error?_:jr.standardErrors.provider.unsupportedChain(t),A)}else this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:i,response:{method:"switchEthereumChain",result:{isApproved:!1,rpcUrl:""}}})},h=_=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:i,response:{method:"switchEthereumChain",result:{isApproved:!0,rpcUrl:_}}})};this.ui.switchEthereumChain({onCancel:f,onApprove:h,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(t){return this.ui.inlineAddEthereumChain(t)}getSessionIdHash(){return $t.Session.hash(this._session.id)}sendRequestStandalone(t,r){let n=s=>{this.handleErrorResponse(t,r.method,s)},i=s=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:t,response:s})};switch(r.method){case"signEthereumMessage":this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case"signEthereumTransaction":this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case"submitEthereumTransaction":this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case"ethereumAddressFromSignedMessage":this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}};Ui.WalletLinkRelay=qi;qi.accountRequestCallbackIds=new Set});var ld=E(cr=>{"use strict";u();d();l();var _y=cr&&cr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),wy=cr&&cr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&_y(t,e,r)};Object.defineProperty(cr,"__esModule",{value:!0});wy(ca(),cr)});var dd=E(fa=>{"use strict";u();d();l();Object.defineProperty(fa,"__esModule",{value:!0});fa.default=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}"});var hd=E(Dr=>{"use strict";u();d();l();var fd=Dr&&Dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.RedirectDialog=void 0;var vy=fd(pn()),St=(Qe(),pe(Ze)),Ey=zo(),Sy=ld(),ky=fd(dd()),ha=class{constructor(){this.root=null}attach(){let t=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",t.appendChild(this.root),(0,Ey.injectCssReset)()}present(t){this.render(t)}clear(){this.render(null)}render(t){this.root&&((0,St.render)(null,this.root),t&&(0,St.render)((0,St.h)(Ry,Object.assign({},t,{onDismiss:()=>{this.clear()}})),this.root))}};Dr.RedirectDialog=ha;var Ry=({title:e,buttonText:t,darkMode:r,onButtonClick:n,onDismiss:i})=>{let s=r?"dark":"light";return(0,St.h)(Sy.SnackbarContainer,{darkMode:r},(0,St.h)("div",{class:"-cbwsdk-redirect-dialog"},(0,St.h)("style",null,ky.default),(0,St.h)("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),(0,St.h)("div",{class:(0,vy.default)("-cbwsdk-redirect-dialog-box",s)},(0,St.h)("p",null,e),(0,St.h)("button",{onClick:n},t))))}});var ga=E(Hi=>{"use strict";u();d();l();Object.defineProperty(Hi,"__esModule",{value:!0});Hi.MobileRelayUI=void 0;var xy=hd(),pa=class{constructor(t){this.attached=!1,this.darkMode=!1,this.redirectDialog=new xy.RedirectDialog,this.darkMode=t.darkMode}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}setConnected(t){}redirectToCoinbaseWallet(t){let r=new URL("https://go.cb-w.com/walletlink");r.searchParams.append("redirect_url",window.location.href),t&&r.searchParams.append("wl_url",t);let n=document.createElement("a");n.target="cbw-opener",n.href=r.href,n.rel="noreferrer noopener",n.click()}openCoinbaseWalletDeeplink(t){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",darkMode:this.darkMode,onButtonClick:()=>{this.redirectToCoinbaseWallet(t)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(t)},99)}showConnecting(t){return()=>{this.redirectDialog.clear()}}hideRequestEthereumAccounts(){this.redirectDialog.clear()}requestEthereumAccounts(){}addEthereumChain(){}watchAsset(){}selectProvider(){}switchEthereumChain(){}signEthereumMessage(){}signEthereumTransaction(){}submitEthereumTransaction(){}ethereumAddressFromSignedMessage(){}reloadUI(){}setStandalone(){}setConnectDisabled(){}inlineAccountsResponse(){return!1}inlineAddEthereumChain(){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}isStandalone(){return!1}};Hi.MobileRelayUI=pa});var ba=E($i=>{"use strict";u();d();l();Object.defineProperty($i,"__esModule",{value:!0});$i.MobileRelay=void 0;var Cy=mt(),Ay=da(),Iy=ga(),ya=class extends Ay.WalletLinkRelay{constructor(t){var r;super(t),this._enableMobileWalletLink=(r=t.enableMobileWalletLink)!==null&&r!==void 0?r:!1}requestEthereumAccounts(){return this._enableMobileWalletLink?super.requestEthereumAccounts():{promise:new Promise(()=>{let t=(0,Cy.getLocation)();t.href=`https://go.cb-w.com/dapp?cb_url=${encodeURIComponent(t.href)}`}),cancel:()=>{}}}publishWeb3RequestEvent(t,r){if(super.publishWeb3RequestEvent(t,r),!(this._enableMobileWalletLink&&this.ui instanceof Iy.MobileRelayUI))return;let n=!1;switch(r.method){case"requestEthereumAccounts":case"connectAndSignIn":n=!0,this.ui.openCoinbaseWalletDeeplink(this.getQRCodeUrl());break;case"switchEthereumChain":return;default:n=!0,this.ui.openCoinbaseWalletDeeplink();break}n&&window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0})}handleWeb3ResponseMessage(t){super.handleWeb3ResponseMessage(t)}connectAndSignIn(t){if(!this._enableMobileWalletLink)throw new Error("connectAndSignIn is supported only when enableMobileWalletLink is on");return this.sendRequest({method:"connectAndSignIn",params:{appName:this.appName,appLogoUrl:this.appLogoUrl,domain:window.location.hostname,aud:window.location.href,version:"1",type:"eip4361",nonce:t.nonce,iat:new Date().toISOString(),chainId:`eip155:${this.dappDefaultChain}`,statement:t.statement,resources:t.resources}})}};$i.MobileRelay=ya});var ma=E((D6,pd)=>{u();d();l();pd.exports=(Yn(),pe(Kn)).EventEmitter});function Fa(){return gd||(gd=!0,_a=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[r]=i;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var s=Object.getOwnPropertySymbols(t);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(t,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0}),_a}function My(){return yd||(yd=!0,wa=Error),wa}function Py(){return bd||(bd=!0,va=EvalError),va}function Ty(){return md||(md=!0,Ea=RangeError),Ea}function Ny(){return _d||(_d=!0,Sa=ReferenceError),Sa}function Ld(){return wd||(wd=!0,ka=SyntaxError),ka}function Wi(){return vd||(vd=!0,Ra=TypeError),Ra}function Oy(){return Ed||(Ed=!0,xa=URIError),xa}function By(){if(Sd)return Ca;Sd=!0;var e=typeof Symbol<"u"&&Symbol,t=Fa();return Ca=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},Ca}function Ly(){if(kd)return Aa;kd=!0;var e={__proto__:null,foo:{}},t=Object;return Aa=function(){return{__proto__:e}.foo===e.foo&&!(e instanceof t)},Aa}function jy(){if(Rd)return Ia;Rd=!0;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(c,f){for(var h=[],_=0;_<c.length;_+=1)h[_]=c[_];for(var S=0;S<f.length;S+=1)h[S+c.length]=f[S];return h},s=function(c,f){for(var h=[],_=f,S=0;_<c.length;_+=1,S+=1)h[S]=c[_];return h},o=function(a,c){for(var f="",h=0;h<a.length;h+=1)f+=a[h],h+1<a.length&&(f+=c);return f};return Ia=function(c){var f=this;if(typeof f!="function"||t.apply(f)!==n)throw new TypeError(e+f);for(var h=s(arguments,1),_,S=function(){if(this instanceof _){var N=f.apply(this,i(h,arguments));return Object(N)===N?N:this}return f.apply(c,i(h,arguments))},A=r(0,f.length-h.length),L=[],O=0;O<A;O++)L[O]="$"+O;if(_=Function("binder","return function ("+o(L,",")+"){ return binder.apply(this,arguments); }")(S),f.prototype){var T=function(){};T.prototype=f.prototype,_.prototype=new T,T.prototype=null}return _},Ia}function qa(){if(xd)return Ma;xd=!0;var e=jy();return Ma=Function.prototype.bind||e,Ma}function Dy(){if(Cd)return Pa;Cd=!0;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=qa();return Pa=r.call(e,t),Pa}function Cn(){if(Ad)return Ta;Ad=!0;var e,t=My(),r=Py(),n=Ty(),i=Ny(),s=Ld(),o=Wi(),a=Oy(),c=Function,f=function(me){try{return c('"use strict"; return ('+me+").constructor;")()}catch{}},h=Object.getOwnPropertyDescriptor;if(h)try{h({},"")}catch{h=null}var _=function(){throw new o},S=h?function(){try{return arguments.callee,_}catch{try{return h(arguments,"callee").get}catch{return _}}}():_,A=By()(),L=Ly()(),O=Object.getPrototypeOf||(L?function(me){return me.__proto__}:null),T={},N=typeof Uint8Array>"u"||!O?e:O(Uint8Array),M={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":A&&O?O([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":T,"%AsyncGenerator%":T,"%AsyncGeneratorFunction%":T,"%AsyncIteratorPrototype%":T,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":r,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":c,"%GeneratorFunction%":T,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":A&&O?O(O([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!A||!O?e:O(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":n,"%ReferenceError%":i,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!A||!O?e:O(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":A&&O?O(""[Symbol.iterator]()):e,"%Symbol%":A?Symbol:e,"%SyntaxError%":s,"%ThrowTypeError%":S,"%TypedArray%":N,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":a,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet};if(O)try{null.error}catch(me){var P=O(O(me));M["%Error.prototype%"]=P}var j=function me(ne){var ee;if(ne==="%AsyncFunction%")ee=f("async function () {}");else if(ne==="%GeneratorFunction%")ee=f("function* () {}");else if(ne==="%AsyncGeneratorFunction%")ee=f("async function* () {}");else if(ne==="%AsyncGenerator%"){var ue=me("%AsyncGeneratorFunction%");ue&&(ee=ue.prototype)}else if(ne==="%AsyncIteratorPrototype%"){var fe=me("%AsyncGenerator%");fe&&O&&(ee=O(fe.prototype))}return M[ne]=ee,ee},X={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ie=qa(),re=Dy(),Te=ie.call(Function.call,Array.prototype.concat),Ee=ie.call(Function.apply,Array.prototype.splice),be=ie.call(Function.call,String.prototype.replace),he=ie.call(Function.call,String.prototype.slice),se=ie.call(Function.call,RegExp.prototype.exec),ye=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,xe=/\\(\\)?/g,Se=function(ne){var ee=he(ne,0,1),ue=he(ne,-1);if(ee==="%"&&ue!=="%")throw new s("invalid intrinsic syntax, expected closing `%`");if(ue==="%"&&ee!=="%")throw new s("invalid intrinsic syntax, expected opening `%`");var fe=[];return be(ne,ye,function(w,R,x,U){fe[fe.length]=x?be(U,xe,"$1"):R||w}),fe},Ge=function(ne,ee){var ue=ne,fe;if(re(X,ue)&&(fe=X[ue],ue="%"+fe[0]+"%"),re(M,ue)){var w=M[ue];if(w===T&&(w=j(ue)),typeof w>"u"&&!ee)throw new o("intrinsic "+ne+" exists, but is not available. Please file an issue!");return{alias:fe,name:ue,value:w}}throw new s("intrinsic "+ne+" does not exist!")};return Ta=function(ne,ee){if(typeof ne!="string"||ne.length===0)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ee!="boolean")throw new o('"allowMissing" argument must be a boolean');if(se(/^%?[^%]*%?$/,ne)===null)throw new s("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ue=Se(ne),fe=ue.length>0?ue[0]:"",w=Ge("%"+fe+"%",ee),R=w.name,x=w.value,U=!1,F=w.alias;F&&(fe=F[0],Ee(ue,Te([0,1],F)));for(var W=1,$=!0;W<ue.length;W+=1){var H=ue[W],te=he(H,0,1),ge=he(H,-1);if((te==='"'||te==="'"||te==="`"||ge==='"'||ge==="'"||ge==="`")&&te!==ge)throw new s("property names with quotes must have matching quotes");if((H==="constructor"||!$)&&(U=!0),fe+="."+H,R="%"+fe+"%",re(M,R))x=M[R];else if(x!=null){if(!(H in x)){if(!ee)throw new o("base intrinsic for "+ne+" exists, but the property is not available.");return}if(h&&W+1>=ue.length){var Fe=h(x,H);$=!!Fe,$&&"get"in Fe&&!("originalValue"in Fe.get)?x=Fe.get:x=x[H]}else $=re(x,H),x=x[H];$&&!U&&(M[R]=x)}}return x},Ta}function Ua(){if(Id)return Na;Id=!0;var e=Cn(),t=e("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return Na=t,Na}function Vi(){if(Md)return Oa;Md=!0;var e=Cn(),t=e("%Object.getOwnPropertyDescriptor%",!0);if(t)try{t([],"length")}catch{t=null}return Oa=t,Oa}function Fy(){if(Pd)return Ba;Pd=!0;var e=Ua(),t=Ld(),r=Wi(),n=Vi();return Ba=function(s,o,a){if(!s||typeof s!="object"&&typeof s!="function")throw new r("`obj` must be an object or a function`");if(typeof o!="string"&&typeof o!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var c=arguments.length>3?arguments[3]:null,f=arguments.length>4?arguments[4]:null,h=arguments.length>5?arguments[5]:null,_=arguments.length>6?arguments[6]:!1,S=!!n&&n(s,o);if(e)e(s,o,{configurable:h===null&&S?S.configurable:!h,enumerable:c===null&&S?S.enumerable:!c,value:a,writable:f===null&&S?S.writable:!f});else if(_||!c&&!f&&!h)s[o]=a;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Ba}function qy(){if(Td)return La;Td=!0;var e=Ua(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},La=t,La}function Uy(){if(Nd)return ja;Nd=!0;var e=Cn(),t=Fy(),r=qy()(),n=Vi(),i=Wi(),s=e("%Math.floor%");return ja=function(a,c){if(typeof a!="function")throw new i("`fn` is not a function");if(typeof c!="number"||c<0||c>4294967295||s(c)!==c)throw new i("`length` must be a positive 32-bit integer");var f=arguments.length>2&&!!arguments[2],h=!0,_=!0;if("length"in a&&n){var S=n(a,"length");S&&!S.configurable&&(h=!1),S&&!S.writable&&(_=!1)}return(h||_||!f)&&(r?t(a,"length",c,!0,!0):t(a,"length",c)),a},ja}function Ha(){if(Od)return xn;Od=!0;var e=qa(),t=Cn(),r=Uy(),n=Wi(),i=t("%Function.prototype.apply%"),s=t("%Function.prototype.call%"),o=t("%Reflect.apply%",!0)||e.call(s,i),a=Ua(),c=t("%Math.max%");xn=function(_){if(typeof _!="function")throw new n("a function is required");var S=o(e,s,arguments);return r(S,1+c(0,_.length-(arguments.length-1)),!0)};var f=function(){return o(e,i,arguments)};return a?a(xn,"apply",{value:f}):xn.apply=f,xn}function $a(){if(Bd)return Da;Bd=!0;var e=Cn(),t=Ha(),r=t(e("String.prototype.indexOf"));return Da=function(i,s){var o=e(i,!!s);return typeof o=="function"&&r(i,".prototype.")>-1?t(o):o},Da}var _a,gd,wa,yd,va,bd,Ea,md,Sa,_d,ka,wd,Ra,vd,xa,Ed,Ca,Sd,Aa,kd,Ia,Rd,Ma,xd,Pa,Cd,Ta,Ad,Na,Id,Oa,Md,Ba,Pd,La,Td,ja,Nd,xn,Od,Da,Bd,jd=Qn(()=>{u();d();l();_a={},gd=!1;wa={},yd=!1;va={},bd=!1;Ea={},md=!1;Sa={},_d=!1;ka={},wd=!1;Ra={},vd=!1;xa={},Ed=!1;Ca={},Sd=!1;Aa={},kd=!1;Ia={},Rd=!1;Ma={},xd=!1;Pa={},Cd=!1;Ta={},Ad=!1;Na={},Id=!1;Oa={},Md=!1;Ba={},Pd=!1;La={},Td=!1;ja={},Nd=!1;xn={},Od=!1;Da={},Bd=!1});function Fd(){return Dd||(Dd=!0,typeof Object.create=="function"?zi=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:zi=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),zi}var zi,Dd,qd=Qn(()=>{u();d();l();zi={},Dd=!1});function Ja(e){throw new Error("Node.js process "+e+" is not supported by JSPM core outside of Node.js")}function Hy(){!Fr||!ur||(Fr=!1,ur.length?Nt=ur.concat(Nt):Ji=-1,Nt.length&&Ud())}function Ud(){if(!Fr){var e=setTimeout(Hy,0);Fr=!0;for(var t=Nt.length;t;){for(ur=Nt,Nt=[];++Ji<t;)ur&&ur[Ji].run();Ji=-1,t=Nt.length}ur=null,Fr=!1,clearTimeout(e)}}function $y(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Nt.push(new Hd(e,t)),Nt.length===1&&!Fr&&setTimeout(Ud,0)}function Hd(e,t){this.fun=e,this.array=t}function We(){}function ob(e){Ja("_linkedBinding")}function lb(e){Ja("dlopen")}function db(){return[]}function fb(){return[]}function vb(e,t){if(!e)throw new Error(t||"assertion error")}function Rb(){return!1}function Hb(){return Wt.now()/1e3}function za(e){var t=Math.floor((Date.now()-Wt.now())*.001),r=Wt.now()*.001,n=Math.floor(r)+t,i=Math.floor(r%1*1e9);return e&&(n=n-e[0],i=i-e[1],i<0&&(n--,i+=Va)),[n,i]}function Vt(){return Za}function em(e){return[]}var Nt,Fr,ur,Ji,Wy,Vy,zy,Jy,Gy,Zy,Qy,Ky,Yy,Xy,eb,tb,rb,nb,ib,sb,ab,cb,ub,hb,pb,Ga,gb,yb,bb,mb,_b,wb,Eb,Sb,kb,xb,Cb,Ab,Ib,Mb,Pb,Tb,Nb,Ob,Bb,Lb,jb,Db,Fb,qb,Ub,Wt,Wa,Va,$b,Wb,Vb,zb,Jb,Gb,Zb,Qb,Kb,Yb,Xb,Za,$d=Qn(()=>{u();d();l();Nt=[],Fr=!1,Ji=-1;Hd.prototype.run=function(){this.fun.apply(null,this.array)};Wy="browser",Vy="x64",zy="browser",Jy={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},Gy=["/usr/bin/node"],Zy=[],Qy="v16.8.0",Ky={},Yy=function(e,t){console.warn((t?t+": ":"")+e)},Xy=function(e){Ja("binding")},eb=function(e){return 0},tb=function(){return"/"},rb=function(e){},nb={name:"node",sourceUrl:"",headersUrl:"",libUrl:""};ib=We,sb=[];ab={},cb=!1,ub={};hb=We,pb=We,Ga=function(){return{}},gb=Ga,yb=Ga,bb=We,mb=We,_b=We,wb={};Eb={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},Sb=We,kb=We;xb=We,Cb=We,Ab=We,Ib=We,Mb=We,Pb=void 0,Tb=void 0,Nb=void 0,Ob=We,Bb=2,Lb=1,jb="/bin/usr/node",Db=9229,Fb="node",qb=[],Ub=We,Wt={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0};Wt.now===void 0&&(Wa=Date.now(),Wt.timing&&Wt.timing.navigationStart&&(Wa=Wt.timing.navigationStart),Wt.now=()=>Date.now()-Wa);Va=1e9;za.bigint=function(e){var t=za(e);return typeof BigInt>"u"?t[0]*Va+t[1]:BigInt(t[0]*Va)+BigInt(t[1])};$b=10,Wb={},Vb=0;zb=Vt,Jb=Vt,Gb=Vt,Zb=Vt,Qb=Vt,Kb=We,Yb=Vt,Xb=Vt;Za={version:Qy,versions:Ky,arch:Vy,platform:zy,release:nb,_rawDebug:ib,moduleLoadList:sb,binding:Xy,_linkedBinding:ob,_events:Wb,_eventsCount:Vb,_maxListeners:$b,on:Vt,addListener:zb,once:Jb,off:Gb,removeListener:Zb,removeAllListeners:Qb,emit:Kb,prependListener:Yb,prependOnceListener:Xb,listeners:em,domain:ab,_exiting:cb,config:ub,dlopen:lb,uptime:Hb,_getActiveRequests:db,_getActiveHandles:fb,reallyExit:hb,_kill:pb,cpuUsage:Ga,resourceUsage:gb,memoryUsage:yb,kill:bb,exit:mb,openStdin:_b,allowedNodeEnvironmentFlags:wb,assert:vb,features:Eb,_fatalExceptions:Sb,setUncaughtExceptionCaptureCallback:kb,hasUncaughtExceptionCaptureCallback:Rb,emitWarning:Yy,nextTick:$y,_tickCallback:xb,_debugProcess:Cb,_debugEnd:Ab,_startProfilerIdleNotifier:Ib,_stopProfilerIdleNotifier:Mb,stdout:Pb,stdin:Nb,stderr:Tb,abort:Ob,umask:eb,chdir:rb,cwd:tb,env:Jy,title:Wy,argv:Gy,execArgv:Zy,pid:Bb,ppid:Lb,execPath:jb,debugPort:Db,hrtime:za,argv0:Fb,_preload_modules:qb,setSourceMapsEnabled:Ub}});var ac={};Qp(ac,{TextDecoder:()=>Fm,TextEncoder:()=>Dm,_extend:()=>hm,callbackify:()=>pm,debuglog:()=>gm,default:()=>q,deprecate:()=>ym,format:()=>bm,inherits:()=>mm,inspect:()=>_m,isArray:()=>wm,isBoolean:()=>vm,isBuffer:()=>Em,isDate:()=>Sm,isError:()=>km,isFunction:()=>Rm,isNull:()=>xm,isNullOrUndefined:()=>Cm,isNumber:()=>Am,isObject:()=>Im,isPrimitive:()=>Mm,isRegExp:()=>Pm,isString:()=>Tm,isSymbol:()=>Nm,isUndefined:()=>Om,log:()=>Bm,promisify:()=>Lm,types:()=>jm});function oc(){if(Wd)return Qa;Wd=!0;var e=Fa();return Qa=function(){return e()&&!!Symbol.toStringTag},Qa}function tm(){if(Vd)return Ka;Vd=!0;var e=oc()(),t=$a(),r=t("Object.prototype.toString"),n=function(a){return e&&a&&typeof a=="object"&&Symbol.toStringTag in a?!1:r(a)==="[object Arguments]"},i=function(a){return n(a)?!0:a!==null&&typeof a=="object"&&typeof a.length=="number"&&a.length>=0&&r(a)!=="[object Array]"&&r(a.callee)==="[object Function]"},s=function(){return n(arguments)}();return n.isLegacyArguments=i,Ka=s?n:i,Ka}function rm(){if(zd)return Ya;zd=!0;var e=Object.prototype.toString,t=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=oc()(),i=Object.getPrototypeOf,s=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},o;return Ya=function(c){if(typeof c!="function")return!1;if(r.test(t.call(c)))return!0;if(!n){var f=e.call(c);return f==="[object GeneratorFunction]"}if(!i)return!1;if(typeof o>"u"){var h=s();o=h?i(h):!1}return i(c)===o},Ya}function nm(){if(Jd)return Xa;Jd=!0;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},t(function(){throw 42},null,r)}catch(M){M!==n&&(t=null)}else t=null;var i=/^\s*class\b/,s=function(P){try{var j=e.call(P);return i.test(j)}catch{return!1}},o=function(P){try{return s(P)?!1:(e.call(P),!0)}catch{return!1}},a=Object.prototype.toString,c="[object Object]",f="[object Function]",h="[object GeneratorFunction]",_="[object HTMLAllCollection]",S="[object HTML document.all class]",A="[object HTMLCollection]",L=typeof Symbol=="function"&&!!Symbol.toStringTag,O=!(0 in[,]),T=function(){return!1};if(typeof document=="object"){var N=document.all;a.call(N)===a.call(document.all)&&(T=function(P){if((O||!P)&&(typeof P>"u"||typeof P=="object"))try{var j=a.call(P);return(j===_||j===S||j===A||j===c)&&P("")==null}catch{}return!1})}return Xa=t?function(P){if(T(P))return!0;if(!P||typeof P!="function"&&typeof P!="object")return!1;try{t(P,null,r)}catch(j){if(j!==n)return!1}return!s(P)&&o(P)}:function(P){if(T(P))return!0;if(!P||typeof P!="function"&&typeof P!="object")return!1;if(L)return o(P);if(s(P))return!1;var j=a.call(P);return j!==f&&j!==h&&!/^\[object HTML/.test(j)?!1:o(P)},Xa}function im(){if(Gd)return ec;Gd=!0;var e=nm(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(c,f,h){for(var _=0,S=c.length;_<S;_++)r.call(c,_)&&(h==null?f(c[_],_,c):f.call(h,c[_],_,c))},i=function(c,f,h){for(var _=0,S=c.length;_<S;_++)h==null?f(c.charAt(_),_,c):f.call(h,c.charAt(_),_,c)},s=function(c,f,h){for(var _ in c)r.call(c,_)&&(h==null?f(c[_],_,c):f.call(h,c[_],_,c))},o=function(c,f,h){if(!e(f))throw new TypeError("iterator must be a function");var _;arguments.length>=3&&(_=h),t.call(c)==="[object Array]"?n(c,f,_):typeof c=="string"?i(c,f,_):s(c,f,_)};return ec=o,ec}function sm(){return Zd||(Zd=!0,tc=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),tc}function am(){if(Qd)return rc;Qd=!0;var e=sm(),t=typeof globalThis>"u"?om:globalThis;return rc=function(){for(var n=[],i=0;i<e.length;i++)typeof t[e[i]]=="function"&&(n[n.length]=e[i]);return n},rc}function rf(){if(Kd)return nc;Kd=!0;var e=im(),t=am(),r=Ha(),n=$a(),i=Vi(),s=n("Object.prototype.toString"),o=oc()(),a=typeof globalThis>"u"?cm:globalThis,c=t(),f=n("String.prototype.slice"),h=Object.getPrototypeOf,_=n("Array.prototype.indexOf",!0)||function(T,N){for(var M=0;M<T.length;M+=1)if(T[M]===N)return M;return-1},S={__proto__:null};o&&i&&h?e(c,function(O){var T=new a[O];if(Symbol.toStringTag in T){var N=h(T),M=i(N,Symbol.toStringTag);if(!M){var P=h(N);M=i(P,Symbol.toStringTag)}S["$"+O]=r(M.get)}}):e(c,function(O){var T=new a[O],N=T.slice||T.set;N&&(S["$"+O]=r(N))});var A=function(T){var N=!1;return e(S,function(M,P){if(!N)try{"$"+M(T)===P&&(N=f(P,1))}catch{}}),N},L=function(T){var N=!1;return e(S,function(M,P){if(!N)try{M(T),N=f(P,1)}catch{}}),N};return nc=function(T){if(!T||typeof T!="object")return!1;if(!o){var N=f(s(T),8,-1);return _(c,N)>-1?N:N!=="Object"?!1:L(T)}return i?A(T):null},nc}function um(){if(Yd)return ic;Yd=!0;var e=rf();return ic=function(r){return!!e(r)},ic}function lm(){if(Xd)return Z;Xd=!0;var e=tm(),t=rm(),r=rf(),n=um();function i(C){return C.call.bind(C)}var s=typeof BigInt<"u",o=typeof Symbol<"u",a=i(Object.prototype.toString),c=i(Number.prototype.valueOf),f=i(String.prototype.valueOf),h=i(Boolean.prototype.valueOf);if(s)var _=i(BigInt.prototype.valueOf);if(o)var S=i(Symbol.prototype.valueOf);function A(C,kr){if(typeof C!="object")return!1;try{return kr(C),!0}catch{return!1}}Z.isArgumentsObject=e,Z.isGeneratorFunction=t,Z.isTypedArray=n;function L(C){return typeof Promise<"u"&&C instanceof Promise||C!==null&&typeof C=="object"&&typeof C.then=="function"&&typeof C.catch=="function"}Z.isPromise=L;function O(C){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(C):n(C)||w(C)}Z.isArrayBufferView=O;function T(C){return r(C)==="Uint8Array"}Z.isUint8Array=T;function N(C){return r(C)==="Uint8ClampedArray"}Z.isUint8ClampedArray=N;function M(C){return r(C)==="Uint16Array"}Z.isUint16Array=M;function P(C){return r(C)==="Uint32Array"}Z.isUint32Array=P;function j(C){return r(C)==="Int8Array"}Z.isInt8Array=j;function X(C){return r(C)==="Int16Array"}Z.isInt16Array=X;function ie(C){return r(C)==="Int32Array"}Z.isInt32Array=ie;function re(C){return r(C)==="Float32Array"}Z.isFloat32Array=re;function Te(C){return r(C)==="Float64Array"}Z.isFloat64Array=Te;function Ee(C){return r(C)==="BigInt64Array"}Z.isBigInt64Array=Ee;function be(C){return r(C)==="BigUint64Array"}Z.isBigUint64Array=be;function he(C){return a(C)==="[object Map]"}he.working=typeof Map<"u"&&he(new Map);function se(C){return typeof Map>"u"?!1:he.working?he(C):C instanceof Map}Z.isMap=se;function ye(C){return a(C)==="[object Set]"}ye.working=typeof Set<"u"&&ye(new Set);function xe(C){return typeof Set>"u"?!1:ye.working?ye(C):C instanceof Set}Z.isSet=xe;function Se(C){return a(C)==="[object WeakMap]"}Se.working=typeof WeakMap<"u"&&Se(new WeakMap);function Ge(C){return typeof WeakMap>"u"?!1:Se.working?Se(C):C instanceof WeakMap}Z.isWeakMap=Ge;function me(C){return a(C)==="[object WeakSet]"}me.working=typeof WeakSet<"u"&&me(new WeakSet);function ne(C){return me(C)}Z.isWeakSet=ne;function ee(C){return a(C)==="[object ArrayBuffer]"}ee.working=typeof ArrayBuffer<"u"&&ee(new ArrayBuffer);function ue(C){return typeof ArrayBuffer>"u"?!1:ee.working?ee(C):C instanceof ArrayBuffer}Z.isArrayBuffer=ue;function fe(C){return a(C)==="[object DataView]"}fe.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&fe(new DataView(new ArrayBuffer(1),0,1));function w(C){return typeof DataView>"u"?!1:fe.working?fe(C):C instanceof DataView}Z.isDataView=w;var R=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function x(C){return a(C)==="[object SharedArrayBuffer]"}function U(C){return typeof R>"u"?!1:(typeof x.working>"u"&&(x.working=x(new R)),x.working?x(C):C instanceof R)}Z.isSharedArrayBuffer=U;function F(C){return a(C)==="[object AsyncFunction]"}Z.isAsyncFunction=F;function W(C){return a(C)==="[object Map Iterator]"}Z.isMapIterator=W;function $(C){return a(C)==="[object Set Iterator]"}Z.isSetIterator=$;function H(C){return a(C)==="[object Generator]"}Z.isGeneratorObject=H;function te(C){return a(C)==="[object WebAssembly.Module]"}Z.isWebAssemblyCompiledModule=te;function ge(C){return A(C,c)}Z.isNumberObject=ge;function Fe(C){return A(C,f)}Z.isStringObject=Fe;function yt(C){return A(C,h)}Z.isBooleanObject=yt;function Ye(C){return s&&A(C,_)}Z.isBigIntObject=Ye;function Pt(C){return o&&A(C,S)}Z.isSymbolObject=Pt;function Er(C){return ge(C)||Fe(C)||yt(C)||Ye(C)||Pt(C)}Z.isBoxedPrimitive=Er;function Sr(C){return typeof Uint8Array<"u"&&(ue(C)||U(C))}return Z.isAnyArrayBuffer=Sr,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(C){Object.defineProperty(Z,C,{enumerable:!1,value:function(){throw new Error(C+" is not supported in userland")}})}),Z}function dm(){return ef||(ef=!0,sc=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),sc}function fm(){if(tf)return Q;tf=!0;var e=Za,t=Object.getOwnPropertyDescriptors||function(R){for(var x=Object.keys(R),U={},F=0;F<x.length;F++)U[x[F]]=Object.getOwnPropertyDescriptor(R,x[F]);return U},r=/%[sdj%]/g;Q.format=function(w){if(!X(w)){for(var R=[],x=0;x<arguments.length;x++)R.push(o(arguments[x]));return R.join(" ")}for(var x=1,U=arguments,F=U.length,W=String(w).replace(r,function(H){if(H==="%%")return"%";if(x>=F)return H;switch(H){case"%s":return String(U[x++]);case"%d":return Number(U[x++]);case"%j":try{return JSON.stringify(U[x++])}catch{return"[Circular]"}default:return H}}),$=U[x];x<F;$=U[++x])M($)||!Ee($)?W+=" "+$:W+=" "+o($);return W},Q.deprecate=function(w,R){if(typeof e<"u"&&e.noDeprecation===!0)return w;if(typeof e>"u")return function(){return Q.deprecate(w,R).apply(this||An,arguments)};var x=!1;function U(){if(!x){if(e.throwDeprecation)throw new Error(R);e.traceDeprecation?console.trace(R):console.error(R),x=!0}return w.apply(this||An,arguments)}return U};var n={},i=/^$/;if(e.env.NODE_DEBUG){var s=e.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}Q.debuglog=function(w){if(w=w.toUpperCase(),!n[w])if(i.test(w)){var R=e.pid;n[w]=function(){var x=Q.format.apply(Q,arguments);console.error("%s %d: %s",w,R,x)}}else n[w]=function(){};return n[w]};function o(w,R){var x={seen:[],stylize:c};return arguments.length>=3&&(x.depth=arguments[2]),arguments.length>=4&&(x.colors=arguments[3]),N(R)?x.showHidden=R:R&&Q._extend(x,R),re(x.showHidden)&&(x.showHidden=!1),re(x.depth)&&(x.depth=2),re(x.colors)&&(x.colors=!1),re(x.customInspect)&&(x.customInspect=!0),x.colors&&(x.stylize=a),h(x,w,x.depth)}Q.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(w,R){var x=o.styles[R];return x?"\x1B["+o.colors[x][0]+"m"+w+"\x1B["+o.colors[x][1]+"m":w}function c(w,R){return w}function f(w){var R={};return w.forEach(function(x,U){R[x]=!0}),R}function h(w,R,x){if(w.customInspect&&R&&se(R.inspect)&&R.inspect!==Q.inspect&&!(R.constructor&&R.constructor.prototype===R)){var U=R.inspect(x,w);return X(U)||(U=h(w,U,x)),U}var F=_(w,R);if(F)return F;var W=Object.keys(R),$=f(W);if(w.showHidden&&(W=Object.getOwnPropertyNames(R)),he(R)&&(W.indexOf("message")>=0||W.indexOf("description")>=0))return S(R);if(W.length===0){if(se(R)){var H=R.name?": "+R.name:"";return w.stylize("[Function"+H+"]","special")}if(Te(R))return w.stylize(RegExp.prototype.toString.call(R),"regexp");if(be(R))return w.stylize(Date.prototype.toString.call(R),"date");if(he(R))return S(R)}var te="",ge=!1,Fe=["{","}"];if(T(R)&&(ge=!0,Fe=["[","]"]),se(R)){var yt=R.name?": "+R.name:"";te=" [Function"+yt+"]"}if(Te(R)&&(te=" "+RegExp.prototype.toString.call(R)),be(R)&&(te=" "+Date.prototype.toUTCString.call(R)),he(R)&&(te=" "+S(R)),W.length===0&&(!ge||R.length==0))return Fe[0]+te+Fe[1];if(x<0)return Te(R)?w.stylize(RegExp.prototype.toString.call(R),"regexp"):w.stylize("[Object]","special");w.seen.push(R);var Ye;return ge?Ye=A(w,R,x,$,W):Ye=W.map(function(Pt){return L(w,R,x,$,Pt,ge)}),w.seen.pop(),O(Ye,te,Fe)}function _(w,R){if(re(R))return w.stylize("undefined","undefined");if(X(R)){var x="'"+JSON.stringify(R).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return w.stylize(x,"string")}if(j(R))return w.stylize(""+R,"number");if(N(R))return w.stylize(""+R,"boolean");if(M(R))return w.stylize("null","null")}function S(w){return"["+Error.prototype.toString.call(w)+"]"}function A(w,R,x,U,F){for(var W=[],$=0,H=R.length;$<H;++$)ne(R,String($))?W.push(L(w,R,x,U,String($),!0)):W.push("");return F.forEach(function(te){te.match(/^\d+$/)||W.push(L(w,R,x,U,te,!0))}),W}function L(w,R,x,U,F,W){var $,H,te;if(te=Object.getOwnPropertyDescriptor(R,F)||{value:R[F]},te.get?te.set?H=w.stylize("[Getter/Setter]","special"):H=w.stylize("[Getter]","special"):te.set&&(H=w.stylize("[Setter]","special")),ne(U,F)||($="["+F+"]"),H||(w.seen.indexOf(te.value)<0?(M(x)?H=h(w,te.value,null):H=h(w,te.value,x-1),H.indexOf(`
`)>-1&&(W?H=H.split(`
`).map(function(ge){return"  "+ge}).join(`
`).slice(2):H=`
`+H.split(`
`).map(function(ge){return"   "+ge}).join(`
`))):H=w.stylize("[Circular]","special")),re($)){if(W&&F.match(/^\d+$/))return H;$=JSON.stringify(""+F),$.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?($=$.slice(1,-1),$=w.stylize($,"name")):($=$.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),$=w.stylize($,"string"))}return $+": "+H}function O(w,R,x){var U=w.reduce(function(F,W){return W.indexOf(`
`)>=0,F+W.replace(/\u001b\[\d\d?m/g,"").length+1},0);return U>60?x[0]+(R===""?"":R+`
 `)+" "+w.join(`,
  `)+" "+x[1]:x[0]+R+" "+w.join(", ")+" "+x[1]}Q.types=lm();function T(w){return Array.isArray(w)}Q.isArray=T;function N(w){return typeof w=="boolean"}Q.isBoolean=N;function M(w){return w===null}Q.isNull=M;function P(w){return w==null}Q.isNullOrUndefined=P;function j(w){return typeof w=="number"}Q.isNumber=j;function X(w){return typeof w=="string"}Q.isString=X;function ie(w){return typeof w=="symbol"}Q.isSymbol=ie;function re(w){return w===void 0}Q.isUndefined=re;function Te(w){return Ee(w)&&xe(w)==="[object RegExp]"}Q.isRegExp=Te,Q.types.isRegExp=Te;function Ee(w){return typeof w=="object"&&w!==null}Q.isObject=Ee;function be(w){return Ee(w)&&xe(w)==="[object Date]"}Q.isDate=be,Q.types.isDate=be;function he(w){return Ee(w)&&(xe(w)==="[object Error]"||w instanceof Error)}Q.isError=he,Q.types.isNativeError=he;function se(w){return typeof w=="function"}Q.isFunction=se;function ye(w){return w===null||typeof w=="boolean"||typeof w=="number"||typeof w=="string"||typeof w=="symbol"||typeof w>"u"}Q.isPrimitive=ye,Q.isBuffer=dm();function xe(w){return Object.prototype.toString.call(w)}function Se(w){return w<10?"0"+w.toString(10):w.toString(10)}var Ge=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function me(){var w=new Date,R=[Se(w.getHours()),Se(w.getMinutes()),Se(w.getSeconds())].join(":");return[w.getDate(),Ge[w.getMonth()],R].join(" ")}Q.log=function(){console.log("%s - %s",me(),Q.format.apply(Q,arguments))},Q.inherits=Fd(),Q._extend=function(w,R){if(!R||!Ee(R))return w;for(var x=Object.keys(R),U=x.length;U--;)w[x[U]]=R[x[U]];return w};function ne(w,R){return Object.prototype.hasOwnProperty.call(w,R)}var ee=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;Q.promisify=function(R){if(typeof R!="function")throw new TypeError('The "original" argument must be of type Function');if(ee&&R[ee]){if(x=R[ee],typeof x!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(x,ee,{value:x,enumerable:!1,writable:!1,configurable:!0}),x}function x(){for(var U,F,W=new Promise(function(te,ge){U=te,F=ge}),$=[],H=0;H<arguments.length;H++)$.push(arguments[H]);$.push(function(te,ge){te?F(te):U(ge)});try{R.apply(this||An,$)}catch(te){F(te)}return W}return Object.setPrototypeOf(x,Object.getPrototypeOf(R)),ee&&Object.defineProperty(x,ee,{value:x,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(x,t(R))},Q.promisify.custom=ee;function ue(w,R){if(!w){var x=new Error("Promise was rejected with a falsy value");x.reason=w,w=x}return R(w)}function fe(w){if(typeof w!="function")throw new TypeError('The "original" argument must be of type Function');function R(){for(var x=[],U=0;U<arguments.length;U++)x.push(arguments[U]);var F=x.pop();if(typeof F!="function")throw new TypeError("The last argument must be of type Function");var W=this||An,$=function(){return F.apply(W,arguments)};w.apply(this||An,x).then(function(H){e.nextTick($.bind(null,null,H))},function(H){e.nextTick(ue.bind(null,H,$))})}return Object.setPrototypeOf(R,Object.getPrototypeOf(w)),Object.defineProperties(R,t(w)),R}return Q.callbackify=fe,Q}var Qa,Wd,Ka,Vd,Ya,zd,Xa,Jd,ec,Gd,tc,Zd,rc,Qd,om,nc,Kd,cm,ic,Yd,Z,Xd,sc,ef,Q,tf,An,q,hm,pm,gm,ym,bm,mm,_m,wm,vm,Em,Sm,km,Rm,xm,Cm,Am,Im,Mm,Pm,Tm,Nm,Om,Bm,Lm,jm,Dm,Fm,cc=Qn(()=>{u();d();l();jd();qd();$d();Qa={},Wd=!1;Ka={},Vd=!1;Ya={},zd=!1;Xa={},Jd=!1;ec={},Gd=!1;tc={},Zd=!1;rc={},Qd=!1,om=typeof globalThis<"u"?globalThis:typeof self<"u"?self:globalThis;nc={},Kd=!1,cm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:globalThis;ic={},Yd=!1;Z={},Xd=!1;sc={},ef=!1;Q={},tf=!1,An=typeof globalThis<"u"?globalThis:typeof self<"u"?self:globalThis;q=fm();q.format;q.deprecate;q.debuglog;q.inspect;q.types;q.isArray;q.isBoolean;q.isNull;q.isNullOrUndefined;q.isNumber;q.isString;q.isSymbol;q.isUndefined;q.isRegExp;q.isObject;q.isDate;q.isError;q.isFunction;q.isPrimitive;q.isBuffer;q.log;q.inherits;q._extend;q.promisify;q.callbackify;hm=q._extend,pm=q.callbackify,gm=q.debuglog,ym=q.deprecate,bm=q.format,mm=q.inherits,_m=q.inspect,wm=q.isArray,vm=q.isBoolean,Em=q.isBuffer,Sm=q.isDate,km=q.isError,Rm=q.isFunction,xm=q.isNull,Cm=q.isNullOrUndefined,Am=q.isNumber,Im=q.isObject,Mm=q.isPrimitive,Pm=q.isRegExp,Tm=q.isString,Nm=q.isSymbol,Om=q.isUndefined,Bm=q.log,Lm=q.promisify,jm=q.types,Dm=q.TextEncoder=globalThis.TextEncoder,Fm=q.TextDecoder=globalThis.TextDecoder});var uf=E((o8,cf)=>{"use strict";u();d();l();function nf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nf(Object(r),!0).forEach(function(n){qm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nf(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qm(e,t,r){return t=af(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Um(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function of(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,af(n.key),n)}}function Hm(e,t,r){return t&&of(e.prototype,t),r&&of(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function af(e){var t=$m(e,"string");return typeof t=="symbol"?t:String(t)}function $m(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wm=(Mo(),pe(Io)),Gi=Wm.Buffer,Vm=(cc(),pe(ac)),uc=Vm.inspect,zm=uc&&uc.custom||"inspect";function Jm(e,t,r){Gi.prototype.copy.call(e,t,r)}cf.exports=function(){function e(){Um(this,e),this.head=null,this.tail=null,this.length=0}return Hm(e,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return Gi.alloc(0);for(var n=Gi.allocUnsafe(r>>>0),i=this.head,s=0;i;)Jm(i.data,n,s),s+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,s=n.data;for(r-=s.length;n=n.next;){var o=n.data,a=r>o.length?o.length:r;if(a===o.length?s+=o:s+=o.slice(0,r),r-=a,r===0){a===o.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(a));break}++i}return this.length-=i,s}},{key:"_getBuffer",value:function(r){var n=Gi.allocUnsafe(r),i=this.head,s=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var o=i.data,a=r>o.length?o.length:r;if(o.copy(n,n.length-r,0,a),r-=a,r===0){a===o.length?(++s,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=o.slice(a));break}++s}return this.length-=s,n}},{key:zm,value:function(r,n){return uc(this,sf(sf({},n),{},{depth:0,customInspect:!1}))}}]),e}()});var dc=E((l8,df)=>{"use strict";u();d();l();function Gm(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,b.nextTick(lc,this,e)):b.nextTick(lc,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(s){!t&&s?r._writableState?r._writableState.errorEmitted?b.nextTick(Zi,r):(r._writableState.errorEmitted=!0,b.nextTick(lf,r,s)):b.nextTick(lf,r,s):t?(b.nextTick(Zi,r),t(s)):b.nextTick(Zi,r)}),this)}function lf(e,t){lc(e,t),Zi(e)}function Zi(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function Zm(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function lc(e,t){e.emit("error",t)}function Qm(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}df.exports={destroy:Gm,undestroy:Zm,errorOrDestroy:Qm}});var lr=E((p8,pf)=>{"use strict";u();d();l();function Km(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var hf={};function ct(e,t,r){r||(r=Error);function n(s,o,a){return typeof t=="string"?t:t(s,o,a)}var i=function(s){Km(o,s);function o(a,c,f){return s.call(this,n(a,c,f))||this}return o}(r);i.prototype.name=r.name,i.prototype.code=e,hf[e]=i}function ff(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(n){return String(n)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:r===2?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}else return"of ".concat(t," ").concat(String(e))}function Ym(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function Xm(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function e_(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}ct("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);ct("ERR_INVALID_ARG_TYPE",function(e,t,r){var n;typeof t=="string"&&Ym(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";var i;if(Xm(e," argument"))i="The ".concat(e," ").concat(n," ").concat(ff(t,"type"));else{var s=e_(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(s," ").concat(n," ").concat(ff(t,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);ct("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");ct("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});ct("ERR_STREAM_PREMATURE_CLOSE","Premature close");ct("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});ct("ERR_MULTIPLE_CALLBACK","Callback called multiple times");ct("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");ct("ERR_STREAM_WRITE_AFTER_END","write after end");ct("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ct("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);ct("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");pf.exports.codes=hf});var fc=E((m8,gf)=>{"use strict";u();d();l();var t_=lr().codes.ERR_INVALID_OPT_VALUE;function r_(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function n_(e,t,r,n){var i=r_(t,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new t_(s,i)}return Math.floor(i)}return e.objectMode?16:16*1024}gf.exports={getHighWaterMark:n_}});var bf=E((E8,yf)=>{u();d();l();yf.exports=i_;function i_(e,t){if(hc("noDeprecation"))return e;var r=!1;function n(){if(!r){if(hc("throwDeprecation"))throw new Error(t);hc("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}return n}function hc(e){try{if(!globalThis.localStorage)return!1}catch{return!1}var t=globalThis.localStorage[e];return t==null?!1:String(t).toLowerCase()==="true"}});var yc=E((x8,Sf)=>{"use strict";u();d();l();Sf.exports=Pe;function _f(e){var t=this;this.next=null,this.entry=null,this.finish=function(){P_(t,e)}}var qr;Pe.WritableState=Mn;var s_={deprecate:bf()},wf=ma(),Ki=(Mo(),pe(Io)).Buffer,o_=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a_(e){return Ki.from(e)}function c_(e){return Ki.isBuffer(e)||e instanceof o_}var gc=dc(),u_=fc(),l_=u_.getHighWaterMark,zt=lr().codes,d_=zt.ERR_INVALID_ARG_TYPE,f_=zt.ERR_METHOD_NOT_IMPLEMENTED,h_=zt.ERR_MULTIPLE_CALLBACK,p_=zt.ERR_STREAM_CANNOT_PIPE,g_=zt.ERR_STREAM_DESTROYED,y_=zt.ERR_STREAM_NULL_VALUES,b_=zt.ERR_STREAM_WRITE_AFTER_END,m_=zt.ERR_UNKNOWN_ENCODING,Ur=gc.errorOrDestroy;ot()(Pe,wf);function __(){}function Mn(e,t,r){qr=qr||dr(),e=e||{},typeof r!="boolean"&&(r=t instanceof qr),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=l_(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=e.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){x_(t,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new _f(this)}Mn.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(Mn.prototype,"buffer",{get:s_.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Qi;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Qi=Function.prototype[Symbol.hasInstance],Object.defineProperty(Pe,Symbol.hasInstance,{value:function(t){return Qi.call(this,t)?!0:this!==Pe?!1:t&&t._writableState instanceof Mn}})):Qi=function(t){return t instanceof this};function Pe(e){qr=qr||dr();var t=this instanceof qr;if(!t&&!Qi.call(Pe,this))return new Pe(e);this._writableState=new Mn(e,this,t),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),wf.call(this)}Pe.prototype.pipe=function(){Ur(this,new p_)};function w_(e,t){var r=new b_;Ur(e,r),b.nextTick(t,r)}function v_(e,t,r,n){var i;return r===null?i=new y_:typeof r!="string"&&!t.objectMode&&(i=new d_("chunk",["string","Buffer"],r)),i?(Ur(e,i),b.nextTick(n,i),!1):!0}Pe.prototype.write=function(e,t,r){var n=this._writableState,i=!1,s=!n.objectMode&&c_(e);return s&&!Ki.isBuffer(e)&&(e=a_(e)),typeof t=="function"&&(r=t,t=null),s?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=__),n.ending?w_(this,r):(s||v_(this,n,e,r))&&(n.pendingcb++,i=S_(this,n,s,e,t,r)),i};Pe.prototype.cork=function(){this._writableState.corked++};Pe.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&vf(this,e))};Pe.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new m_(t);return this._writableState.defaultEncoding=t,this};Object.defineProperty(Pe.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function E_(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=Ki.from(t,r)),t}Object.defineProperty(Pe.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function S_(e,t,r,n,i,s){if(!r){var o=E_(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=t.objectMode?1:n.length;t.length+=a;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else pc(e,t,!1,a,n,i,s);return c}function pc(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new g_("write")):r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function k_(e,t,r,n,i){--t.pendingcb,r?(b.nextTick(i,n),b.nextTick(In,e,t),e._writableState.errorEmitted=!0,Ur(e,n)):(i(n),e._writableState.errorEmitted=!0,Ur(e,n),In(e,t))}function R_(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function x_(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new h_;if(R_(r),t)k_(e,r,n,t,i);else{var s=Ef(r)||e.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&vf(e,r),n?b.nextTick(mf,e,r,s,i):mf(e,r,s,i)}}function mf(e,t,r,n){r||C_(e,t),t.pendingcb--,n(),In(e,t)}function C_(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function vf(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)i[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;i.allBuffers=a,pc(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new _f(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,f=r.encoding,h=r.callback,_=t.objectMode?1:c.length;if(pc(e,t,!1,_,c,f,h),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}Pe.prototype._write=function(e,t,r){r(new f_("_write()"))};Pe.prototype._writev=null;Pe.prototype.end=function(e,t,r){var n=this._writableState;return typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||M_(this,n,r),this};Object.defineProperty(Pe.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Ef(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function A_(e,t){e._final(function(r){t.pendingcb--,r&&Ur(e,r),t.prefinished=!0,e.emit("prefinish"),In(e,t)})}function I_(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"&&!t.destroyed?(t.pendingcb++,t.finalCalled=!0,b.nextTick(A_,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function In(e,t){var r=Ef(t);if(r&&(I_(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}function M_(e,t,r){t.ending=!0,In(e,t),r&&(t.finished?b.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function P_(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}Object.defineProperty(Pe.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}});Pe.prototype.destroy=gc.destroy;Pe.prototype._undestroy=gc.undestroy;Pe.prototype._destroy=function(e,t){t(e)}});var dr=E((M8,Rf)=>{"use strict";u();d();l();var T_=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};Rf.exports=kt;var kf=_c(),mc=yc();ot()(kt,kf);for(bc=T_(mc.prototype),Yi=0;Yi<bc.length;Yi++)Xi=bc[Yi],kt.prototype[Xi]||(kt.prototype[Xi]=mc.prototype[Xi]);var bc,Xi,Yi;function kt(e){if(!(this instanceof kt))return new kt(e);kf.call(this,e),mc.call(this,e),this.allowHalfOpen=!0,e&&(e.readable===!1&&(this.readable=!1),e.writable===!1&&(this.writable=!1),e.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",N_)))}Object.defineProperty(kt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(kt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(kt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function N_(){this._writableState.ended||b.nextTick(O_,this)}function O_(e){e.end()}Object.defineProperty(kt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}})});var Ec=E(Cf=>{"use strict";u();d();l();var vc=Dt().Buffer,xf=vc.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function B_(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function L_(e){var t=B_(e);if(typeof t!="string"&&(vc.isEncoding===xf||!xf(e)))throw new Error("Unknown encoding: "+e);return t||e}Cf.StringDecoder=Pn;function Pn(e){this.encoding=L_(e);var t;switch(this.encoding){case"utf16le":this.text=H_,this.end=$_,t=4;break;case"utf8":this.fillLast=F_,t=4;break;case"base64":this.text=W_,this.end=V_,t=3;break;default:this.write=z_,this.end=J_;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=vc.allocUnsafe(t)}Pn.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};Pn.prototype.end=U_;Pn.prototype.text=q_;Pn.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function wc(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function j_(e,t,r){var n=t.length-1;if(n<r)return 0;var i=wc(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=wc(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=wc(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function D_(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function F_(e){var t=this.lastTotal-this.lastNeed,r=D_(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function q_(e,t){var r=j_(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function U_(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function H_(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function $_(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function W_(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function V_(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function z_(e){return e.toString(this.encoding)}function J_(e){return e&&e.length?this.write(e):""}});var es=E((D8,Mf)=>{"use strict";u();d();l();var Af=lr().codes.ERR_STREAM_PREMATURE_CLOSE;function G_(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}function Z_(){}function Q_(e){return e.setHeader&&typeof e.abort=="function"}function If(e,t,r){if(typeof t=="function")return If(e,null,t);t||(t={}),r=G_(r||Z_);var n=t.readable||t.readable!==!1&&e.readable,i=t.writable||t.writable!==!1&&e.writable,s=function(){e.writable||a()},o=e._writableState&&e._writableState.finished,a=function(){i=!1,o=!0,n||r.call(e)},c=e._readableState&&e._readableState.endEmitted,f=function(){n=!1,c=!0,i||r.call(e)},h=function(L){r.call(e,L)},_=function(){var L;if(n&&!c)return(!e._readableState||!e._readableState.ended)&&(L=new Af),r.call(e,L);if(i&&!o)return(!e._writableState||!e._writableState.ended)&&(L=new Af),r.call(e,L)},S=function(){e.req.on("finish",a)};return Q_(e)?(e.on("complete",a),e.on("abort",_),e.req?S():e.on("request",S)):i&&!e._writableState&&(e.on("end",s),e.on("close",s)),e.on("end",f),e.on("finish",a),t.error!==!1&&e.on("error",h),e.on("close",_),function(){e.removeListener("complete",a),e.removeListener("abort",_),e.removeListener("request",S),e.req&&e.req.removeListener("finish",a),e.removeListener("end",s),e.removeListener("close",s),e.removeListener("finish",a),e.removeListener("end",f),e.removeListener("error",h),e.removeListener("close",_)}}Mf.exports=If});var Tf=E((H8,Pf)=>{"use strict";u();d();l();var ts;function Jt(e,t,r){return t=K_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K_(e){var t=Y_(e,"string");return typeof t=="symbol"?t:String(t)}function Y_(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X_=es(),Gt=Symbol("lastResolve"),fr=Symbol("lastReject"),Tn=Symbol("error"),rs=Symbol("ended"),hr=Symbol("lastPromise"),Sc=Symbol("handlePromise"),pr=Symbol("stream");function Zt(e,t){return{value:e,done:t}}function ew(e){var t=e[Gt];if(t!==null){var r=e[pr].read();r!==null&&(e[hr]=null,e[Gt]=null,e[fr]=null,t(Zt(r,!1)))}}function tw(e){b.nextTick(ew,e)}function rw(e,t){return function(r,n){e.then(function(){if(t[rs]){r(Zt(void 0,!0));return}t[Sc](r,n)},n)}}var nw=Object.getPrototypeOf(function(){}),iw=Object.setPrototypeOf((ts={get stream(){return this[pr]},next:function(){var t=this,r=this[Tn];if(r!==null)return Promise.reject(r);if(this[rs])return Promise.resolve(Zt(void 0,!0));if(this[pr].destroyed)return new Promise(function(o,a){b.nextTick(function(){t[Tn]?a(t[Tn]):o(Zt(void 0,!0))})});var n=this[hr],i;if(n)i=new Promise(rw(n,this));else{var s=this[pr].read();if(s!==null)return Promise.resolve(Zt(s,!1));i=new Promise(this[Sc])}return this[hr]=i,i}},Jt(ts,Symbol.asyncIterator,function(){return this}),Jt(ts,"return",function(){var t=this;return new Promise(function(r,n){t[pr].destroy(null,function(i){if(i){n(i);return}r(Zt(void 0,!0))})})}),ts),nw),sw=function(t){var r,n=Object.create(iw,(r={},Jt(r,pr,{value:t,writable:!0}),Jt(r,Gt,{value:null,writable:!0}),Jt(r,fr,{value:null,writable:!0}),Jt(r,Tn,{value:null,writable:!0}),Jt(r,rs,{value:t._readableState.endEmitted,writable:!0}),Jt(r,Sc,{value:function(s,o){var a=n[pr].read();a?(n[hr]=null,n[Gt]=null,n[fr]=null,s(Zt(a,!1))):(n[Gt]=s,n[fr]=o)},writable:!0}),r));return n[hr]=null,X_(t,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=n[fr];s!==null&&(n[hr]=null,n[Gt]=null,n[fr]=null,s(i)),n[Tn]=i;return}var o=n[Gt];o!==null&&(n[hr]=null,n[Gt]=null,n[fr]=null,o(Zt(void 0,!0))),n[rs]=!0}),t.on("readable",tw.bind(null,n)),n};Pf.exports=sw});var Of=E((z8,Nf)=>{u();d();l();Nf.exports=function(){throw new Error("Readable.from is not available in the browser")}});var _c=E((K8,Wf)=>{"use strict";u();d();l();Wf.exports=ae;var Hr;ae.ReadableState=Df;var Q8=(Yn(),pe(Kn)).EventEmitter,jf=function(t,r){return t.listeners(r).length},On=ma(),ns=(Mo(),pe(Io)).Buffer,ow=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function aw(e){return ns.from(e)}function cw(e){return ns.isBuffer(e)||e instanceof ow}var kc=(cc(),pe(ac)),K;kc&&kc.debuglog?K=kc.debuglog("stream"):K=function(){};var uw=uf(),Pc=dc(),lw=fc(),dw=lw.getHighWaterMark,is=lr().codes,fw=is.ERR_INVALID_ARG_TYPE,hw=is.ERR_STREAM_PUSH_AFTER_EOF,pw=is.ERR_METHOD_NOT_IMPLEMENTED,gw=is.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,$r,Rc,xc;ot()(ae,On);var Nn=Pc.errorOrDestroy,Cc=["error","close","destroy","pause","resume"];function yw(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function Df(e,t,r){Hr=Hr||dr(),e=e||{},typeof r!="boolean"&&(r=t instanceof Hr),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=dw(this,e,"readableHighWaterMark",r),this.buffer=new uw,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&($r||($r=Ec().StringDecoder),this.decoder=new $r(e.encoding),this.encoding=e.encoding)}function ae(e){if(Hr=Hr||dr(),!(this instanceof ae))return new ae(e);var t=this instanceof Hr;this._readableState=new Df(e,this,t),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),On.call(this)}Object.defineProperty(ae.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}});ae.prototype.destroy=Pc.destroy;ae.prototype._undestroy=Pc.undestroy;ae.prototype._destroy=function(e,t){t(e)};ae.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=ns.from(e,t),t=""),n=!0),Ff(this,e,t,!1,n)};ae.prototype.unshift=function(e){return Ff(this,e,null,!0,!1)};function Ff(e,t,r,n,i){K("readableAddChunk",t);var s=e._readableState;if(t===null)s.reading=!1,_w(e,s);else{var o;if(i||(o=bw(s,t)),o)Nn(e,o);else if(s.objectMode||t&&t.length>0)if(typeof t!="string"&&!s.objectMode&&Object.getPrototypeOf(t)!==ns.prototype&&(t=aw(t)),n)s.endEmitted?Nn(e,new gw):Ac(e,s,t,!0);else if(s.ended)Nn(e,new hw);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||t.length!==0?Ac(e,s,t,!1):Mc(e,s)):Ac(e,s,t,!1)}else n||(s.reading=!1,Mc(e,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function Ac(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&ss(e)),Mc(e,t)}function bw(e,t){var r;return!cw(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new fw("chunk",["string","Buffer","Uint8Array"],t)),r}ae.prototype.isPaused=function(){return this._readableState.flowing===!1};ae.prototype.setEncoding=function(e){$r||($r=Ec().StringDecoder);var t=new $r(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var Bf=1073741824;function mw(e){return e>=Bf?e=Bf:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function Lf(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=mw(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}ae.prototype.read=function(e){K("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return K("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?Ic(this):ss(this),null;if(e=Lf(e,t),e===0&&t.ended)return t.length===0&&Ic(this),null;var n=t.needReadable;K("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,K("length less than watermark",n)),t.ended||t.reading?(n=!1,K("reading or ended",n)):n&&(K("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Lf(r,t)));var i;return e>0?i=Hf(e,t):i=null,i===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&Ic(this)),i!==null&&this.emit("data",i),i};function _w(e,t){if(K("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?ss(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,qf(e)))}}function ss(e){var t=e._readableState;K("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(K("emitReadable",t.flowing),t.emittedReadable=!0,b.nextTick(qf,e))}function qf(e){var t=e._readableState;K("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,Tc(e)}function Mc(e,t){t.readingMore||(t.readingMore=!0,b.nextTick(ww,e,t))}function ww(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){var r=t.length;if(K("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}ae.prototype._read=function(e){Nn(this,new pw("_read()"))};ae.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,K("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||t.end!==!1)&&e!==b.stdout&&e!==b.stderr,s=i?a:O;n.endEmitted?b.nextTick(s):r.once("end",s),e.on("unpipe",o);function o(T,N){K("onunpipe"),T===r&&N&&N.hasUnpiped===!1&&(N.hasUnpiped=!0,h())}function a(){K("onend"),e.end()}var c=vw(r);e.on("drain",c);var f=!1;function h(){K("cleanup"),e.removeListener("close",A),e.removeListener("finish",L),e.removeListener("drain",c),e.removeListener("error",S),e.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",O),r.removeListener("data",_),f=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&c()}r.on("data",_);function _(T){K("ondata");var N=e.write(T);K("dest.write",N),N===!1&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&$f(n.pipes,e)!==-1)&&!f&&(K("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function S(T){K("onerror",T),O(),e.removeListener("error",S),jf(e,"error")===0&&Nn(e,T)}yw(e,"error",S);function A(){e.removeListener("finish",L),O()}e.once("close",A);function L(){K("onfinish"),e.removeListener("close",A),O()}e.once("finish",L);function O(){K("unpipe"),r.unpipe(e)}return e.emit("pipe",r),n.flowing||(K("pipe resume"),r.resume()),e};function vw(e){return function(){var r=e._readableState;K("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&jf(e,"data")&&(r.flowing=!0,Tc(e))}}ae.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=$f(t.pipes,e);return o===-1?this:(t.pipes.splice(o,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};ae.prototype.on=function(e,t){var r=On.prototype.on.call(this,e,t),n=this._readableState;return e==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):e==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,K("on readable",n.length,n.reading),n.length?ss(this):n.reading||b.nextTick(Ew,this)),r};ae.prototype.addListener=ae.prototype.on;ae.prototype.removeListener=function(e,t){var r=On.prototype.removeListener.call(this,e,t);return e==="readable"&&b.nextTick(Uf,this),r};ae.prototype.removeAllListeners=function(e){var t=On.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&b.nextTick(Uf,this),t};function Uf(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function Ew(e){K("readable nexttick read 0"),e.read(0)}ae.prototype.resume=function(){var e=this._readableState;return e.flowing||(K("resume"),e.flowing=!e.readableListening,Sw(this,e)),e.paused=!1,this};function Sw(e,t){t.resumeScheduled||(t.resumeScheduled=!0,b.nextTick(kw,e,t))}function kw(e,t){K("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),Tc(e),t.flowing&&!t.reading&&e.read(0)}ae.prototype.pause=function(){return K("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(K("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Tc(e){var t=e._readableState;for(K("flow",t.flowing);t.flowing&&e.read()!==null;);}ae.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(K("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&t.push(o)}t.push(null)}),e.on("data",function(o){if(K("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=t.push(o);a||(n=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(a){return function(){return e[a].apply(e,arguments)}}(i));for(var s=0;s<Cc.length;s++)e.on(Cc[s],this.emit.bind(this,Cc[s]));return this._read=function(o){K("wrapped _read",o),n&&(n=!1,e.resume())},this};typeof Symbol=="function"&&(ae.prototype[Symbol.asyncIterator]=function(){return Rc===void 0&&(Rc=Tf()),Rc(this)});Object.defineProperty(ae.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(ae.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(ae.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}});ae._fromList=Hf;Object.defineProperty(ae.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Hf(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.first():r=t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function Ic(e){var t=e._readableState;K("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,b.nextTick(Rw,t,e))}function Rw(e,t){if(K("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}typeof Symbol=="function"&&(ae.from=function(e,t){return xc===void 0&&(xc=Of()),xc(ae,e,t)});function $f(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}});var Nc=E((tk,zf)=>{"use strict";u();d();l();zf.exports=Ot;var os=lr().codes,xw=os.ERR_METHOD_NOT_IMPLEMENTED,Cw=os.ERR_MULTIPLE_CALLBACK,Aw=os.ERR_TRANSFORM_ALREADY_TRANSFORMING,Iw=os.ERR_TRANSFORM_WITH_LENGTH_0,as=dr();ot()(Ot,as);function Mw(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new Cw);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Ot(e){if(!(this instanceof Ot))return new Ot(e);as.call(this,e),this._transformState={afterTransform:Mw.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",Pw)}function Pw(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){Vf(e,t,r)}):Vf(this,null,null)}Ot.prototype.push=function(e,t){return this._transformState.needTransform=!1,as.prototype.push.call(this,e,t)};Ot.prototype._transform=function(e,t,r){r(new xw("_transform()"))};Ot.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Ot.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Ot.prototype._destroy=function(e,t){as.prototype._destroy.call(this,e,function(r){t(r)})};function Vf(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new Iw;if(e._transformState.transforming)throw new Aw;return e.push(null)}});var Zf=E((sk,Gf)=>{"use strict";u();d();l();Gf.exports=Bn;var Jf=Nc();ot()(Bn,Jf);function Bn(e){if(!(this instanceof Bn))return new Bn(e);Jf.call(this,e)}Bn.prototype._transform=function(e,t,r){r(null,e)}});var eh=E((uk,Xf)=>{"use strict";u();d();l();var Oc;function Tw(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var Yf=lr().codes,Nw=Yf.ERR_MISSING_ARGS,Ow=Yf.ERR_STREAM_DESTROYED;function Qf(e){if(e)throw e}function Bw(e){return e.setHeader&&typeof e.abort=="function"}function Lw(e,t,r,n){n=Tw(n);var i=!1;e.on("close",function(){i=!0}),Oc===void 0&&(Oc=es()),Oc(e,{readable:t,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,Bw(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();n(o||new Ow("pipe"))}}}function Kf(e){e()}function jw(e,t){return e.pipe(t)}function Dw(e){return!e.length||typeof e[e.length-1]!="function"?Qf:e.pop()}function Fw(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=Dw(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Nw("streams");var i,s=t.map(function(o,a){var c=a<t.length-1,f=a>0;return Lw(o,c,f,function(h){i||(i=h),h&&s.forEach(Kf),!c&&(s.forEach(Kf),n(i))})});return t.reduce(jw)}Xf.exports=Fw});var Bc=E((ut,th)=>{u();d();l();ut=th.exports=_c();ut.Stream=ut;ut.Readable=ut;ut.Writable=yc();ut.Duplex=dr();ut.Transform=Nc();ut.PassThrough=Zf();ut.finished=es();ut.pipeline=eh()});var ih=E((yk,nh)=>{u();d();l();var{Transform:qw}=Bc();nh.exports=e=>class rh extends qw{constructor(r,n,i,s,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new e,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!y.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return y.isBuffer(r)||(r=y.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){let r=new rh(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}}});var ah=E((wk,oh)=>{u();d();l();var{Transform:Uw}=Bc();oh.exports=e=>class sh extends Uw{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new e,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!y.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return y.isBuffer(r)||(r=y.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){let r=new sh(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}}});var uh=E((kk,ch)=>{u();d();l();var Hw=ih(),$w=ah();ch.exports=function(e){let t=Hw(e),r=$w(e);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new t(1152,448,null,224,i);case"keccak256":return new t(1088,512,null,256,i);case"keccak384":return new t(832,768,null,384,i);case"keccak512":return new t(576,1024,null,512,i);case"sha3-224":return new t(1152,448,6,224,i);case"sha3-256":return new t(1088,512,6,256,i);case"sha3-384":return new t(832,768,6,384,i);case"sha3-512":return new t(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}}});var fh=E(dh=>{u();d();l();var lh=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];dh.p1600=function(e){for(let t=0;t<24;++t){let r=e[0]^e[10]^e[20]^e[30]^e[40],n=e[1]^e[11]^e[21]^e[31]^e[41],i=e[2]^e[12]^e[22]^e[32]^e[42],s=e[3]^e[13]^e[23]^e[33]^e[43],o=e[4]^e[14]^e[24]^e[34]^e[44],a=e[5]^e[15]^e[25]^e[35]^e[45],c=e[6]^e[16]^e[26]^e[36]^e[46],f=e[7]^e[17]^e[27]^e[37]^e[47],h=e[8]^e[18]^e[28]^e[38]^e[48],_=e[9]^e[19]^e[29]^e[39]^e[49],S=h^(i<<1|s>>>31),A=_^(s<<1|i>>>31),L=e[0]^S,O=e[1]^A,T=e[10]^S,N=e[11]^A,M=e[20]^S,P=e[21]^A,j=e[30]^S,X=e[31]^A,ie=e[40]^S,re=e[41]^A;S=r^(o<<1|a>>>31),A=n^(a<<1|o>>>31);let Te=e[2]^S,Ee=e[3]^A,be=e[12]^S,he=e[13]^A,se=e[22]^S,ye=e[23]^A,xe=e[32]^S,Se=e[33]^A,Ge=e[42]^S,me=e[43]^A;S=i^(c<<1|f>>>31),A=s^(f<<1|c>>>31);let ne=e[4]^S,ee=e[5]^A,ue=e[14]^S,fe=e[15]^A,w=e[24]^S,R=e[25]^A,x=e[34]^S,U=e[35]^A,F=e[44]^S,W=e[45]^A;S=o^(h<<1|_>>>31),A=a^(_<<1|h>>>31);let $=e[6]^S,H=e[7]^A,te=e[16]^S,ge=e[17]^A,Fe=e[26]^S,yt=e[27]^A,Ye=e[36]^S,Pt=e[37]^A,Er=e[46]^S,Sr=e[47]^A;S=c^(r<<1|n>>>31),A=f^(n<<1|r>>>31);let C=e[8]^S,kr=e[9]^A,dn=e[18]^S,Jn=e[19]^A,Gn=e[28]^S,Zn=e[29]^A,bt=e[38]^S,p=e[39]^A,g=e[48]^S,m=e[49]^A,k=L,B=O,V=N<<4|T>>>28,le=T<<4|N>>>28,we=M<<3|P>>>29,ve=P<<3|M>>>29,_e=X<<9|j>>>23,He=j<<9|X>>>23,fn=ie<<18|re>>>14,hn=re<<18|ie>>>14,jt=Te<<1|Ee>>>31,$s=Ee<<1|Te>>>31,Ws=he<<12|be>>>20,Vs=be<<12|he>>>20,zs=se<<10|ye>>>22,Js=ye<<10|se>>>22,Gs=Se<<13|xe>>>19,Zs=xe<<13|Se>>>19,Qs=Ge<<2|me>>>30,Ks=me<<2|Ge>>>30,Ys=ee<<30|ne>>>2,Xs=ne<<30|ee>>>2,eo=ue<<6|fe>>>26,to=fe<<6|ue>>>26,ro=R<<11|w>>>21,no=w<<11|R>>>21,io=x<<15|U>>>17,so=U<<15|x>>>17,oo=W<<29|F>>>3,ao=F<<29|W>>>3,co=$<<28|H>>>4,uo=H<<28|$>>>4,lo=ge<<23|te>>>9,fo=te<<23|ge>>>9,ho=Fe<<25|yt>>>7,po=yt<<25|Fe>>>7,go=Ye<<21|Pt>>>11,yo=Pt<<21|Ye>>>11,bo=Sr<<24|Er>>>8,mo=Er<<24|Sr>>>8,_o=C<<27|kr>>>5,wo=kr<<27|C>>>5,vo=dn<<20|Jn>>>12,Eo=Jn<<20|dn>>>12,So=Zn<<7|Gn>>>25,ko=Gn<<7|Zn>>>25,Ro=bt<<8|p>>>24,xo=p<<8|bt>>>24,Co=g<<14|m>>>18,Ao=m<<14|g>>>18;e[0]=k^~Ws&ro,e[1]=B^~Vs&no,e[10]=co^~vo&we,e[11]=uo^~Eo&ve,e[20]=jt^~eo&ho,e[21]=$s^~to&po,e[30]=_o^~V&zs,e[31]=wo^~le&Js,e[40]=Ys^~lo&So,e[41]=Xs^~fo&ko,e[2]=Ws^~ro&go,e[3]=Vs^~no&yo,e[12]=vo^~we&Gs,e[13]=Eo^~ve&Zs,e[22]=eo^~ho&Ro,e[23]=to^~po&xo,e[32]=V^~zs&io,e[33]=le^~Js&so,e[42]=lo^~So&_e,e[43]=fo^~ko&He,e[4]=ro^~go&Co,e[5]=no^~yo&Ao,e[14]=we^~Gs&oo,e[15]=ve^~Zs&ao,e[24]=ho^~Ro&fn,e[25]=po^~xo&hn,e[34]=zs^~io&bo,e[35]=Js^~so&mo,e[44]=So^~_e&Qs,e[45]=ko^~He&Ks,e[6]=go^~Co&k,e[7]=yo^~Ao&B,e[16]=Gs^~oo&co,e[17]=Zs^~ao&uo,e[26]=Ro^~fn&jt,e[27]=xo^~hn&$s,e[36]=io^~bo&_o,e[37]=so^~mo&wo,e[46]=_e^~Qs&Ys,e[47]=He^~Ks&Xs,e[8]=Co^~k&Ws,e[9]=Ao^~B&Vs,e[18]=oo^~co&vo,e[19]=ao^~uo&Eo,e[28]=fn^~jt&eo,e[29]=hn^~$s&to,e[38]=bo^~_o&V,e[39]=mo^~wo&le,e[48]=Qs^~Ys&lo,e[49]=Ks^~Xs&fo,e[0]^=lh[t*2],e[1]^=lh[t*2+1]}}});var ph=E((Tk,hh)=>{u();d();l();var cs=fh();function Wr(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Wr.prototype.initialize=function(e,t){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1};Wr.prototype.absorb=function(e){for(let t=0;t<e.length;++t)this.state[~~(this.count/4)]^=e[t]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(cs.p1600(this.state),this.count=0)};Wr.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<8*(this.count%4),(e&128)!==0&&this.count===this.blockSize-1&&cs.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),cs.p1600(this.state),this.count=0,this.squeezing=!0};Wr.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);let t=y.alloc(e);for(let r=0;r<e;++r)t[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(cs.p1600(this.state),this.count=0);return t};Wr.prototype.copy=function(e){for(let t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing};hh.exports=Wr});var yh=E((Lk,gh)=>{u();d();l();gh.exports=uh()(ph())});var Lc=E((qk,vh)=>{u();d();l();var Ww=yh(),Vw=ti();function bh(e){return y.allocUnsafe(e).fill(0)}function mh(e,t,r){let n=bh(t);return e=us(e),r?e.length<t?(e.copy(n),n):e.slice(0,t):e.length<t?(e.copy(n,t-e.length),n):e.slice(-t)}function zw(e,t){return mh(e,t,!0)}function us(e){if(!y.isBuffer(e))if(Array.isArray(e))e=y.from(e);else if(typeof e=="string")_h(e)?e=y.from(Zw(wh(e)),"hex"):e=y.from(e);else if(typeof e=="number")e=intToBuffer(e);else if(e==null)e=y.allocUnsafe(0);else if(Vw.isBN(e))e=e.toArrayLike(y);else if(e.toArray)e=y.from(e.toArray());else throw new Error("invalid type");return e}function Jw(e){return e=us(e),"0x"+e.toString("hex")}function Gw(e,t){return e=us(e),t||(t=256),Ww("keccak"+t).update(e).digest()}function Zw(e){return e.length%2?"0"+e:e}function _h(e){return typeof e=="string"&&e.match(/^0x[0-9A-Fa-f]*$/)}function wh(e){return typeof e=="string"&&e.startsWith("0x")?e.slice(2):e}vh.exports={zeros:bh,setLength:mh,setLengthRight:zw,isHexString:_h,stripHexPrefix:wh,toBuffer:us,bufferToHex:Jw,keccak:Gw}});var Ch=E((Wk,xh)=>{u();d();l();var br=Lc(),yr=ti();function Sh(e){return e.startsWith("int[")?"int256"+e.slice(3):e==="int"?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):e==="uint"?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):e==="fixed"?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):e==="ufixed"?"ufixed128x128":e}function Vr(e){return parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function Eh(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[parseInt(t[1],10),parseInt(t[2],10)]}function kh(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?t[2]===""?"dynamic":parseInt(t[2],10):null}function gr(e){var t=typeof e;if(t==="string")return br.isHexString(e)?new yr(br.stripHexPrefix(e),16):new yr(e,10);if(t==="number")return new yr(e);if(e.toArray)return e;throw new Error("Argument is not a number")}function Rt(e,t){var r,n,i,s;if(e==="address")return Rt("uint160",gr(t));if(e==="bool")return Rt("uint8",t?1:0);if(e==="string")return Rt("bytes",new y(t,"utf8"));if(Kw(e)){if(typeof t.length>"u")throw new Error("Not an array?");if(r=kh(e),r!=="dynamic"&&r!==0&&t.length>r)throw new Error("Elements exceed array size: "+r);i=[],e=e.slice(0,e.lastIndexOf("[")),typeof t=="string"&&(t=JSON.parse(t));for(s in t)i.push(Rt(e,t[s]));if(r==="dynamic"){var o=Rt("uint256",t.length);i.unshift(o)}return y.concat(i)}else{if(e==="bytes")return t=new y(t),i=y.concat([Rt("uint256",t.length),t]),t.length%32!==0&&(i=y.concat([i,br.zeros(32-t.length%32)])),i;if(e.startsWith("bytes")){if(r=Vr(e),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return br.setLengthRight(t,32)}else if(e.startsWith("uint")){if(r=Vr(e),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=gr(t),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(y,"be",32)}else if(e.startsWith("int")){if(r=Vr(e),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=gr(t),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(y,"be",32)}else if(e.startsWith("ufixed")){if(r=Eh(e),n=gr(t),n<0)throw new Error("Supplied ufixed is negative");return Rt("uint256",n.mul(new yr(2).pow(new yr(r[1]))))}else if(e.startsWith("fixed"))return r=Eh(e),Rt("int256",gr(t).mul(new yr(2).pow(new yr(r[1]))))}throw new Error("Unsupported or invalid type: "+e)}function Qw(e){return e==="string"||e==="bytes"||kh(e)==="dynamic"}function Kw(e){return e.lastIndexOf("]")===e.length-1}function Yw(e,t){var r=[],n=[],i=32*e.length;for(var s in e){var o=Sh(e[s]),a=t[s],c=Rt(o,a);Qw(o)?(r.push(Rt("uint256",i)),n.push(c),i+=c.length):r.push(c)}return y.concat(r.concat(n))}function Rh(e,t){if(e.length!==t.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<e.length;s++){var o=Sh(e[s]),a=t[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new y(a,"utf8"));else if(o==="bool")i.push(new y(a?"01":"00","hex"));else if(o==="address")i.push(br.setLength(a,20));else if(o.startsWith("bytes")){if(r=Vr(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(br.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=Vr(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=gr(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(y,"be",r/8))}else if(o.startsWith("int")){if(r=Vr(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=gr(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(y,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return y.concat(i)}function Xw(e,t){return br.keccak(Rh(e,t))}xh.exports={rawEncode:Yw,solidityPack:Rh,soliditySHA3:Xw}});var Mh=E((Gk,Ih)=>{u();d();l();var ht=Lc(),Ln=Ch(),Ah={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},jc={encodeData(e,t,r,n=!0){let i=["bytes32"],s=[this.hashType(e,r)];if(n){let o=(a,c,f)=>{if(r[c]!==void 0)return["bytes32",f==null?"0x0000000000000000000000000000000000000000000000000000000000000000":ht.keccak(this.encodeData(c,f,r,n))];if(f===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",ht.keccak(f)];if(c==="string")return typeof f=="string"&&(f=y.from(f,"utf8")),["bytes32",ht.keccak(f)];if(c.lastIndexOf("]")===c.length-1){let h=c.slice(0,c.lastIndexOf("[")),_=f.map(S=>o(a,h,S));return["bytes32",ht.keccak(Ln.rawEncode(_.map(([S])=>S),_.map(([,S])=>S)))]}return[c,f]};for(let a of r[e]){let[c,f]=o(a.name,a.type,t[a.name]);i.push(c),s.push(f)}}else for(let o of r[e]){let a=t[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=ht.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=y.from(a,"utf8")),a=ht.keccak(a),s.push(a);else if(r[o.type]!==void 0)i.push("bytes32"),a=ht.keccak(this.encodeData(o.type,a,r,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return Ln.rawEncode(i,s)},encodeType(e,t){let r="",n=this.findTypeDependencies(e,t).filter(i=>i!==e);n=[e].concat(n.sort());for(let i of n){if(!t[i])throw new Error("No type definition specified: "+i);r+=i+"("+t[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(e,t,r=[]){if(e=e.match(/^\w*/)[0],r.includes(e)||t[e]===void 0)return r;r.push(e);for(let n of t[e])for(let i of this.findTypeDependencies(n.type,t,r))!r.includes(i)&&r.push(i);return r},hashStruct(e,t,r,n=!0){return ht.keccak(this.encodeData(e,t,r,n))},hashType(e,t){return ht.keccak(this.encodeType(e,t))},sanitizeData(e){let t={};for(let r in Ah.properties)e[r]&&(t[r]=e[r]);return t.types&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t},hash(e,t=!0){let r=this.sanitizeData(e),n=[y.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,t)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,t)),ht.keccak(y.concat(n))}};Ih.exports={TYPED_MESSAGE_SCHEMA:Ah,TypedDataUtils:jc,hashForSignTypedDataLegacy:function(e){return e2(e.data)},hashForSignTypedData_v3:function(e){return jc.hash(e.data,!1)},hashForSignTypedData_v4:function(e){return jc.hash(e.data)}};function e2(e){let t=new Error("Expect argument to be non-empty array");if(typeof e!="object"||!e.length)throw t;let r=e.map(function(s){return s.type==="bytes"?ht.toBuffer(s.value):s.value}),n=e.map(function(s){return s.type}),i=e.map(function(s){if(!s.name)throw t;return s.type+" "+s.name});return Ln.soliditySHA3(["bytes32","bytes32"],[Ln.soliditySHA3(new Array(e.length).fill("string"),i),Ln.soliditySHA3(n,r)])}});var Bh=E(Jr=>{"use strict";u();d();l();Object.defineProperty(Jr,"__esModule",{value:!0});Jr.filterFromParam=Jr.FilterPolyfill=void 0;var zr=mn(),ze=mt(),t2=5*60*1e3,mr={jsonrpc:"2.0",id:0},Dc=class{constructor(t){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,zr.IntNumber)(1),this.REQUEST_THROTTLE_INTERVAL=1e3,this.lastFetchTimestamp=new Date(0),this.resolvers=[],this.provider=t}async newFilter(t){let r=Oh(t),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.info(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,ze.hexStringFromIntNumber)(n)}async newBlockFilter(){let t=this.makeFilterId(),r=await this.setInitialCursorPosition(t,"latest");return console.info(`Installing new block filter (${t}) with initial cursor position:`,r),this.blockFilters.add(t),this.setFilterTimeout(t),(0,ze.hexStringFromIntNumber)(t)}async newPendingTransactionFilter(){let t=this.makeFilterId(),r=await this.setInitialCursorPosition(t,"latest");return console.info(`Installing new block filter (${t}) with initial cursor position:`,r),this.pendingTransactionFilters.add(t),this.setFilterTimeout(t),(0,ze.hexStringFromIntNumber)(t)}uninstallFilter(t){let r=(0,ze.intNumberFromHexString)(t);return console.info(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(t){let r=(0,ze.intNumberFromHexString)(t);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(ls())}async getFilterLogs(t){let r=(0,ze.intNumberFromHexString)(t),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},mr),{method:"eth_getLogs",params:[Ph(n)]})):ls()}makeFilterId(){return(0,zr.IntNumber)(++this.nextFilterId)}sendAsyncPromise(t){return new Promise((r,n)=>{this.provider.sendAsync(t,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));r(s)})})}deleteFilter(t){console.info(`Deleting filter (${t})`),this.logFilters.delete(t),this.blockFilters.delete(t),this.pendingTransactionFilters.delete(t),this.cursors.delete(t),this.timeouts.delete(t)}async getLogFilterChanges(t){let r=this.logFilters.get(t),n=this.cursors.get(t);if(!n||!r)return ls();let i=await this.getCurrentBlockHeight(),s=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>Number(r.toBlock))return ds();console.info(`Fetching logs from ${n} to ${s} for filter ${t}`);let o=await this.sendAsyncPromise(Object.assign(Object.assign({},mr),{method:"eth_getLogs",params:[Ph(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(o.result)){let a=o.result.map(f=>(0,ze.intNumberFromHexString)(f.blockNumber||"0x0")),c=Math.max(...a);if(c&&c>n){let f=(0,zr.IntNumber)(c+1);console.info(`Moving cursor position for filter (${t}) from ${n} to ${f}`),this.cursors.set(t,f)}}return o}async getBlockFilterChanges(t){let r=this.cursors.get(t);if(!r)return ls();let n=await this.getCurrentBlockHeight();if(r>n)return ds();console.info(`Fetching blocks from ${r} to ${n} for filter (${t})`);let i=(await Promise.all((0,ze.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,zr.IntNumber)(o))))).filter(o=>!!o),s=(0,zr.IntNumber)(r+i.length);return console.info(`Moving cursor position for filter (${t}) from ${r} to ${s}`),this.cursors.set(t,s),Object.assign(Object.assign({},mr),{result:i})}async getPendingTransactionFilterChanges(t){return Promise.resolve(ds())}async setInitialCursorPosition(t,r){let n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(t,i),i}setFilterTimeout(t){let r=this.timeouts.get(t);r&&window.clearTimeout(r);let n=window.setTimeout(()=>{console.info(`Filter (${t}) timed out`),this.deleteFilter(t)},t2);this.timeouts.set(t,n)}async getCurrentBlockHeight(){let t=new Date;if(t.getTime()-this.lastFetchTimestamp.getTime()>this.REQUEST_THROTTLE_INTERVAL){this.lastFetchTimestamp=t;let r=await this._getCurrentBlockHeight();this.currentBlockHeight=r,this.resolvers.forEach(n=>n(r)),this.resolvers=[]}return this.currentBlockHeight?this.currentBlockHeight:new Promise(r=>this.resolvers.push(r))}async _getCurrentBlockHeight(){let{result:t}=await this.sendAsyncPromise(Object.assign(Object.assign({},mr),{method:"eth_blockNumber",params:[]}));return(0,ze.intNumberFromHexString)((0,ze.ensureHexString)(t))}async getBlockHashByNumber(t){let r=await this.sendAsyncPromise(Object.assign(Object.assign({},mr),{method:"eth_getBlockByNumber",params:[(0,ze.hexStringFromIntNumber)(t),!1]}));return r.result&&typeof r.result.hash=="string"?(0,ze.ensureHexString)(r.result.hash):null}};Jr.FilterPolyfill=Dc;function Oh(e){return{fromBlock:Th(e.fromBlock),toBlock:Th(e.toBlock),addresses:e.address===void 0?null:Array.isArray(e.address)?e.address:[e.address],topics:e.topics||[]}}Jr.filterFromParam=Oh;function Ph(e){let t={fromBlock:Nh(e.fromBlock),toBlock:Nh(e.toBlock),topics:e.topics};return e.addresses!==null&&(t.address=e.addresses),t}function Th(e){if(e===void 0||e==="latest"||e==="pending")return"latest";if(e==="earliest")return(0,zr.IntNumber)(0);if((0,ze.isHexString)(e))return(0,ze.intNumberFromHexString)(e);throw new Error(`Invalid block option: ${String(e)}`)}function Nh(e){return e==="latest"?e:(0,ze.hexStringFromIntNumber)(e)}function ls(){return Object.assign(Object.assign({},mr),{error:{code:-32e3,message:"filter not found"}})}function ds(){return Object.assign(Object.assign({},mr),{result:[]})}});var fs=E((rR,Lh)=>{u();d();l();Lh.exports=r2;function r2(e){e=e||{};var t=e.max||Number.MAX_SAFE_INTEGER,r=typeof e.start<"u"?e.start:Math.floor(Math.random()*t);return function(){return r=r%t,r++}}});var Fh=E((oR,Dh)=>{"use strict";u();d();l();var jh=(e,t)=>function(){let r=t.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,s)=>{t.errorFirst?n.push(function(o,a){if(t.multiArgs){let c=new Array(arguments.length-1);for(let f=1;f<arguments.length;f++)c[f-1]=arguments[f];o?(c.unshift(o),s(c)):i(c)}else o?s(o):i(a)}):n.push(function(o){if(t.multiArgs){let a=new Array(arguments.length-1);for(let c=0;c<arguments.length;c++)a[c]=arguments[c];i(a)}else i(o)}),e.apply(this,n)})};Dh.exports=(e,t)=>{t=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},t);let r=i=>{let s=o=>typeof o=="string"?i===o:o.test(i);return t.include?t.include.some(s):!t.exclude.some(s)},n;typeof e=="function"?n=function(){return t.excludeMain?e.apply(this,arguments):jh(e,t).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(e));for(let i in e){let s=e[i];n[i]=typeof s=="function"&&r(i)?jh(s,t):s}return n}});var hs=E(qc=>{"use strict";u();d();l();Object.defineProperty(qc,"__esModule",{value:!0});var n2=(Yn(),pe(Kn));function qh(e,t,r){try{Reflect.apply(e,t,r)}catch(n){setTimeout(()=>{throw n})}}function i2(e){let t=e.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}var Fc=class extends n2.EventEmitter{emit(t,...r){let n=t==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;let a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}let s=i[t];if(s===void 0)return!1;if(typeof s=="function")qh(s,this,r);else{let o=s.length,a=i2(s);for(let c=0;c<o;c+=1)qh(a[c],this,r)}return!0}};qc.default=Fc});var Hc=E(Gr=>{"use strict";u();d();l();var s2=Gr&&Gr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gr,"__esModule",{value:!0});Gr.BaseBlockTracker=void 0;var o2=s2(hs()),a2=1e3,c2=(e,t)=>e+t,Uh=["sync","latest"],Uc=class extends o2.default{constructor(t){super(),this._blockResetDuration=t.blockResetDuration||20*a2,this._usePastBlocks=t.usePastBlocks||!1,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(t){return t?super.removeAllListeners(t):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(t){Uh.includes(t)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return Uh.map(t=>this.listenerCount(t)).reduce(c2)}_shouldUseNewBlock(t){let r=this._currentBlock;if(!r)return!0;let n=Hh(t),i=Hh(r);return this._usePastBlocks&&n<i||n>i}_newPotentialLatest(t){this._shouldUseNewBlock(t)&&this._setCurrentBlock(t)}_setCurrentBlock(t){let r=this._currentBlock;this._currentBlock=t,this.emit("latest",t),this.emit("sync",{oldBlock:r,newBlock:t})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}};Gr.BaseBlockTracker=Uc;function Hh(e){return Number.parseInt(e,16)}});var Qt=E((ps,$h)=>{u();d();l();(function(e,t){typeof ps=="object"&&typeof $h<"u"?t(ps):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.Superstruct={}))})(ps,function(e){"use strict";class t extends TypeError{constructor(g,m){let k,{message:B,explanation:V,...le}=g,{path:we}=g,ve=we.length===0?B:`At path: ${we.join(".")} -- ${B}`;super(V??ve),V!=null&&(this.cause=ve),Object.assign(this,le),this.name=this.constructor.name,this.failures=()=>k??(k=[g,...m()])}}function r(p){return n(p)&&typeof p[Symbol.iterator]=="function"}function n(p){return typeof p=="object"&&p!=null}function i(p){if(Object.prototype.toString.call(p)!=="[object Object]")return!1;let g=Object.getPrototypeOf(p);return g===null||g===Object.prototype}function s(p){return typeof p=="symbol"?p.toString():typeof p=="string"?JSON.stringify(p):`${p}`}function o(p){let{done:g,value:m}=p.next();return g?void 0:m}function a(p,g,m,k){if(p===!0)return;p===!1?p={}:typeof p=="string"&&(p={message:p});let{path:B,branch:V}=g,{type:le}=m,{refinement:we,message:ve=`Expected a value of type \`${le}\`${we?` with refinement \`${we}\``:""}, but received: \`${s(k)}\``}=p;return{value:k,type:le,refinement:we,key:B[B.length-1],path:B,branch:V,...p,message:ve}}function*c(p,g,m,k){r(p)||(p=[p]);for(let B of p){let V=a(B,g,m,k);V&&(yield V)}}function*f(p,g,m={}){let{path:k=[],branch:B=[p],coerce:V=!1,mask:le=!1}=m,we={path:k,branch:B};if(V&&(p=g.coercer(p,we),le&&g.type!=="type"&&n(g.schema)&&n(p)&&!Array.isArray(p)))for(let _e in p)g.schema[_e]===void 0&&delete p[_e];let ve="valid";for(let _e of g.validator(p,we))_e.explanation=m.message,ve="not_valid",yield[_e,void 0];for(let[_e,He,fn]of g.entries(p,we)){let hn=f(He,fn,{path:_e===void 0?k:[...k,_e],branch:_e===void 0?B:[...B,He],coerce:V,mask:le,message:m.message});for(let jt of hn)jt[0]?(ve=jt[0].refinement!=null?"not_refined":"not_valid",yield[jt[0],void 0]):V&&(He=jt[1],_e===void 0?p=He:p instanceof Map?p.set(_e,He):p instanceof Set?p.add(He):n(p)&&(He!==void 0||_e in p)&&(p[_e]=He))}if(ve!=="not_valid")for(let _e of g.refiner(p,we))_e.explanation=m.message,ve="not_refined",yield[_e,void 0];ve==="valid"&&(yield[void 0,p])}class h{constructor(g){let{type:m,schema:k,validator:B,refiner:V,coercer:le=ve=>ve,entries:we=function*(){}}=g;this.type=m,this.schema=k,this.entries=we,this.coercer=le,B?this.validator=(ve,_e)=>{let He=B(ve,_e);return c(He,_e,this,ve)}:this.validator=()=>[],V?this.refiner=(ve,_e)=>{let He=V(ve,_e);return c(He,_e,this,ve)}:this.refiner=()=>[]}assert(g,m){return _(g,this,m)}create(g,m){return S(g,this,m)}is(g){return L(g,this)}mask(g,m){return A(g,this,m)}validate(g,m={}){return O(g,this,m)}}function _(p,g,m){let k=O(p,g,{message:m});if(k[0])throw k[0]}function S(p,g,m){let k=O(p,g,{coerce:!0,message:m});if(k[0])throw k[0];return k[1]}function A(p,g,m){let k=O(p,g,{coerce:!0,mask:!0,message:m});if(k[0])throw k[0];return k[1]}function L(p,g){return!O(p,g)[0]}function O(p,g,m={}){let k=f(p,g,m),B=o(k);return B[0]?[new t(B[0],function*(){for(let le of k)le[0]&&(yield le[0])}),void 0]:[void 0,B[1]]}function T(...p){let g=p[0].type==="type",m=p.map(B=>B.schema),k=Object.assign({},...m);return g?ge(k):x(k)}function N(p,g){return new h({type:p,schema:null,validator:g})}function M(p,g){return new h({...p,refiner:(m,k)=>m===void 0||p.refiner(m,k),validator(m,k){return m===void 0?!0:(g(m,k),p.validator(m,k))}})}function P(p){return new h({type:"dynamic",schema:null,*entries(g,m){yield*p(g,m).entries(g,m)},validator(g,m){return p(g,m).validator(g,m)},coercer(g,m){return p(g,m).coercer(g,m)},refiner(g,m){return p(g,m).refiner(g,m)}})}function j(p){let g;return new h({type:"lazy",schema:null,*entries(m,k){g??(g=p()),yield*g.entries(m,k)},validator(m,k){return g??(g=p()),g.validator(m,k)},coercer(m,k){return g??(g=p()),g.coercer(m,k)},refiner(m,k){return g??(g=p()),g.refiner(m,k)}})}function X(p,g){let{schema:m}=p,k={...m};for(let B of g)delete k[B];switch(p.type){case"type":return ge(k);default:return x(k)}}function ie(p){let g=p instanceof h,m=g?{...p.schema}:{...p};for(let k in m)m[k]=U(m[k]);return g&&p.type==="type"?ge(m):x(m)}function re(p,g){let{schema:m}=p,k={};for(let B of g)k[B]=m[B];switch(p.type){case"type":return ge(k);default:return x(k)}}function Te(p,g){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),N(p,g)}function Ee(){return N("any",()=>!0)}function be(p){return new h({type:"array",schema:p,*entries(g){if(p&&Array.isArray(g))for(let[m,k]of g.entries())yield[m,k,p]},coercer(g){return Array.isArray(g)?g.slice():g},validator(g){return Array.isArray(g)||`Expected an array value, but received: ${s(g)}`}})}function he(){return N("bigint",p=>typeof p=="bigint")}function se(){return N("boolean",p=>typeof p=="boolean")}function ye(){return N("date",p=>p instanceof Date&&!isNaN(p.getTime())||`Expected a valid \`Date\` object, but received: ${s(p)}`)}function xe(p){let g={},m=p.map(k=>s(k)).join();for(let k of p)g[k]=k;return new h({type:"enums",schema:g,validator(k){return p.includes(k)||`Expected one of \`${m}\`, but received: ${s(k)}`}})}function Se(){return N("func",p=>typeof p=="function"||`Expected a function, but received: ${s(p)}`)}function Ge(p){return N("instance",g=>g instanceof p||`Expected a \`${p.name}\` instance, but received: ${s(g)}`)}function me(){return N("integer",p=>typeof p=="number"&&!isNaN(p)&&Number.isInteger(p)||`Expected an integer, but received: ${s(p)}`)}function ne(p){return new h({type:"intersection",schema:null,*entries(g,m){for(let k of p)yield*k.entries(g,m)},*validator(g,m){for(let k of p)yield*k.validator(g,m)},*refiner(g,m){for(let k of p)yield*k.refiner(g,m)}})}function ee(p){let g=s(p),m=typeof p;return new h({type:"literal",schema:m==="string"||m==="number"||m==="boolean"?p:null,validator(k){return k===p||`Expected the literal \`${g}\`, but received: ${s(k)}`}})}function ue(p,g){return new h({type:"map",schema:null,*entries(m){if(p&&g&&m instanceof Map)for(let[k,B]of m.entries())yield[k,k,p],yield[k,B,g]},coercer(m){return m instanceof Map?new Map(m):m},validator(m){return m instanceof Map||`Expected a \`Map\` object, but received: ${s(m)}`}})}function fe(){return N("never",()=>!1)}function w(p){return new h({...p,validator:(g,m)=>g===null||p.validator(g,m),refiner:(g,m)=>g===null||p.refiner(g,m)})}function R(){return N("number",p=>typeof p=="number"&&!isNaN(p)||`Expected a number, but received: ${s(p)}`)}function x(p){let g=p?Object.keys(p):[],m=fe();return new h({type:"object",schema:p||null,*entries(k){if(p&&n(k)){let B=new Set(Object.keys(k));for(let V of g)B.delete(V),yield[V,k[V],p[V]];for(let V of B)yield[V,k[V],m]}},validator(k){return n(k)||`Expected an object, but received: ${s(k)}`},coercer(k){return n(k)?{...k}:k}})}function U(p){return new h({...p,validator:(g,m)=>g===void 0||p.validator(g,m),refiner:(g,m)=>g===void 0||p.refiner(g,m)})}function F(p,g){return new h({type:"record",schema:null,*entries(m){if(n(m))for(let k in m){let B=m[k];yield[k,k,p],yield[k,B,g]}},validator(m){return n(m)||`Expected an object, but received: ${s(m)}`}})}function W(){return N("regexp",p=>p instanceof RegExp)}function $(p){return new h({type:"set",schema:null,*entries(g){if(p&&g instanceof Set)for(let m of g)yield[m,m,p]},coercer(g){return g instanceof Set?new Set(g):g},validator(g){return g instanceof Set||`Expected a \`Set\` object, but received: ${s(g)}`}})}function H(){return N("string",p=>typeof p=="string"||`Expected a string, but received: ${s(p)}`)}function te(p){let g=fe();return new h({type:"tuple",schema:null,*entries(m){if(Array.isArray(m)){let k=Math.max(p.length,m.length);for(let B=0;B<k;B++)yield[B,m[B],p[B]||g]}},validator(m){return Array.isArray(m)||`Expected an array, but received: ${s(m)}`}})}function ge(p){let g=Object.keys(p);return new h({type:"type",schema:p,*entries(m){if(n(m))for(let k of g)yield[k,m[k],p[k]]},validator(m){return n(m)||`Expected an object, but received: ${s(m)}`},coercer(m){return n(m)?{...m}:m}})}function Fe(p){let g=p.map(m=>m.type).join(" | ");return new h({type:"union",schema:null,coercer(m){for(let k of p){let[B,V]=k.validate(m,{coerce:!0});if(!B)return V}return m},validator(m,k){let B=[];for(let V of p){let[...le]=f(m,V,k),[we]=le;if(we[0])for(let[ve]of le)ve&&B.push(ve);else return[]}return[`Expected the value to satisfy a union of \`${g}\`, but received: ${s(m)}`,...B]}})}function yt(){return N("unknown",()=>!0)}function Ye(p,g,m){return new h({...p,coercer:(k,B)=>L(k,g)?p.coercer(m(k,B),B):p.coercer(k,B)})}function Pt(p,g,m={}){return Ye(p,yt(),k=>{let B=typeof g=="function"?g():g;if(k===void 0)return B;if(!m.strict&&i(k)&&i(B)){let V={...k},le=!1;for(let we in B)V[we]===void 0&&(V[we]=B[we],le=!0);if(le)return V}return k})}function Er(p){return Ye(p,H(),g=>g.trim())}function Sr(p){return bt(p,"empty",g=>{let m=C(g);return m===0||`Expected an empty ${p.type} but received one with a size of \`${m}\``})}function C(p){return p instanceof Map||p instanceof Set?p.size:p.length}function kr(p,g,m={}){let{exclusive:k}=m;return bt(p,"max",B=>k?B<g:B<=g||`Expected a ${p.type} less than ${k?"":"or equal to "}${g} but received \`${B}\``)}function dn(p,g,m={}){let{exclusive:k}=m;return bt(p,"min",B=>k?B>g:B>=g||`Expected a ${p.type} greater than ${k?"":"or equal to "}${g} but received \`${B}\``)}function Jn(p){return bt(p,"nonempty",g=>C(g)>0||`Expected a nonempty ${p.type} but received an empty one`)}function Gn(p,g){return bt(p,"pattern",m=>g.test(m)||`Expected a ${p.type} matching \`/${g.source}/\` but received "${m}"`)}function Zn(p,g,m=g){let k=`Expected a ${p.type}`,B=g===m?`of \`${g}\``:`between \`${g}\` and \`${m}\``;return bt(p,"size",V=>{if(typeof V=="number"||V instanceof Date)return g<=V&&V<=m||`${k} ${B} but received \`${V}\``;if(V instanceof Map||V instanceof Set){let{size:le}=V;return g<=le&&le<=m||`${k} with a size ${B} but received one with a size of \`${le}\``}else{let{length:le}=V;return g<=le&&le<=m||`${k} with a length ${B} but received one with a length of \`${le}\``}})}function bt(p,g,m){return new h({...p,*refiner(k,B){yield*p.refiner(k,B);let V=m(k,B),le=c(V,B,p,k);for(let we of le)yield{...we,refinement:g}}})}e.Struct=h,e.StructError=t,e.any=Ee,e.array=be,e.assert=_,e.assign=T,e.bigint=he,e.boolean=se,e.coerce=Ye,e.create=S,e.date=ye,e.defaulted=Pt,e.define=N,e.deprecated=M,e.dynamic=P,e.empty=Sr,e.enums=xe,e.func=Se,e.instance=Ge,e.integer=me,e.intersection=ne,e.is=L,e.lazy=j,e.literal=ee,e.map=ue,e.mask=A,e.max=kr,e.min=dn,e.never=fe,e.nonempty=Jn,e.nullable=w,e.number=R,e.object=x,e.omit=X,e.optional=U,e.partial=ie,e.pattern=Gn,e.pick=re,e.record=F,e.refine=bt,e.regexp=W,e.set=$,e.size=Zn,e.string=H,e.struct=Te,e.trimmed=Er,e.tuple=te,e.type=ge,e.union=Fe,e.unknown=yt,e.validate=O})});var Bt=E(xt=>{"use strict";u();d();l();Object.defineProperty(xt,"__esModule",{value:!0});xt.assertExhaustive=xt.assertStruct=xt.assert=xt.AssertionError=void 0;var u2=Qt();function l2(e){return typeof e=="object"&&e!==null&&"message"in e}function d2(e){var t,r;return typeof((r=(t=e?.prototype)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)=="string"}function f2(e){let t=l2(e)?e.message:String(e);return t.endsWith(".")?t.slice(0,-1):t}function Wh(e,t){return d2(e)?new e({message:t}):e({message:t})}var jn=class extends Error{constructor(t){super(t.message),this.code="ERR_ASSERTION"}};xt.AssertionError=jn;function h2(e,t="Assertion failed.",r=jn){if(!e)throw t instanceof Error?t:Wh(r,t)}xt.assert=h2;function p2(e,t,r="Assertion failed",n=jn){try{(0,u2.assert)(e,t)}catch(i){throw Wh(n,`${r}: ${f2(i)}.`)}}xt.assertStruct=p2;function g2(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}xt.assertExhaustive=g2});var $c=E(gs=>{"use strict";u();d();l();Object.defineProperty(gs,"__esModule",{value:!0});gs.base64=void 0;var y2=Qt(),b2=Bt(),m2=(e,t={})=>{var r,n;let i=(r=t.paddingRequired)!==null&&r!==void 0?r:!1,s=(n=t.characterSet)!==null&&n!==void 0?n:"base64",o;s==="base64"?o=String.raw`[A-Za-z0-9+\/]`:((0,b2.assert)(s==="base64url"),o=String.raw`[-_A-Za-z0-9]`);let a;return i?a=new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):a=new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,y2.pattern)(e,a)};gs.base64=m2});var Dn=E(Le=>{"use strict";u();d();l();Object.defineProperty(Le,"__esModule",{value:!0});Le.remove0x=Le.add0x=Le.assertIsStrictHexString=Le.assertIsHexString=Le.isStrictHexString=Le.isHexString=Le.StrictHexStruct=Le.HexStruct=void 0;var Zr=Qt(),Vh=Bt();Le.HexStruct=(0,Zr.pattern)((0,Zr.string)(),/^(?:0x)?[0-9a-f]+$/iu);Le.StrictHexStruct=(0,Zr.pattern)((0,Zr.string)(),/^0x[0-9a-f]+$/iu);function zh(e){return(0,Zr.is)(e,Le.HexStruct)}Le.isHexString=zh;function Jh(e){return(0,Zr.is)(e,Le.StrictHexStruct)}Le.isStrictHexString=Jh;function _2(e){(0,Vh.assert)(zh(e),"Value must be a hexadecimal string.")}Le.assertIsHexString=_2;function w2(e){(0,Vh.assert)(Jh(e),'Value must be a hexadecimal string, starting with "0x".')}Le.assertIsStrictHexString=w2;function v2(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`}Le.add0x=v2;function E2(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}Le.remove0x=E2});var zc=E(de=>{"use strict";u();d();l();Object.defineProperty(de,"__esModule",{value:!0});de.createDataView=de.concatBytes=de.valueToBytes=de.stringToBytes=de.numberToBytes=de.signedBigIntToBytes=de.bigIntToBytes=de.hexToBytes=de.bytesToString=de.bytesToNumber=de.bytesToSignedBigInt=de.bytesToBigInt=de.bytesToHex=de.assertIsBytes=de.isBytes=void 0;var tt=Bt(),Wc=Dn(),Gh=48,Zh=58,Qh=87;function S2(){let e=[];return()=>{if(e.length===0)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}var k2=S2();function Vc(e){return e instanceof Uint8Array}de.isBytes=Vc;function Qr(e){(0,tt.assert)(Vc(e),"Value must be a Uint8Array.")}de.assertIsBytes=Qr;function Kh(e){if(Qr(e),e.length===0)return"0x";let t=k2(),r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t[e[n]];return(0,Wc.add0x)(r.join(""))}de.bytesToHex=Kh;function Yh(e){Qr(e);let t=Kh(e);return BigInt(t)}de.bytesToBigInt=Yh;function R2(e){Qr(e);let t=BigInt(0);for(let r of e)t=(t<<BigInt(8))+BigInt(r);return BigInt.asIntN(e.length*8,t)}de.bytesToSignedBigInt=R2;function x2(e){Qr(e);let t=Yh(e);return(0,tt.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)}de.bytesToNumber=x2;function C2(e){return Qr(e),new TextDecoder().decode(e)}de.bytesToString=C2;function ys(e){var t;if(((t=e?.toLowerCase)===null||t===void 0?void 0:t.call(e))==="0x")return new Uint8Array;(0,Wc.assertIsHexString)(e);let r=(0,Wc.remove0x)(e).toLowerCase(),n=r.length%2===0?r:`0${r}`,i=new Uint8Array(n.length/2);for(let s=0;s<i.length;s++){let o=n.charCodeAt(s*2),a=n.charCodeAt(s*2+1),c=o-(o<Zh?Gh:Qh),f=a-(a<Zh?Gh:Qh);i[s]=c*16+f}return i}de.hexToBytes=ys;function Xh(e){(0,tt.assert)(typeof e=="bigint","Value must be a bigint."),(0,tt.assert)(e>=BigInt(0),"Value must be a non-negative bigint.");let t=e.toString(16);return ys(t)}de.bigIntToBytes=Xh;function A2(e,t){(0,tt.assert)(t>0);let r=e>>BigInt(31);return!((~e&r)+(e&~r)>>BigInt(t*8+-1))}function I2(e,t){(0,tt.assert)(typeof e=="bigint","Value must be a bigint."),(0,tt.assert)(typeof t=="number","Byte length must be a number."),(0,tt.assert)(t>0,"Byte length must be greater than 0."),(0,tt.assert)(A2(e,t),"Byte length is too small to represent the given value.");let r=e,n=new Uint8Array(t);for(let i=0;i<n.length;i++)n[i]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}de.signedBigIntToBytes=I2;function e0(e){(0,tt.assert)(typeof e=="number","Value must be a number."),(0,tt.assert)(e>=0,"Value must be a non-negative number."),(0,tt.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");let t=e.toString(16);return ys(t)}de.numberToBytes=e0;function t0(e){return(0,tt.assert)(typeof e=="string","Value must be a string."),new TextEncoder().encode(e)}de.stringToBytes=t0;function r0(e){if(typeof e=="bigint")return Xh(e);if(typeof e=="number")return e0(e);if(typeof e=="string")return e.startsWith("0x")?ys(e):t0(e);if(Vc(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}de.valueToBytes=r0;function M2(e){let t=new Array(e.length),r=0;for(let i=0;i<e.length;i++){let s=r0(e[i]);t[i]=s,r+=s.length}let n=new Uint8Array(r);for(let i=0,s=0;i<t.length;i++)n.set(t[i],s),s+=t[i].length;return n}de.concatBytes=M2;function P2(e){if(typeof y<"u"&&e instanceof y){let t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}de.createDataView=P2});var i0=E(bs=>{"use strict";u();d();l();Object.defineProperty(bs,"__esModule",{value:!0});bs.ChecksumStruct=void 0;var n0=Qt(),T2=$c();bs.ChecksumStruct=(0,n0.size)((0,T2.base64)((0,n0.string)(),{paddingRequired:!0}),44,44)});var a0=E(Ct=>{"use strict";u();d();l();Object.defineProperty(Ct,"__esModule",{value:!0});Ct.createHex=Ct.createBytes=Ct.createBigInt=Ct.createNumber=void 0;var Ie=Qt(),N2=Bt(),s0=zc(),ms=Dn(),o0=(0,Ie.union)([(0,Ie.number)(),(0,Ie.bigint)(),(0,Ie.string)(),ms.StrictHexStruct]),O2=(0,Ie.coerce)((0,Ie.number)(),o0,Number),B2=(0,Ie.coerce)((0,Ie.bigint)(),o0,BigInt),UR=(0,Ie.union)([ms.StrictHexStruct,(0,Ie.instance)(Uint8Array)]),L2=(0,Ie.coerce)((0,Ie.instance)(Uint8Array),(0,Ie.union)([ms.StrictHexStruct]),s0.hexToBytes),j2=(0,Ie.coerce)(ms.StrictHexStruct,(0,Ie.instance)(Uint8Array),s0.bytesToHex);function D2(e){try{let t=(0,Ie.create)(e,O2);return(0,N2.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){throw t instanceof Ie.StructError?new Error(`Expected a number-like value, got "${e}".`):t}}Ct.createNumber=D2;function F2(e){try{return(0,Ie.create)(e,B2)}catch(t){throw t instanceof Ie.StructError?new Error(`Expected a number-like value, got "${String(t.value)}".`):t}}Ct.createBigInt=F2;function q2(e){if(typeof e=="string"&&e.toLowerCase()==="0x")return new Uint8Array;try{return(0,Ie.create)(e,L2)}catch(t){throw t instanceof Ie.StructError?new Error(`Expected a bytes-like value, got "${String(t.value)}".`):t}}Ct.createBytes=q2;function U2(e){if(e instanceof Uint8Array&&e.length===0||typeof e=="string"&&e.toLowerCase()==="0x")return"0x";try{return(0,Ie.create)(e,j2)}catch(t){throw t instanceof Ie.StructError?new Error(`Expected a bytes-like value, got "${String(t.value)}".`):t}}Ct.createHex=U2});var u0=E(It=>{"use strict";u();d();l();var c0=It&&It.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},Je=It&&It.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},pt,At;Object.defineProperty(It,"__esModule",{value:!0});It.FrozenSet=It.FrozenMap=void 0;var Fn=class{constructor(t){pt.set(this,void 0),c0(this,pt,new Map(t),"f"),Object.freeze(this)}get size(){return Je(this,pt,"f").size}[(pt=new WeakMap,Symbol.iterator)](){return Je(this,pt,"f")[Symbol.iterator]()}entries(){return Je(this,pt,"f").entries()}forEach(t,r){return Je(this,pt,"f").forEach((n,i,s)=>t.call(r,n,i,this))}get(t){return Je(this,pt,"f").get(t)}has(t){return Je(this,pt,"f").has(t)}keys(){return Je(this,pt,"f").keys()}values(){return Je(this,pt,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([t,r])=>`${String(t)} => ${String(r)}`).join(", ")} `:""}}`}};It.FrozenMap=Fn;var qn=class{constructor(t){At.set(this,void 0),c0(this,At,new Set(t),"f"),Object.freeze(this)}get size(){return Je(this,At,"f").size}[(At=new WeakMap,Symbol.iterator)](){return Je(this,At,"f")[Symbol.iterator]()}entries(){return Je(this,At,"f").entries()}forEach(t,r){return Je(this,At,"f").forEach((n,i,s)=>t.call(r,n,i,this))}has(t){return Je(this,At,"f").has(t)}keys(){return Je(this,At,"f").keys()}values(){return Je(this,At,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(t=>String(t)).join(", ")} `:""}}`}};It.FrozenSet=qn;Object.freeze(Fn);Object.freeze(Fn.prototype);Object.freeze(qn);Object.freeze(qn.prototype)});var d0=E(l0=>{"use strict";u();d();l();Object.defineProperty(l0,"__esModule",{value:!0})});var f0=E(I=>{"use strict";u();d();l();Object.defineProperty(I,"__esModule",{value:!0});I.getJsonRpcIdValidator=I.assertIsJsonRpcError=I.isJsonRpcError=I.assertIsJsonRpcFailure=I.isJsonRpcFailure=I.assertIsJsonRpcSuccess=I.isJsonRpcSuccess=I.assertIsJsonRpcResponse=I.isJsonRpcResponse=I.assertIsPendingJsonRpcResponse=I.isPendingJsonRpcResponse=I.JsonRpcResponseStruct=I.JsonRpcFailureStruct=I.JsonRpcSuccessStruct=I.PendingJsonRpcResponseStruct=I.assertIsJsonRpcRequest=I.isJsonRpcRequest=I.assertIsJsonRpcNotification=I.isJsonRpcNotification=I.JsonRpcNotificationStruct=I.JsonRpcRequestStruct=I.JsonRpcParamsStruct=I.JsonRpcErrorStruct=I.JsonRpcIdStruct=I.JsonRpcVersionStruct=I.jsonrpc2=I.getJsonSize=I.isValidJson=I.JsonStruct=I.UnsafeJsonStruct=void 0;var z=Qt(),Kt=Bt(),H2=()=>(0,z.define)("finite number",e=>(0,z.is)(e,(0,z.number)())&&Number.isFinite(e));I.UnsafeJsonStruct=(0,z.union)([(0,z.literal)(null),(0,z.boolean)(),H2(),(0,z.string)(),(0,z.array)((0,z.lazy)(()=>I.UnsafeJsonStruct)),(0,z.record)((0,z.string)(),(0,z.lazy)(()=>I.UnsafeJsonStruct))]);I.JsonStruct=(0,z.define)("Json",(e,t)=>{function r(n,i){let o=[...i.validator(n,t)];return o.length>0?o:!0}try{let n=r(e,I.UnsafeJsonStruct);return n!==!0?n:r(JSON.parse(JSON.stringify(e)),I.UnsafeJsonStruct)}catch(n){return n instanceof RangeError?"Circular reference detected":!1}});function $2(e){return(0,z.is)(e,I.JsonStruct)}I.isValidJson=$2;function W2(e){(0,Kt.assertStruct)(e,I.JsonStruct,"Invalid JSON value");let t=JSON.stringify(e);return new TextEncoder().encode(t).byteLength}I.getJsonSize=W2;I.jsonrpc2="2.0";I.JsonRpcVersionStruct=(0,z.literal)(I.jsonrpc2);I.JsonRpcIdStruct=(0,z.nullable)((0,z.union)([(0,z.number)(),(0,z.string)()]));I.JsonRpcErrorStruct=(0,z.object)({code:(0,z.integer)(),message:(0,z.string)(),data:(0,z.optional)(I.JsonStruct),stack:(0,z.optional)((0,z.string)())});I.JsonRpcParamsStruct=(0,z.optional)((0,z.union)([(0,z.record)((0,z.string)(),I.JsonStruct),(0,z.array)(I.JsonStruct)]));I.JsonRpcRequestStruct=(0,z.object)({id:I.JsonRpcIdStruct,jsonrpc:I.JsonRpcVersionStruct,method:(0,z.string)(),params:I.JsonRpcParamsStruct});I.JsonRpcNotificationStruct=(0,z.omit)(I.JsonRpcRequestStruct,["id"]);function V2(e){return(0,z.is)(e,I.JsonRpcNotificationStruct)}I.isJsonRpcNotification=V2;function z2(e,t){(0,Kt.assertStruct)(e,I.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",t)}I.assertIsJsonRpcNotification=z2;function J2(e){return(0,z.is)(e,I.JsonRpcRequestStruct)}I.isJsonRpcRequest=J2;function G2(e,t){(0,Kt.assertStruct)(e,I.JsonRpcRequestStruct,"Invalid JSON-RPC request",t)}I.assertIsJsonRpcRequest=G2;I.PendingJsonRpcResponseStruct=(0,z.object)({id:I.JsonRpcIdStruct,jsonrpc:I.JsonRpcVersionStruct,result:(0,z.optional)((0,z.unknown)()),error:(0,z.optional)(I.JsonRpcErrorStruct)});I.JsonRpcSuccessStruct=(0,z.object)({id:I.JsonRpcIdStruct,jsonrpc:I.JsonRpcVersionStruct,result:I.JsonStruct});I.JsonRpcFailureStruct=(0,z.object)({id:I.JsonRpcIdStruct,jsonrpc:I.JsonRpcVersionStruct,error:I.JsonRpcErrorStruct});I.JsonRpcResponseStruct=(0,z.union)([I.JsonRpcSuccessStruct,I.JsonRpcFailureStruct]);function Z2(e){return(0,z.is)(e,I.PendingJsonRpcResponseStruct)}I.isPendingJsonRpcResponse=Z2;function Q2(e,t){(0,Kt.assertStruct)(e,I.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",t)}I.assertIsPendingJsonRpcResponse=Q2;function K2(e){return(0,z.is)(e,I.JsonRpcResponseStruct)}I.isJsonRpcResponse=K2;function Y2(e,t){(0,Kt.assertStruct)(e,I.JsonRpcResponseStruct,"Invalid JSON-RPC response",t)}I.assertIsJsonRpcResponse=Y2;function X2(e){return(0,z.is)(e,I.JsonRpcSuccessStruct)}I.isJsonRpcSuccess=X2;function ev(e,t){(0,Kt.assertStruct)(e,I.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",t)}I.assertIsJsonRpcSuccess=ev;function tv(e){return(0,z.is)(e,I.JsonRpcFailureStruct)}I.isJsonRpcFailure=tv;function rv(e,t){(0,Kt.assertStruct)(e,I.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",t)}I.assertIsJsonRpcFailure=rv;function nv(e){return(0,z.is)(e,I.JsonRpcErrorStruct)}I.isJsonRpcError=nv;function iv(e,t){(0,Kt.assertStruct)(e,I.JsonRpcErrorStruct,"Invalid JSON-RPC error",t)}I.assertIsJsonRpcError=iv;function sv(e){let{permitEmptyString:t,permitFractions:r,permitNull:n}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},e);return s=>!!(typeof s=="number"&&(r||Number.isInteger(s))||typeof s=="string"&&(t||s.length>0)||n&&s===null)}I.getJsonRpcIdValidator=sv});var p0=E(h0=>{"use strict";u();d();l();Object.defineProperty(h0,"__esModule",{value:!0})});var g0=E(Yt=>{"use strict";u();d();l();var ov=Yt&&Yt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.createModuleLogger=Yt.createProjectLogger=void 0;var av=ov(Yp()),cv=(0,av.default)("metamask");function uv(e){return cv.extend(e)}Yt.createProjectLogger=uv;function lv(e,t){return e.extend(t)}Yt.createModuleLogger=lv});var b0=E(ke=>{"use strict";u();d();l();Object.defineProperty(ke,"__esModule",{value:!0});ke.calculateNumberSize=ke.calculateStringSize=ke.isASCII=ke.isPlainObject=ke.ESCAPE_CHARACTERS_REGEXP=ke.JsonSize=ke.hasProperty=ke.isObject=ke.isNullOrUndefined=ke.isNonEmptyArray=void 0;function dv(e){return Array.isArray(e)&&e.length>0}ke.isNonEmptyArray=dv;function fv(e){return e==null}ke.isNullOrUndefined=fv;function hv(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}ke.isObject=hv;var pv=(e,t)=>Object.hasOwnProperty.call(e,t);ke.hasProperty=pv;var gv;(function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"})(gv=ke.JsonSize||(ke.JsonSize={}));ke.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function yv(e){if(typeof e!="object"||e===null)return!1;try{let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch{return!1}}ke.isPlainObject=yv;function y0(e){return e.charCodeAt(0)<=127}ke.isASCII=y0;function bv(e){var t;return e.split("").reduce((n,i)=>y0(i)?n+1:n+2,0)+((t=e.match(ke.ESCAPE_CHARACTERS_REGEXP))!==null&&t!==void 0?t:[]).length}ke.calculateStringSize=bv;function mv(e){return e.toString().length}ke.calculateNumberSize=mv});var m0=E(Mt=>{"use strict";u();d();l();Object.defineProperty(Mt,"__esModule",{value:!0});Mt.hexToBigInt=Mt.hexToNumber=Mt.bigIntToHex=Mt.numberToHex=void 0;var Kr=Bt(),Un=Dn(),_v=e=>((0,Kr.assert)(typeof e=="number","Value must be a number."),(0,Kr.assert)(e>=0,"Value must be a non-negative number."),(0,Kr.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,Un.add0x)(e.toString(16)));Mt.numberToHex=_v;var wv=e=>((0,Kr.assert)(typeof e=="bigint","Value must be a bigint."),(0,Kr.assert)(e>=0,"Value must be a non-negative bigint."),(0,Un.add0x)(e.toString(16)));Mt.bigIntToHex=wv;var vv=e=>{(0,Un.assertIsHexString)(e);let t=parseInt(e,16);return(0,Kr.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t};Mt.hexToNumber=vv;var Ev=e=>((0,Un.assertIsHexString)(e),BigInt((0,Un.add0x)(e)));Mt.hexToBigInt=Ev});var w0=E(_0=>{"use strict";u();d();l();Object.defineProperty(_0,"__esModule",{value:!0})});var E0=E(Lt=>{"use strict";u();d();l();Object.defineProperty(Lt,"__esModule",{value:!0});Lt.timeSince=Lt.inMilliseconds=Lt.Duration=void 0;var Sv;(function(e){e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Year=31536e6]="Year"})(Sv=Lt.Duration||(Lt.Duration={}));var kv=e=>Number.isInteger(e)&&e>=0,v0=(e,t)=>{if(!kv(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};function Rv(e,t){return v0(e,"count"),e*t}Lt.inMilliseconds=Rv;function xv(e){return v0(e,"timestamp"),Date.now()-e}Lt.timeSince=xv});var k0=E(S0=>{"use strict";u();d();l();Object.defineProperty(S0,"__esModule",{value:!0})});var x0=E(Re=>{"use strict";u();d();l();Object.defineProperty(Re,"__esModule",{value:!0});Re.satisfiesVersionRange=Re.gtRange=Re.gtVersion=Re.assertIsSemVerRange=Re.assertIsSemVerVersion=Re.isValidSemVerRange=Re.isValidSemVerVersion=Re.VersionRangeStruct=Re.VersionStruct=void 0;var Hn=Xp(),Yr=Qt(),R0=Bt();Re.VersionStruct=(0,Yr.refine)((0,Yr.string)(),"Version",e=>(0,Hn.valid)(e)===null?`Expected SemVer version, got "${e}"`:!0);Re.VersionRangeStruct=(0,Yr.refine)((0,Yr.string)(),"Version range",e=>(0,Hn.validRange)(e)===null?`Expected SemVer range, got "${e}"`:!0);function Cv(e){return(0,Yr.is)(e,Re.VersionStruct)}Re.isValidSemVerVersion=Cv;function Av(e){return(0,Yr.is)(e,Re.VersionRangeStruct)}Re.isValidSemVerRange=Av;function Iv(e){(0,R0.assertStruct)(e,Re.VersionStruct)}Re.assertIsSemVerVersion=Iv;function Mv(e){(0,R0.assertStruct)(e,Re.VersionRangeStruct)}Re.assertIsSemVerRange=Mv;function Pv(e,t){return(0,Hn.gt)(e,t)}Re.gtVersion=Pv;function Tv(e,t){return(0,Hn.gtr)(e,t)}Re.gtRange=Tv;function Nv(e,t){return(0,Hn.satisfies)(e,t,{includePrerelease:!0})}Re.satisfiesVersionRange=Nv});var C0=E(Me=>{"use strict";u();d();l();var Ov=Me&&Me.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ue=Me&&Me.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ov(t,e,r)};Object.defineProperty(Me,"__esModule",{value:!0});Ue(Bt(),Me);Ue($c(),Me);Ue(zc(),Me);Ue(i0(),Me);Ue(a0(),Me);Ue(u0(),Me);Ue(d0(),Me);Ue(Dn(),Me);Ue(f0(),Me);Ue(p0(),Me);Ue(g0(),Me);Ue(b0(),Me);Ue(m0(),Me);Ue(w0(),Me);Ue(E0(),Me);Ue(k0(),Me);Ue(x0(),Me)});var I0=E(Xr=>{"use strict";u();d();l();Object.defineProperty(Xr,"__esModule",{value:!0});Xr.createModuleLogger=Xr.projectLogger=void 0;var A0=C0();Object.defineProperty(Xr,"createModuleLogger",{enumerable:!0,get:function(){return A0.createModuleLogger}});Xr.projectLogger=(0,A0.createProjectLogger)("eth-block-tracker")});var O0=E(en=>{"use strict";u();d();l();var N0=en&&en.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(en,"__esModule",{value:!0});en.PollingBlockTracker=void 0;var Bv=N0(fs()),Lv=N0(Fh()),jv=Hc(),M0=I0(),P0=(0,M0.createModuleLogger)(M0.projectLogger,"polling-block-tracker"),Dv=(0,Bv.default)(),Fv=1e3,Jc=class extends jv.BaseBlockTracker{constructor(t={}){var r;if(!t.provider)throw new Error("PollingBlockTracker - no provider specified.");super(Object.assign(Object.assign({},t),{blockResetDuration:(r=t.blockResetDuration)!==null&&r!==void 0?r:t.pollingInterval})),this._provider=t.provider,this._pollingInterval=t.pollingInterval||20*Fv,this._retryTimeout=t.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=t.keepEventLoopActive===void 0?!0:t.keepEventLoopActive,this._setSkipCacheFlag=t.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var t;this._isRunning;)try{await this._updateLatestBlock();let r=T0(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await r}catch(r){let n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(t=r.stack)!==null&&t!==void 0?t:r}`);try{this.emit("error",n)}catch{console.error(n)}let i=T0(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await i}}async _updateLatestBlock(){let t=await this._fetchLatestBlock();this._newPotentialLatest(t)}async _fetchLatestBlock(){let t={jsonrpc:"2.0",id:Dv(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(t.skipCache=!0),P0("Making request",t);let r=await(0,Lv.default)(n=>this._provider.sendAsync(t,n))();if(P0("Got response",r),r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error.message}`);return r.result}};en.PollingBlockTracker=Jc;function T0(e,t){return new Promise(r=>{let n=setTimeout(r,e);n.unref&&t&&n.unref()})}});var B0=E(tn=>{"use strict";u();d();l();var qv=tn&&tn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tn,"__esModule",{value:!0});tn.SubscribeBlockTracker=void 0;var Uv=qv(fs()),Hv=Hc(),$v=(0,Uv.default)(),Gc=class extends Hv.BaseBlockTracker{constructor(t={}){if(!t.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(t),this._provider=t.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{let t=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(t)}catch(t){this.emit("error",t)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(t){this.emit("error",t)}}_call(t,...r){return new Promise((n,i)=>{this._provider.sendAsync({id:$v(),method:t,params:r,jsonrpc:"2.0"},(s,o)=>{s?i(s):n(o.result)})})}_handleSubData(t,r){var n;r.method==="eth_subscription"&&((n=r.params)===null||n===void 0?void 0:n.subscription)===this._subscriptionId&&this._newPotentialLatest(r.params.result.number)}};tn.SubscribeBlockTracker=Gc});var j0=E(Xt=>{"use strict";u();d();l();var Wv=Xt&&Xt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),L0=Xt&&Xt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Wv(t,e,r)};Object.defineProperty(Xt,"__esModule",{value:!0});L0(O0(),Xt);L0(B0(),Xt)});var Qc=E(_s=>{"use strict";u();d();l();Object.defineProperty(_s,"__esModule",{value:!0});_s.getUniqueId=void 0;var D0=4294967295,Zc=Math.floor(Math.random()*D0);function Vv(){return Zc=(Zc+1)%D0,Zc}_s.getUniqueId=Vv});var F0=E(ws=>{"use strict";u();d();l();Object.defineProperty(ws,"__esModule",{value:!0});ws.createIdRemapMiddleware=void 0;var zv=Qc();function Jv(){return(e,t,r,n)=>{let i=e.id,s=zv.getUniqueId();e.id=s,t.id=s,r(o=>{e.id=i,t.id=i,o()})}}ws.createIdRemapMiddleware=Jv});var q0=E(vs=>{"use strict";u();d();l();Object.defineProperty(vs,"__esModule",{value:!0});vs.createAsyncMiddleware=void 0;function Gv(e){return async(t,r,n,i)=>{let s,o=new Promise(h=>{s=h}),a=null,c=!1,f=async()=>{c=!0,n(h=>{a=h,s()}),await o};try{await e(t,r,f),c?(await o,a(null)):i(null)}catch(h){a?a(h):i(h)}}}vs.createAsyncMiddleware=Gv});var U0=E(Es=>{"use strict";u();d();l();Object.defineProperty(Es,"__esModule",{value:!0});Es.createScaffoldMiddleware=void 0;function Zv(e){return(t,r,n,i)=>{let s=e[t.method];return s===void 0?n():typeof s=="function"?s(t,r,n,i):(r.result=s,i())}}Es.createScaffoldMiddleware=Zv});var $0=E(Yc=>{"use strict";u();d();l();Object.defineProperty(Yc,"__esModule",{value:!0});var Qv=(Yn(),pe(Kn));function H0(e,t,r){try{Reflect.apply(e,t,r)}catch(n){setTimeout(()=>{throw n})}}function Kv(e){let t=e.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}var Kc=class extends Qv.EventEmitter{emit(t,...r){let n=t==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;let a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}let s=i[t];if(s===void 0)return!1;if(typeof s=="function")H0(s,this,r);else{let o=s.length,a=Kv(s);for(let c=0;c<o;c+=1)H0(a[c],this,r)}return!0}};Yc.default=Kc});var Z0=E((EC,G0)=>{u();d();l();G0.exports=$n;$n.default=$n;$n.stable=z0;$n.stableStringify=z0;var Ss="[...]",W0="[Circular]",wr=[],_r=[];function V0(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function $n(e,t,r,n){typeof n>"u"&&(n=V0()),Xc(e,"",0,[],void 0,0,n);var i;try{_r.length===0?i=JSON.stringify(e,t,r):i=JSON.stringify(e,J0(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;wr.length!==0;){var s=wr.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function rn(e,t,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:e}),wr.push([n,r,t,i])):_r.push([t,r,e]):(n[r]=e,wr.push([n,r,t]))}function Xc(e,t,r,n,i,s,o){s+=1;var a;if(typeof e=="object"&&e!==null){for(a=0;a<n.length;a++)if(n[a]===e){rn(W0,e,t,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){rn(Ss,e,t,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){rn(Ss,e,t,i);return}if(n.push(e),Array.isArray(e))for(a=0;a<e.length;a++)Xc(e[a],a,a,n,e,s,o);else{var c=Object.keys(e);for(a=0;a<c.length;a++){var f=c[a];Xc(e[f],f,a,n,e,s,o)}}n.pop()}}function Yv(e,t){return e<t?-1:e>t?1:0}function z0(e,t,r,n){typeof n>"u"&&(n=V0());var i=eu(e,"",0,[],void 0,0,n)||e,s;try{_r.length===0?s=JSON.stringify(i,t,r):s=JSON.stringify(i,J0(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;wr.length!==0;){var o=wr.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function eu(e,t,r,n,i,s,o){s+=1;var a;if(typeof e=="object"&&e!==null){for(a=0;a<n.length;a++)if(n[a]===e){rn(W0,e,t,i);return}try{if(typeof e.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){rn(Ss,e,t,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){rn(Ss,e,t,i);return}if(n.push(e),Array.isArray(e))for(a=0;a<e.length;a++)eu(e[a],a,a,n,e,s,o);else{var c={},f=Object.keys(e).sort(Yv);for(a=0;a<f.length;a++){var h=f[a];eu(e[h],h,a,n,e,s,o),c[h]=e[h]}if(typeof i<"u")wr.push([i,t,e]),i[t]=c;else return c}n.pop()}}function J0(e){return e=typeof e<"u"?e:function(t,r){return r},function(t,r){if(_r.length>0)for(var n=0;n<_r.length;n++){var i=_r[n];if(i[1]===t&&i[0]===r){r=i[2],_r.splice(n,1);break}}return e.call(this,t,r)}}});var Rs=E(nn=>{"use strict";u();d();l();Object.defineProperty(nn,"__esModule",{value:!0});nn.EthereumProviderError=nn.EthereumRpcError=void 0;var Xv=Z0(),ks=class extends Error{constructor(t,r,n){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=t,n!==void 0&&(this.data=n)}serialize(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),this.stack&&(t.stack=this.stack),t}toString(){return Xv.default(this.serialize(),tE,2)}};nn.EthereumRpcError=ks;var tu=class extends ks{constructor(t,r,n){if(!eE(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,r,n)}};nn.EthereumProviderError=tu;function eE(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}function tE(e,t){if(t!=="[Circular]")return t}});var xs=E(sn=>{"use strict";u();d();l();Object.defineProperty(sn,"__esModule",{value:!0});sn.errorValues=sn.errorCodes=void 0;sn.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};sn.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}});var iu=E(gt=>{"use strict";u();d();l();Object.defineProperty(gt,"__esModule",{value:!0});gt.serializeError=gt.isValidCode=gt.getMessageFromCode=gt.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;var Cs=xs(),rE=Rs(),Q0=Cs.errorCodes.rpc.internal,nE="Unspecified error message. This is a bug, please report it.",iE={code:Q0,message:nu(Q0)};gt.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function nu(e,t=nE){if(Number.isInteger(e)){let r=e.toString();if(ru(Cs.errorValues,r))return Cs.errorValues[r].message;if(X0(e))return gt.JSON_RPC_SERVER_ERROR_MESSAGE}return t}gt.getMessageFromCode=nu;function Y0(e){if(!Number.isInteger(e))return!1;let t=e.toString();return!!(Cs.errorValues[t]||X0(e))}gt.isValidCode=Y0;function sE(e,{fallbackError:t=iE,shouldIncludeStack:r=!1}={}){var n,i;if(!t||!Number.isInteger(t.code)||typeof t.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof rE.EthereumRpcError)return e.serialize();let s={};if(e&&typeof e=="object"&&!Array.isArray(e)&&ru(e,"code")&&Y0(e.code)){let a=e;s.code=a.code,a.message&&typeof a.message=="string"?(s.message=a.message,ru(a,"data")&&(s.data=a.data)):(s.message=nu(s.code),s.data={originalError:K0(e)})}else{s.code=t.code;let a=(n=e)===null||n===void 0?void 0:n.message;s.message=a&&typeof a=="string"?a:t.message,s.data={originalError:K0(e)}}let o=(i=e)===null||i===void 0?void 0:i.stack;return r&&e&&o&&typeof o=="string"&&(s.stack=o),s}gt.serializeError=sE;function X0(e){return e>=-32099&&e<=-32e3}function K0(e){return e&&typeof e=="object"&&!Array.isArray(e)?Object.assign({},e):e}function ru(e,t){return Object.prototype.hasOwnProperty.call(e,t)}});var rp=E(As=>{"use strict";u();d();l();Object.defineProperty(As,"__esModule",{value:!0});As.ethErrors=void 0;var su=Rs(),ep=iu(),Ve=xs();As.ethErrors={rpc:{parse:e=>lt(Ve.errorCodes.rpc.parse,e),invalidRequest:e=>lt(Ve.errorCodes.rpc.invalidRequest,e),invalidParams:e=>lt(Ve.errorCodes.rpc.invalidParams,e),methodNotFound:e=>lt(Ve.errorCodes.rpc.methodNotFound,e),internal:e=>lt(Ve.errorCodes.rpc.internal,e),server:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");let{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return lt(t,e)},invalidInput:e=>lt(Ve.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>lt(Ve.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>lt(Ve.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>lt(Ve.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>lt(Ve.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>lt(Ve.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>Wn(Ve.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>Wn(Ve.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>Wn(Ve.errorCodes.provider.unsupportedMethod,e),disconnected:e=>Wn(Ve.errorCodes.provider.disconnected,e),chainDisconnected:e=>Wn(Ve.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");let{code:t,message:r,data:n}=e;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new su.EthereumProviderError(t,r,n)}}};function lt(e,t){let[r,n]=tp(t);return new su.EthereumRpcError(e,r||ep.getMessageFromCode(e),n)}function Wn(e,t){let[r,n]=tp(t);return new su.EthereumProviderError(e,r||ep.getMessageFromCode(e),n)}function tp(e){if(e){if(typeof e=="string")return[e];if(typeof e=="object"&&!Array.isArray(e)){let{message:t,data:r}=e;if(t&&typeof t!="string")throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}});var sp=E(Ke=>{"use strict";u();d();l();Object.defineProperty(Ke,"__esModule",{value:!0});Ke.getMessageFromCode=Ke.serializeError=Ke.EthereumProviderError=Ke.EthereumRpcError=Ke.ethErrors=Ke.errorCodes=void 0;var np=Rs();Object.defineProperty(Ke,"EthereumRpcError",{enumerable:!0,get:function(){return np.EthereumRpcError}});Object.defineProperty(Ke,"EthereumProviderError",{enumerable:!0,get:function(){return np.EthereumProviderError}});var ip=iu();Object.defineProperty(Ke,"serializeError",{enumerable:!0,get:function(){return ip.serializeError}});Object.defineProperty(Ke,"getMessageFromCode",{enumerable:!0,get:function(){return ip.getMessageFromCode}});var oE=rp();Object.defineProperty(Ke,"ethErrors",{enumerable:!0,get:function(){return oE.ethErrors}});var aE=xs();Object.defineProperty(Ke,"errorCodes",{enumerable:!0,get:function(){return aE.errorCodes}})});var cu=E(on=>{"use strict";u();d();l();var cE=on&&on.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(on,"__esModule",{value:!0});on.JsonRpcEngine=void 0;var uE=cE($0()),dt=sp(),au=class e extends uE.default{constructor(){super(),this._middleware=[]}push(t){this._middleware.push(t)}handle(t,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(t)?r?this._handleBatch(t,r):this._handleBatch(t):r?this._handle(t,r):this._promiseHandle(t)}asMiddleware(){return async(t,r,n,i)=>{try{let[s,o,a]=await e._runAllMiddleware(t,r,this._middleware);return o?(await e._runReturnHandlers(a),i(s)):n(async c=>{try{await e._runReturnHandlers(a)}catch(f){return c(f)}return c()})}catch(s){return i(s)}}}async _handleBatch(t,r){try{let n=await Promise.all(t.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(t){return new Promise(r=>{this._handle(t,(n,i)=>{r(i)})})}async _handle(t,r){if(!t||Array.isArray(t)||typeof t!="object"){let o=new dt.EthereumRpcError(dt.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof t}`,{request:t});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof t.method!="string"){let o=new dt.EthereumRpcError(dt.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof t.method}`,{request:t});return r(o,{id:t.id,jsonrpc:"2.0",error:o})}let n=Object.assign({},t),i={id:n.id,jsonrpc:n.jsonrpc},s=null;try{await this._processRequest(n,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=dt.serializeError(s))),r(s,i)}async _processRequest(t,r){let[n,i,s]=await e._runAllMiddleware(t,r,this._middleware);if(e._checkForCompletion(t,r,i),await e._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(t,r,n){let i=[],s=null,o=!1;for(let a of n)if([s,o]=await e._runMiddleware(t,r,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(t,r,n,i){return new Promise(s=>{let o=c=>{let f=c||r.error;f&&(r.error=dt.serializeError(f)),s([f,!0])},a=c=>{r.error?o(r.error):(c&&(typeof c!="function"&&o(new dt.EthereumRpcError(dt.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof c}" for request:
${ou(t)}`,{request:t})),i.push(c)),s([null,!1]))};try{n(t,r,a,o)}catch(c){o(c)}})}static async _runReturnHandlers(t){for(let r of t)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(t,r,n){if(!("result"in r)&&!("error"in r))throw new dt.EthereumRpcError(dt.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${ou(t)}`,{request:t});if(!n)throw new dt.EthereumRpcError(dt.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${ou(t)}`,{request:t})}};on.JsonRpcEngine=au;function ou(e){return JSON.stringify(e,null,2)}});var op=E(Is=>{"use strict";u();d();l();Object.defineProperty(Is,"__esModule",{value:!0});Is.mergeMiddleware=void 0;var lE=cu();function dE(e){let t=new lE.JsonRpcEngine;return e.forEach(r=>t.push(r)),t.asMiddleware()}Is.mergeMiddleware=dE});var uu=E(ft=>{"use strict";u();d();l();var fE=ft&&ft.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),an=ft&&ft.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&fE(t,e,r)};Object.defineProperty(ft,"__esModule",{value:!0});an(F0(),ft);an(q0(),ft);an(U0(),ft);an(Qc(),ft);an(cu(),ft);an(op(),ft)});var du=E(lu=>{"use strict";u();d();l();Object.defineProperty(lu,"__esModule",{value:!0});var ap=(To(),pe(Po)),hE=function(){function e(t){if(this._maxConcurrency=t,this._queue=[],t<=0)throw new Error("semaphore must be initialized to a positive value");this._value=t}return e.prototype.acquire=function(){var t=this,r=this.isLocked(),n=new Promise(function(i){return t._queue.push(i)});return r||this._dispatch(),n},e.prototype.runExclusive=function(t){return ap.__awaiter(this,void 0,void 0,function(){var r,n,i;return ap.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:r=s.sent(),n=r[0],i=r[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,t(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},e.prototype.isLocked=function(){return this._value<=0},e.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var t=this._currentReleaser;this._currentReleaser=void 0,t()}},e.prototype._dispatch=function(){var t=this,r=this._queue.shift();if(r){var n=!1;this._currentReleaser=function(){n||(n=!0,t._value++,t._dispatch())},r([this._value--,this._currentReleaser])}},e}();lu.default=hE});var up=E(fu=>{"use strict";u();d();l();Object.defineProperty(fu,"__esModule",{value:!0});var cp=(To(),pe(Po)),pE=du(),gE=function(){function e(){this._semaphore=new pE.default(1)}return e.prototype.acquire=function(){return cp.__awaiter(this,void 0,void 0,function(){var t,r;return cp.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return t=n.sent(),r=t[1],[2,r]}})})},e.prototype.runExclusive=function(t){return this._semaphore.runExclusive(function(){return t()})},e.prototype.isLocked=function(){return this._semaphore.isLocked()},e.prototype.release=function(){this._semaphore.release()},e}();fu.default=gE});var lp=E(Ps=>{"use strict";u();d();l();Object.defineProperty(Ps,"__esModule",{value:!0});Ps.withTimeout=void 0;var Ms=(To(),pe(Po));function yE(e,t,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return Ms.__awaiter(n,void 0,void 0,function(){var o,a,c;return Ms.__generator(this,function(f){switch(f.label){case 0:return o=!1,setTimeout(function(){o=!0,s(r)},t),[4,e.acquire()];case 1:return a=f.sent(),o?(c=Array.isArray(a)?a[1]:a,c()):i(a),[2]}})})})},runExclusive:function(i){return Ms.__awaiter(this,void 0,void 0,function(){var s,o;return Ms.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){e.release()},isLocked:function(){return e.isLocked()}}}Ps.withTimeout=yE});var dp=E(er=>{"use strict";u();d();l();Object.defineProperty(er,"__esModule",{value:!0});er.withTimeout=er.Semaphore=er.Mutex=void 0;var bE=up();Object.defineProperty(er,"Mutex",{enumerable:!0,get:function(){return bE.default}});var mE=du();Object.defineProperty(er,"Semaphore",{enumerable:!0,get:function(){return mE.default}});var _E=lp();Object.defineProperty(er,"withTimeout",{enumerable:!0,get:function(){return _E.withTimeout}})});var hp=E((wA,fp)=>{u();d();l();fp.exports=vE;var wE=Object.prototype.hasOwnProperty;function vE(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var n in r)wE.call(r,n)&&(e[n]=r[n])}return e}});var gp=E((kA,pp)=>{u();d();l();var EE=hp(),SE=fs()();pp.exports=J;function J(e){let t=this;t.currentProvider=e}J.prototype.getBalance=Vn(2,"eth_getBalance");J.prototype.getCode=Vn(2,"eth_getCode");J.prototype.getTransactionCount=Vn(2,"eth_getTransactionCount");J.prototype.getStorageAt=Vn(3,"eth_getStorageAt");J.prototype.call=Vn(2,"eth_call");J.prototype.protocolVersion=Y("eth_protocolVersion");J.prototype.syncing=Y("eth_syncing");J.prototype.coinbase=Y("eth_coinbase");J.prototype.mining=Y("eth_mining");J.prototype.hashrate=Y("eth_hashrate");J.prototype.gasPrice=Y("eth_gasPrice");J.prototype.accounts=Y("eth_accounts");J.prototype.blockNumber=Y("eth_blockNumber");J.prototype.getBlockTransactionCountByHash=Y("eth_getBlockTransactionCountByHash");J.prototype.getBlockTransactionCountByNumber=Y("eth_getBlockTransactionCountByNumber");J.prototype.getUncleCountByBlockHash=Y("eth_getUncleCountByBlockHash");J.prototype.getUncleCountByBlockNumber=Y("eth_getUncleCountByBlockNumber");J.prototype.sign=Y("eth_sign");J.prototype.sendTransaction=Y("eth_sendTransaction");J.prototype.sendRawTransaction=Y("eth_sendRawTransaction");J.prototype.estimateGas=Y("eth_estimateGas");J.prototype.getBlockByHash=Y("eth_getBlockByHash");J.prototype.getBlockByNumber=Y("eth_getBlockByNumber");J.prototype.getTransactionByHash=Y("eth_getTransactionByHash");J.prototype.getTransactionByBlockHashAndIndex=Y("eth_getTransactionByBlockHashAndIndex");J.prototype.getTransactionByBlockNumberAndIndex=Y("eth_getTransactionByBlockNumberAndIndex");J.prototype.getTransactionReceipt=Y("eth_getTransactionReceipt");J.prototype.getUncleByBlockHashAndIndex=Y("eth_getUncleByBlockHashAndIndex");J.prototype.getUncleByBlockNumberAndIndex=Y("eth_getUncleByBlockNumberAndIndex");J.prototype.getCompilers=Y("eth_getCompilers");J.prototype.compileLLL=Y("eth_compileLLL");J.prototype.compileSolidity=Y("eth_compileSolidity");J.prototype.compileSerpent=Y("eth_compileSerpent");J.prototype.newFilter=Y("eth_newFilter");J.prototype.newBlockFilter=Y("eth_newBlockFilter");J.prototype.newPendingTransactionFilter=Y("eth_newPendingTransactionFilter");J.prototype.uninstallFilter=Y("eth_uninstallFilter");J.prototype.getFilterChanges=Y("eth_getFilterChanges");J.prototype.getFilterLogs=Y("eth_getFilterLogs");J.prototype.getLogs=Y("eth_getLogs");J.prototype.getWork=Y("eth_getWork");J.prototype.submitWork=Y("eth_submitWork");J.prototype.submitHashrate=Y("eth_submitHashrate");J.prototype.sendAsync=function(e,t){this.currentProvider.sendAsync(kE(e),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return t(n);t(null,i.result)})};function Y(e){return function(){let t=this;var r=[].slice.call(arguments),n=r.pop();t.sendAsync({method:e,params:r},n)}}function Vn(e,t){return function(){let r=this;var n=[].slice.call(arguments),i=n.pop();n.length<e&&n.push("latest"),r.sendAsync({method:t,params:n},i)}}function kE(e){return EE({id:SE(),jsonrpc:"2.0",params:[]},e)}});var _p=E((AA,mp)=>{"use strict";u();d();l();var yp=(e,t,r,n)=>function(...i){let s=t.promiseModule;return new s((o,a)=>{t.multiArgs?i.push((...f)=>{t.errorFirst?f[0]?a(f):(f.shift(),o(f)):o(f)}):t.errorFirst?i.push((f,h)=>{f?a(f):o(h)}):i.push(o),Reflect.apply(e,this===r?n:this,i)})},bp=new WeakMap;mp.exports=(e,t)=>{t={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...t};let r=typeof e;if(!(e!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${e===null?"null":r}\``);let n=(o,a)=>{let c=bp.get(o);if(c||(c={},bp.set(o,c)),a in c)return c[a];let f=L=>typeof L=="string"||typeof a=="symbol"?a===L:L.test(a),h=Reflect.getOwnPropertyDescriptor(o,a),_=h===void 0||h.writable||h.configurable,A=(t.include?t.include.some(f):!t.exclude.some(f))&&_;return c[a]=A,A},i=new WeakMap,s=new Proxy(e,{apply(o,a,c){let f=i.get(o);if(f)return Reflect.apply(f,a,c);let h=t.excludeMain?o:yp(o,t,s,o);return i.set(o,h),Reflect.apply(h,a,c)},get(o,a){let c=o[a];if(!n(o,a)||c===Function.prototype[a])return c;let f=i.get(c);if(f)return f;if(typeof c=="function"){let h=yp(c,t,s,o);return i.set(c,h),h}return c}});return s}});var Ts=E((TA,wp)=>{u();d();l();var RE=hs().default,hu=class extends RE{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(t){this.updates=this.updates.concat(t),t.forEach(r=>this.emit("update",r))}addInitialResults(t){}getChangesAndClear(){let t=this.updates;return this.updates=[],t}};wp.exports=hu});var Ep=E((LA,vp)=>{u();d();l();var xE=Ts(),pu=class extends xE{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(t){this.allResults=this.allResults.concat(t),super.addResults(t)}addInitialResults(t){this.allResults=this.allResults.concat(t),super.addInitialResults(t)}getAllResults(){return this.allResults}};vp.exports=pu});var cn=E((qA,Rp)=>{u();d();l();Rp.exports={minBlockRef:CE,maxBlockRef:AE,sortBlockRefs:gu,bnToHex:IE,blockRefIsNumber:ME,hexToInt:Ns,incrementHexInt:PE,intToHex:kp,unsafeRandomBytes:TE};function CE(...e){return gu(e)[0]}function AE(...e){let t=gu(e);return t[t.length-1]}function gu(e){return e.sort((t,r)=>t==="latest"||r==="earliest"?1:r==="latest"||t==="earliest"?-1:Ns(t)-Ns(r))}function IE(e){return"0x"+e.toString(16)}function ME(e){return e&&!["earliest","latest","pending"].includes(e)}function Ns(e){return e==null?e:Number.parseInt(e,16)}function PE(e){if(e==null)return e;let t=Ns(e);return kp(t+1)}function kp(e){if(e==null)return e;let t=e.toString(16);return t.length%2&&(t="0"+t),"0x"+t}function TE(e){let t="0x";for(let r=0;r<e;r++)t+=Sp(),t+=Sp();return t}function Sp(){return Math.floor(Math.random()*16).toString(16)}});var Cp=E((VA,xp)=>{u();d();l();var NE=gp(),OE=_p(),BE=Ep(),{bnToHex:WA,hexToInt:Os,incrementHexInt:LE,minBlockRef:jE,blockRefIsNumber:DE}=cn(),yu=class extends BE{constructor({provider:t,params:r}){super(),this.type="log",this.ethQuery=new NE(t),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:t}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=t),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;let n=jE(this.params.toBlock,t),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:t,newBlock:r}){let n=r,i;t?i=LE(t):i=r;let s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(s)).filter(c=>this.matchLog(c));this.addResults(a)}async _fetchLogs(t){return await OE(n=>this.ethQuery.getLogs(t,n))()}matchLog(t){if(Os(this.params.fromBlock)>=Os(t.blockNumber)||DE(this.params.toBlock)&&Os(this.params.toBlock)<=Os(t.blockNumber))return!1;let r=t.address&&t.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,s)=>{let o=t.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(h=>h.toLowerCase()),a.includes(o))})}};xp.exports=yu});var Bs=E((ZA,Ip)=>{u();d();l();Ip.exports=FE;async function FE({provider:e,fromBlock:t,toBlock:r}){t||(t=r);let n=Ap(t),s=Ap(r)-n+1,o=Array(s).fill().map((c,f)=>n+f).map(qE),a=await Promise.all(o.map(c=>HE(e,"eth_getBlockByNumber",[c,!1])));return a=a.filter(c=>c!==null),a}function Ap(e){return e==null?e:Number.parseInt(e,16)}function qE(e){return e==null?e:"0x"+e.toString(16)}function UE(e,t){return new Promise((r,n)=>{e.sendAsync(t,(i,s)=>{i?n(i):s.error?n(s.error):s.result?r(s.result):n(new Error("Result was empty"))})})}async function HE(e,t,r){for(let n=0;n<3;n++)try{return await UE(e,{id:1,jsonrpc:"2.0",method:t,params:r})}catch(i){console.error(`provider.sendAsync failed: ${i.stack||i.message||i}`)}return null}});var Pp=E((XA,Mp)=>{u();d();l();var $E=Ts(),WE=Bs(),{incrementHexInt:VE}=cn(),bu=class extends $E{constructor({provider:t,params:r}){super(),this.type="block",this.provider=t}async update({oldBlock:t,newBlock:r}){let n=r,i=VE(t),o=(await WE({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(o)}};Mp.exports=bu});var Np=E((nI,Tp)=>{u();d();l();var zE=Ts(),JE=Bs(),{incrementHexInt:GE}=cn(),mu=class extends zE{constructor({provider:t}){super(),this.type="tx",this.provider=t}async update({oldBlock:t}){let r=t,n=GE(t),i=await JE({provider:this.provider,fromBlock:n,toBlock:r}),s=[];for(let o of i)s.push(...o.transactions);this.addResults(s)}};Tp.exports=mu});var Lp=E((aI,Bp)=>{u();d();l();var ZE=dp().Mutex,{createAsyncMiddleware:QE,createScaffoldMiddleware:KE}=uu(),YE=Cp(),XE=Pp(),e3=Np(),{intToHex:Op,hexToInt:_u}=cn();Bp.exports=t3;function t3({blockTracker:e,provider:t}){let r=0,n={},i=new ZE,s=r3({mutex:i}),o=KE({eth_newFilter:s(wu(c)),eth_newBlockFilter:s(wu(f)),eth_newPendingTransactionFilter:s(wu(h)),eth_uninstallFilter:s(Ls(A)),eth_getFilterChanges:s(Ls(_)),eth_getFilterLogs:s(Ls(S))}),a=async({oldBlock:M,newBlock:P})=>{if(n.length===0)return;let j=await i.acquire();try{await Promise.all(un(n).map(async X=>{try{await X.update({oldBlock:M,newBlock:P})}catch(ie){console.error(ie)}}))}catch(X){console.error(X)}j()};return o.newLogFilter=c,o.newBlockFilter=f,o.newPendingTransactionFilter=h,o.uninstallFilter=A,o.getFilterChanges=_,o.getFilterLogs=S,o.destroy=()=>{T()},o;async function c(M){let P=new YE({provider:t,params:M}),j=await L(P);return P}async function f(){let M=new XE({provider:t}),P=await L(M);return M}async function h(){let M=new e3({provider:t}),P=await L(M);return M}async function _(M){let P=_u(M),j=n[P];if(!j)throw new Error(`No filter for index "${P}"`);return j.getChangesAndClear()}async function S(M){let P=_u(M),j=n[P];if(!j)throw new Error(`No filter for index "${P}"`);let X=[];return j.type==="log"&&(X=j.getAllResults()),X}async function A(M){let P=_u(M),X=!!n[P];return X&&await O(P),X}async function L(M){let P=un(n).length,j=await e.getLatestBlock();await M.initialize({currentBlock:j}),r++,n[r]=M,M.id=r,M.idHex=Op(r);let X=un(n).length;return N({prevFilterCount:P,newFilterCount:X}),r}async function O(M){let P=un(n).length;delete n[M];let j=un(n).length;N({prevFilterCount:P,newFilterCount:j})}async function T(){let M=un(n).length;n={},N({prevFilterCount:M,newFilterCount:0})}function N({prevFilterCount:M,newFilterCount:P}){if(M===0&&P>0){e.on("sync",a);return}if(M>0&&P===0){e.removeListener("sync",a);return}}}function wu(e){return Ls(async(...t)=>{let r=await e(...t);return Op(r.id)})}function Ls(e){return QE(async(t,r)=>{let n=await e.apply(null,t.params);r.result=n})}function r3({mutex:e}){return t=>async(r,n,i,s)=>{(await e.acquire())(),t(r,n,i,s)}}function un(e,t){let r=[];for(let n in e)r.push(e[n]);return r}});var Fp=E((dI,Dp)=>{u();d();l();var n3=hs().default,{createAsyncMiddleware:jp,createScaffoldMiddleware:i3}=uu(),s3=Lp(),{unsafeRandomBytes:o3,incrementHexInt:a3}=cn(),c3=Bs();Dp.exports=u3;function u3({blockTracker:e,provider:t}){let r={},n=s3({blockTracker:e,provider:t}),i=!1,s=new n3,o=i3({eth_subscribe:jp(a),eth_unsubscribe:jp(c)});return o.destroy=h,{events:s,middleware:o};async function a(_,S){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");let A=_.params[0],L=o3(16),O;switch(A){case"newHeads":O=T({subId:L});break;case"logs":let M=_.params[1],P=await n.newLogFilter(M);O=N({subId:L,filter:P});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${A}"`)}r[L]=O,S.result=L;return;function T({subId:M}){let P={type:A,destroy:async()=>{e.removeListener("sync",P.update)},update:async({oldBlock:j,newBlock:X})=>{let ie=X,re=a3(j);(await c3({provider:t,fromBlock:re,toBlock:ie})).map(l3).filter(be=>be!==null).forEach(be=>{f(M,be)})}};return e.on("sync",P.update),P}function N({subId:M,filter:P}){return P.on("update",X=>f(M,X)),{type:A,destroy:async()=>await n.uninstallFilter(P.idHex)}}}async function c(_,S){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");let A=_.params[0],L=r[A];if(!L){S.result=!1;return}delete r[A],await L.destroy(),S.result=!0}function f(_,S){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:_,result:S}})}function h(){s.removeAllListeners();for(let _ in r)r[_].destroy(),delete r[_];i=!0}}function l3(e){return e==null?null:{hash:e.hash,parentHash:e.parentHash,sha3Uncles:e.sha3Uncles,miner:e.miner,stateRoot:e.stateRoot,transactionsRoot:e.transactionsRoot,receiptsRoot:e.receiptsRoot,logsBloom:e.logsBloom,difficulty:e.difficulty,number:e.number,gasLimit:e.gasLimit,gasUsed:e.gasUsed,nonce:e.nonce,mixHash:e.mixHash,timestamp:e.timestamp,extraData:e.extraData}}});var Up=E(js=>{"use strict";u();d();l();Object.defineProperty(js,"__esModule",{value:!0});js.SubscriptionManager=void 0;var d3=j0(),f3=Fp(),qp=()=>{},vu=class{constructor(t){let r=new d3.PollingBlockTracker({provider:t,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=f3({blockTracker:r,provider:t});this.events=n,this.subscriptionMiddleware=i}async handleRequest(t){let r={};return await this.subscriptionMiddleware(t,r,qp,qp),r}destroy(){this.subscriptionMiddleware.destroy()}};js.SubscriptionManager=vu});var Fs=E(ln=>{"use strict";u();d();l();var Vp=ln&&ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ln,"__esModule",{value:!0});ln.CoinbaseWalletProvider=void 0;var h3=Vp(ti()),p3=Kp(),ce=yn(),G=mt(),g3=ba(),Hp=mi(),Ds=Si(),rt=li(),Eu=Vp(Mh()),zn=bi(),y3=Bh(),b3=Up(),$p="DefaultChainId",Wp="DefaultJsonRpcUrl",Su=class extends p3.EventEmitter{constructor(t){var r,n;super(),this._filterPolyfill=new y3.FilterPolyfill(this),this._subscriptionManager=new b3.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=t.chainId,this._jsonRpcUrlFromOpts=t.jsonRpcUrl,this._overrideIsMetaMask=t.overrideIsMetaMask,this._relayProvider=t.relayProvider,this._storage=t.storage,this._relayEventManager=t.relayEventManager,this.diagnostic=t.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=t.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=t.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=t.qrUrl;let i=this.getChainId(),s=(0,G.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});let o=this._storage.getItem(Hp.LOCAL_STORAGE_ADDRESSES_KEY);if(o){let a=o.split(" ");a[0]!==""&&(this._addresses=a.map(c=>(0,G.ensureAddressString)(c)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._isAuthorized()&&this.initializeRelay(),window.addEventListener("message",a=>{var c;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"&&a.data.data.action==="dappChainSwitched"){let f=a.data.data.chainId,h=(c=a.data.data.jsonRpcUrl)!==null&&c!==void 0?c:this.jsonRpcUrl;this.updateProviderInfo(h,Number(f))}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,G.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var t;return(t=this._storage.getItem(Wp))!==null&&t!==void 0?t:this._jsonRpcUrlFromOpts}set jsonRpcUrl(t){this._storage.setItem(Wp,t)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(t,r){this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=t),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(t,r){this.jsonRpcUrl=t;let n=this.getChainId();this._storage.setItem($p,r.toString(10)),((0,G.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(t,r,n,i,s,o){let c=await(await this.initializeRelay()).watchAsset(t,r,n,i,s,o?.toString()).promise;return(0,rt.isErrorResponse)(c)?!1:!!c.result}async addEthereumChain(t,r,n,i,s,o){var a,c;if((0,G.ensureIntNumber)(t)===this.getChainId())return!1;let f=await this.initializeRelay(),h=f.inlineAddEthereumChain(t.toString());!this._isAuthorized()&&!h&&await f.requestEthereumAccounts().promise;let _=await f.addEthereumChain(t.toString(),r,s,n,i,o).promise;return(0,rt.isErrorResponse)(_)?!1:(((a=_.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],t),((c=_.result)===null||c===void 0?void 0:c.isApproved)===!0)}async switchEthereumChain(t){let n=await(await this.initializeRelay()).switchEthereumChain(t.toString(10),this.selectedAddress||void 0).promise;if((0,rt.isErrorResponse)(n)){if(!n.errorCode)return;throw n.errorCode===ce.standardErrorCodes.provider.unsupportedChain?ce.standardErrors.provider.unsupportedChain():ce.standardErrors.provider.custom({message:n.errorMessage,code:n.errorCode})}let i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,t)}setAppInfo(t,r){this.initializeRelay().then(n=>n.setAppInfo(t,r))}async enable(){var t;return(t=this.diagnostic)===null||t===void 0||t.log(zn.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?Ds.Session.hash(this._relay.session.id):void 0}),this._isAuthorized()?[...this._addresses]:await this.send("eth_requestAccounts")}async close(){(await this.initializeRelay()).resetAndReload()}send(t,r){try{let n=this._send(t,r);if(n instanceof Promise)return n.catch(i=>{throw(0,ce.serializeError)(i,t)})}catch(n){throw(0,ce.serializeError)(n,t)}}_send(t,r){if(typeof t=="string"){let i=t,s=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof r=="function"){let i=t,s=r;return this._sendAsync(i,s)}if(Array.isArray(t))return t.map(s=>this._sendRequest(s));let n=t;return this._sendRequest(n)}async sendAsync(t,r){try{return this._sendAsync(t,r).catch(n=>{throw(0,ce.serializeError)(n,t)})}catch(n){return Promise.reject((0,ce.serializeError)(n,t))}}async _sendAsync(t,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(t)){let i=r;this._sendMultipleRequestsAsync(t).then(s=>i(null,s)).catch(s=>i(s,null));return}let n=r;return this._sendRequestAsync(t).then(i=>n(null,i)).catch(i=>n(i,null))}async request(t){try{return this._request(t).catch(r=>{throw(0,ce.serializeError)(r,t.method)})}catch(r){return Promise.reject((0,ce.serializeError)(r,t.method))}}async _request(t){if(!t||typeof t!="object"||Array.isArray(t))throw ce.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:t});let{method:r,params:n}=t;if(typeof r!="string"||r.length===0)throw ce.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:t});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw ce.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:t});let i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(t){let n=await(await this.initializeRelay()).scanQRCode((0,G.ensureRegExpString)(t)).promise;if((0,rt.isErrorResponse)(n))throw(0,ce.serializeError)(n.errorMessage,"scanQRCode");if(typeof n.result!="string")throw(0,ce.serializeError)("result was not a string","scanQRCode");return n.result}async genericRequest(t,r){let i=await(await this.initializeRelay()).genericRequest(t,r).promise;if((0,rt.isErrorResponse)(i))throw(0,ce.serializeError)(i.errorMessage,"generic");if(typeof i.result!="string")throw(0,ce.serializeError)("result was not a string","generic");return i.result}async connectAndSignIn(t){var r;(r=this.diagnostic)===null||r===void 0||r.log(zn.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::connectAndSignIn",sessionIdHash:this._relay?Ds.Session.hash(this._relay.session.id):void 0});let n;try{let s=await this.initializeRelay();if(!(s instanceof g3.MobileRelay))throw new Error("connectAndSignIn is only supported on mobile");if(n=await s.connectAndSignIn(t).promise,(0,rt.isErrorResponse)(n))throw new Error(n.errorMessage)}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?ce.standardErrors.provider.userRejectedRequest("User denied account authorization"):s}if(!n.result)throw new Error("accounts received is empty");let{accounts:i}=n.result;return this._setAddresses(i),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),n.result}async selectProvider(t){let n=await(await this.initializeRelay()).selectProvider(t).promise;if((0,rt.isErrorResponse)(n))throw(0,ce.serializeError)(n.errorMessage,"selectProvider");if(typeof n.result!="string")throw(0,ce.serializeError)("result was not a string","selectProvider");return n.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(t){let r={jsonrpc:"2.0",id:t.id},{method:n}=t;if(r.result=this._handleSynchronousMethods(t),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(t,r){if(!Array.isArray(t))throw new Error("addresses is not an array");let n=t.map(i=>(0,G.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(Hp.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" ")))}_sendRequestAsync(t){return new Promise((r,n)=>{try{let i=this._handleSynchronousMethods(t);if(i!==void 0)return r({jsonrpc:"2.0",id:t.id,result:i});let s=this._handleAsynchronousFilterMethods(t);if(s!==void 0){s.then(a=>r(Object.assign(Object.assign({},a),{id:t.id}))).catch(a=>n(a));return}let o=this._handleSubscriptionMethods(t);if(o!==void 0){o.then(a=>r({jsonrpc:"2.0",id:t.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(t).then(i=>i&&r(Object.assign(Object.assign({},i),{id:t.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(t){return Promise.all(t.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(t){let{method:r}=t,n=t.params||[];switch(r){case"eth_accounts":return this._eth_accounts();case"eth_coinbase":return this._eth_coinbase();case"eth_uninstallFilter":return this._eth_uninstallFilter(n);case"net_version":return this._net_version();case"eth_chainId":return this._eth_chainId();default:return}}async _handleAsynchronousMethods(t){let{method:r}=t,n=t.params||[];switch(r){case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_sign":return this._eth_sign(n);case"eth_ecRecover":return this._eth_ecRecover(n);case"personal_sign":return this._personal_sign(n);case"personal_ecRecover":return this._personal_ecRecover(n);case"eth_signTransaction":return this._eth_signTransaction(n);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(n);case"eth_sendTransaction":return this._eth_sendTransaction(n);case"eth_signTypedData_v1":return this._eth_signTypedData_v1(n);case"eth_signTypedData_v2":return this._throwUnsupportedMethodError();case"eth_signTypedData_v3":return this._eth_signTypedData_v3(n);case"eth_signTypedData_v4":case"eth_signTypedData":return this._eth_signTypedData_v4(n);case"cbWallet_arbitrary":return this._cbwallet_arbitrary(n);case"wallet_addEthereumChain":return this._wallet_addEthereumChain(n);case"wallet_switchEthereumChain":return this._wallet_switchEthereumChain(n);case"wallet_watchAsset":return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(t,this.jsonRpcUrl).catch(s=>{var o;throw(s.code===ce.standardErrorCodes.rpc.methodNotFound||s.code===ce.standardErrorCodes.rpc.methodNotSupported)&&((o=this.diagnostic)===null||o===void 0||o.log(zn.EVENTS.METHOD_NOT_IMPLEMENTED,{method:t.method,sessionIdHash:this._relay?Ds.Session.hash(this._relay.session.id):void 0})),s})}_handleAsynchronousFilterMethods(t){let{method:r}=t,n=t.params||[];switch(r){case"eth_newFilter":return this._eth_newFilter(n);case"eth_newBlockFilter":return this._eth_newBlockFilter();case"eth_newPendingTransactionFilter":return this._eth_newPendingTransactionFilter();case"eth_getFilterChanges":return this._eth_getFilterChanges(n);case"eth_getFilterLogs":return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(t){switch(t.method){case"eth_subscribe":case"eth_unsubscribe":return this._subscriptionManager.handleRequest(t)}}_isKnownAddress(t){try{let r=(0,G.ensureAddressString)(t);return this._addresses.map(i=>(0,G.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(t){var r;if(!this._isKnownAddress(t))throw(r=this.diagnostic)===null||r===void 0||r.log(zn.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(t){let r=t.from?(0,G.ensureAddressString)(t.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);let n=t.to?(0,G.ensureAddressString)(t.to):null,i=t.value!=null?(0,G.ensureBN)(t.value):new h3.default(0),s=t.data?(0,G.ensureBuffer)(t.data):y.alloc(0),o=t.nonce!=null?(0,G.ensureIntNumber)(t.nonce):null,a=t.gasPrice!=null?(0,G.ensureBN)(t.gasPrice):null,c=t.maxFeePerGas!=null?(0,G.ensureBN)(t.maxFeePerGas):null,f=t.maxPriorityFeePerGas!=null?(0,G.ensureBN)(t.maxPriorityFeePerGas):null,h=t.gas!=null?(0,G.ensureBN)(t.gas):null,_=t.chainId?(0,G.ensureIntNumber)(t.chainId):this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:f,gasLimit:h,chainId:_}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw ce.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw ce.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(t,r,n,i){this._ensureKnownAddress(r);try{let o=await(await this.initializeRelay()).signEthereumMessage(t,r,n,i).promise;if((0,rt.isErrorResponse)(o))throw new Error(o.errorMessage);return{jsonrpc:"2.0",id:0,result:o.result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?ce.standardErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(t,r,n){let s=await(await this.initializeRelay()).ethereumAddressFromSignedMessage(t,r,n).promise;if((0,rt.isErrorResponse)(s))throw new Error(s.errorMessage);return{jsonrpc:"2.0",id:0,result:s.result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,G.hexStringFromIntNumber)(this.getChainId())}getChainId(){let t=this._storage.getItem($p);if(!t)return(0,G.ensureIntNumber)(this._chainIdFromOpts);let r=parseInt(t,10);return(0,G.ensureIntNumber)(r)}async _eth_requestAccounts(){var t;if((t=this.diagnostic)===null||t===void 0||t.log(zn.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?Ds.Session.hash(this._relay.session.id):void 0}),this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{if(r=await(await this.initializeRelay()).requestEthereumAccounts().promise,(0,rt.isErrorResponse)(r))throw new Error(r.errorMessage)}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?ce.standardErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(t){this._requireAuthorization();let r=(0,G.ensureAddressString)(t[0]),n=(0,G.ensureBuffer)(t[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(t){let r=(0,G.ensureBuffer)(t[0]),n=(0,G.ensureBuffer)(t[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(t){this._requireAuthorization();let r=(0,G.ensureBuffer)(t[0]),n=(0,G.ensureAddressString)(t[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(t){let r=(0,G.ensureBuffer)(t[0]),n=(0,G.ensureBuffer)(t[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(t){this._requireAuthorization();let r=this._prepareTransactionParams(t[0]||{});try{let i=await(await this.initializeRelay()).signEthereumTransaction(r).promise;if((0,rt.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?ce.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(t){let r=(0,G.ensureBuffer)(t[0]),i=await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise;if((0,rt.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}async _eth_sendTransaction(t){this._requireAuthorization();let r=this._prepareTransactionParams(t[0]||{});try{let i=await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise;if((0,rt.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?ce.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(t){this._requireAuthorization();let r=(0,G.ensureParsedJSONObject)(t[0]),n=(0,G.ensureAddressString)(t[1]);this._ensureKnownAddress(n);let i=Eu.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(t){this._requireAuthorization();let r=(0,G.ensureAddressString)(t[0]),n=(0,G.ensureParsedJSONObject)(t[1]);this._ensureKnownAddress(r);let i=Eu.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(t){this._requireAuthorization();let r=(0,G.ensureAddressString)(t[0]),n=(0,G.ensureParsedJSONObject)(t[1]);this._ensureKnownAddress(r);let i=Eu.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _cbwallet_arbitrary(t){let r=t[0],n=t[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(t){var r,n,i,s;let o=t[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw ce.standardErrors.rpc.invalidParams("chainName is a required field");if(!o.nativeCurrency)throw ce.standardErrors.rpc.invalidParams("nativeCurrency is a required field");let a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(t){let r=t[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(t){let r=Array.isArray(t)?t[0]:t;if(!r.type)throw ce.standardErrors.rpc.invalidParams("Type is required");if(r?.type!=="ERC20")throw ce.standardErrors.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!r?.options)throw ce.standardErrors.rpc.invalidParams("Options are required");if(!r?.options.address)throw ce.standardErrors.rpc.invalidParams("Address is required");let n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,s,a,o,n)}}_eth_uninstallFilter(t){let r=(0,G.ensureHexString)(t[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(t){let r=t[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(t){let r=(0,G.ensureHexString)(t[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(t){let r=(0,G.ensureHexString)(t[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(t=>(t.setAccountsCallback((r,n)=>this._setAddresses(r,n)),t.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),t.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=t,t))}};ln.CoinbaseWalletProvider=Su});var zp=E(qs=>{"use strict";u();d();l();Object.defineProperty(qs,"__esModule",{value:!0});qs.RelayEventManager=void 0;var m3=mt(),ku=class{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;let t=this._nextRequestId,r=(0,m3.prepend0x)(t.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),t}};qs.RelayEventManager=ku});var Ru=E(Hs=>{"use strict";u();d();l();Object.defineProperty(Hs,"__esModule",{value:!0});Hs.CoinbaseWalletSDK=void 0;var _3=Cu(),w3=Au(),Jp=mt(),v3=Zu(),E3=Fs(),S3=ba(),k3=ga(),R3=zp(),x3=la(),C3=da(),Gp=fi(),Us=class e{constructor(t){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;let s=t.linkAPIUrl||w3.LINK_API_URL;typeof t.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=t.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=t.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=t.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this._diagnosticLogger=t.diagnosticLogger,this._reloadOnDisconnect=(i=t.reloadOnDisconnect)!==null&&i!==void 0?i:!0;let o=new URL(s),a=`${o.protocol}//${o.host}`;if(this._storage=new v3.ScopedLocalStorage(`-walletlink:${a}`),this._storage.setItem("version",e.VERSION),this.walletExtension||this.coinbaseBrowser)return;this._relayEventManager=new R3.RelayEventManager;let c=(0,Jp.isMobileWeb)(),f=t.uiConstructor||(_=>c?new k3.MobileRelayUI(_):new x3.WalletLinkRelayUI(_)),h={linkAPIUrl:s,version:Gp.LIB_VERSION,darkMode:!!t.darkMode,headlessMode:!!t.headlessMode,uiConstructor:f,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect,enableMobileWalletLink:t.enableMobileWalletLink};this._relay=c?new S3.MobileRelay(h):new C3.WalletLinkRelay(h),this.setAppInfo(t.appName,t.appLogoUrl),!t.headlessMode&&this._relay.attachUI()}makeWeb3Provider(t="",r=1){let n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(t,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;let i=this.coinbaseBrowser;if(i)return i;let s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return t||s.setConnectDisabled(!0),new E3.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:t,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(t,r){var n;this._appName=t||"DApp",this._appLogoUrl=r||(0,Jp.getFavicon)();let i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var t;let r=this===null||this===void 0?void 0:this.walletExtension;r?r.close():(t=this._relay)===null||t===void 0||t.resetAndReload()}getQrUrl(){var t,r;return(r=(t=this._relay)===null||t===void 0?void 0:t.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(t,r=240){return(0,_3.walletLogo)(t,r)}get walletExtension(){var t;return(t=window.coinbaseWalletExtension)!==null&&t!==void 0?t:window.walletLinkExtension}get coinbaseBrowser(){var t,r;try{let n=(t=window.ethereum)!==null&&t!==void 0?t:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(t){return typeof t.isCipher=="boolean"&&t.isCipher}};Hs.CoinbaseWalletSDK=Us;Us.VERSION=Gp.LIB_VERSION});var M3=E(vr=>{u();d();l();Object.defineProperty(vr,"__esModule",{value:!0});vr.CoinbaseWalletProvider=vr.CoinbaseWalletSDK=void 0;var xu=Ru(),Zp=Fs(),A3=Ru();Object.defineProperty(vr,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return A3.CoinbaseWalletSDK}});var I3=Fs();Object.defineProperty(vr,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return I3.CoinbaseWalletProvider}});vr.default=xu.CoinbaseWalletSDK;typeof window<"u"&&(window.CoinbaseWalletSDK=xu.CoinbaseWalletSDK,window.CoinbaseWalletProvider=Zp.CoinbaseWalletProvider,window.WalletLink=xu.CoinbaseWalletSDK,window.WalletLinkProvider=Zp.CoinbaseWalletProvider)});export default M3();
