import{a as yr}from"./chunk-65GJ65H6.js";import{$ as je,A as sr,Aa as Te,B as Ge,Ba as ve,Ca as Be,D as ar,Da as We,E as oe,Ea as xr,G as cr,H as mr,I as $e,J as pr,L as ur,La as hr,M as ne,N as qe,O as L,Oa as gr,Pa as br,R as fr,S as O,Sa as Er,T as dr,U as lr,Z as Oe,_ as _e,a as er,aa as Ve,b as W,ba as k,c as F,ca as J,d as T,da as ie,e as rr,ea as se,f as tr,fa as ae,g as or,ga as ce,h as Y,ha as me,i as nr,ia as G,j as K,ja as pe,k as Q,ka as ue,la as fe,ma as _,n as ee,na as j,o as M,oa as Z,pa as de,q as D,qa as $,r as C,ra as le,s as ke,sa as xe,t as q,ta as ye,u as re,ua as he,v as N,va as ge,wa as be,x as A,xa as Ee,y as te,ya as Ie,z as ir,za as we}from"./chunk-OZZRRPYE.js";import{h as s,j as a,n as c}from"./chunk-KGCAX4NX.js";s();c();a();s();c();a();async function Pe(e){return new Promise(r=>setTimeout(r,e))}function Ke(e,{delay:r=100,retryCount:t=2,shouldRetry:o=()=>!0}={}){return new Promise((n,i)=>{let m=async({count:p=0}={})=>{let d=async({error:l})=>{let E=typeof r=="function"?r({count:p,error:l}):r;E&&await Pe(E),m({count:p+1})};try{let l=await e();n(l)}catch(l){if(p<t&&await o({count:p,error:l}))return d({error:l});i(l)}};m()})}s();c();a();s();c();a();s();c();a();s();c();a();var Ae=new sr(8192);function Ir(e,{enabled:r=!0,id:t}){if(!r||!t)return e();if(Ae.get(t))return Ae.get(t);let o=e().finally(()=>Ae.delete(t));return Ae.set(t,o),o}function wr(e,r={}){return async(t,o={})=>{let{dedupe:n=!1,methods:i,retryDelay:m=150,retryCount:p=3,uid:d}={...r,...o},{method:l}=t;if(i?.exclude?.includes(l))throw new j(new Error("method not supported"),{method:l});if(i?.include&&!i.include.includes(l))throw new j(new Error("method not supported"),{method:l});let E=n?q(`${d}.${L(t)}`):void 0;return Ir(()=>Ke(async()=>{try{return await e(t)}catch(x){let u=x;switch(u.code){case se.code:throw new se(u);case ae.code:throw new ae(u);case ce.code:throw new ce(u,{method:t.method});case me.code:throw new me(u);case G.code:throw new G(u);case pe.code:throw new pe(u);case ue.code:throw new ue(u);case fe.code:throw new fe(u);case _.code:throw new _(u);case j.code:throw new j(u,{method:t.method});case Z.code:throw new Z(u);case de.code:throw new de(u);case $.code:throw new $(u);case le.code:throw new le(u);case xe.code:throw new xe(u);case ye.code:throw new ye(u);case he.code:throw new he(u);case ge.code:throw new ge(u);case be.code:throw new be(u);case Ee.code:throw new Ee(u);case Ie.code:throw new Ie(u);case we.code:throw new we(u);case Te.code:throw new Te(u);case ve.code:throw new ve(u);case Be.code:throw new Be(u);case 5e3:throw new $(u);default:throw x instanceof T?x:new We(u)}}},{delay:({count:x,error:u})=>{if(u&&u instanceof k){let I=u?.headers?.get("Retry-After");if(I?.match(/\d/))return Number.parseInt(I)*1e3}return~~(1<<x)*m},retryCount:p,shouldRetry:({error:x})=>Qr(x)}),{enabled:n,id:E})}}function Qr(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===Z.code||e.code===G.code:e instanceof k&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}s();c();a();var Se=256,Ce;function Re(e=11){if(!Ce||Se+e>256*2){Ce="",Se=0;for(let r=0;r<256;r++)Ce+=(256+Math.random()*256|0).toString(16).substring(1)}return Ce.substring(Se,Se+++e)}function V({key:e,methods:r,name:t,request:o,retryCount:n=3,retryDelay:i=150,timeout:m,type:p},d){let l=Re();return{config:{key:e,methods:r,name:t,request:o,retryCount:n,retryDelay:i,timeout:m,type:p},request:wr(o,{methods:r,retryCount:n,retryDelay:i,uid:l}),value:d}}function et(e,r={}){let{key:t="custom",methods:o,name:n="Custom Provider",retryDelay:i}=r;return({retryCount:m})=>V({key:t,methods:o,name:n,request:e.request.bind(e),retryCount:r.retryCount??m,retryDelay:i,type:"custom"})}s();c();a();function Je(e,{errorInstance:r=new Error("timed out"),timeout:t,signal:o}){return new Promise((n,i)=>{(async()=>{let m;try{let p=new AbortController;t>0&&(m=setTimeout(()=>{o?p.abort():i(r)},t)),n(await e({signal:p?.signal||null}))}catch(p){p?.name==="AbortError"&&i(r),i(p)}finally{clearTimeout(m)}})()})}s();c();a();s();c();a();var Ue=class extends T{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}};s();c();a();s();c();a();function rt(){return{current:0,take(){return this.current++},reset(){this.current=0}}}var Ze=rt();function Tr(e,r={}){return{async request(t){let{body:o,onRequest:n=r.onRequest,onResponse:i=r.onResponse,timeout:m=r.timeout??1e4}=t,p={...r.fetchOptions??{},...t.fetchOptions??{}},{headers:d,method:l,signal:E}=p;try{let x=await Je(async({signal:I})=>{let w={...p,body:Array.isArray(o)?L(o.map(B=>({jsonrpc:"2.0",id:B.id??Ze.take(),...B}))):L({jsonrpc:"2.0",id:o.id??Ze.take(),...o}),headers:{"Content-Type":"application/json",...d},method:l||"POST",signal:E||(m>0?I:null)},f=new Request(e,w),b=await n?.(f,w)??{...w,url:e};return await fetch(b.url??e,b)},{errorInstance:new ie({body:o,url:e}),timeout:m,signal:!0});i&&await i(x);let u;if(x.headers.get("Content-Type")?.startsWith("application/json"))u=await x.json();else{u=await x.text();try{u=JSON.parse(u||"{}")}catch(I){if(x.ok)throw I;u={error:u}}}if(!x.ok)throw new k({body:o,details:L(u.error)||x.statusText,headers:x.headers,status:x.status,url:e});return u}catch(x){throw x instanceof k||x instanceof ie?x:new k({body:o,cause:x,url:e})}}}}function tt(e,r={}){let{batch:t,fetchOptions:o,key:n="http",methods:i,name:m="HTTP JSON-RPC",onFetchRequest:p,onFetchResponse:d,retryDelay:l,raw:E}=r;return({chain:x,retryCount:u,timeout:I})=>{let{batchSize:w=1e3,wait:f=0}=typeof t=="object"?t:{},b=r.retryCount??u,v=I??r.timeout??1e4,B=e||x?.rpcUrls.default.http[0];if(!B)throw new Ue;let P=Tr(B,{fetchOptions:o,onRequest:p,onResponse:d,timeout:v});return V({key:n,methods:i,name:m,async request({method:U,params:S}){let R={method:U,params:S},{schedule:z}=Er({id:B,wait:f,shouldSplitBatch(H){return H.length>w},fn:H=>P.request({body:H}),sort:(H,Yr)=>H.id-Yr.id}),X=async H=>t?z(H):[await P.request({body:H})],[{error:Le,result:Qe}]=await X(R);if(E)return{error:Le,result:Qe};if(Le)throw new J({body:R,error:Le,url:B});return Qe},retryCount:b,retryDelay:l,timeout:v,type:"http"},{fetchOptions:o,url:B})}}s();c();a();function Go(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}s();c();a();s();c();a();var Fe=class extends T{constructor({value:r}){super(`Number \`${r}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}};function ot(e,r){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new Fe({value:e});let[t,o="0"]=e.split("."),n=t.startsWith("-");if(n&&(t=t.slice(1)),o=o.replace(/(0+)$/,""),r===0)Math.round(+`.${o}`)===1&&(t=`${BigInt(t)+1n}`),o="";else if(o.length>r){let[i,m,p]=[o.slice(0,r-1),o.slice(r-1,r),o.slice(r)],d=Math.round(+`${m}.${p}`);d>9?o=`${BigInt(i)+BigInt(1)}0`.padStart(i.length+1,"0"):o=`${i}${d}`,o.length>r&&(o=o.slice(1),t=`${BigInt(t)+1n}`),o=o.slice(0,r)}else o=o.padEnd(r,"0");return BigInt(`${n?"-":""}${t}${o}`)}s();c();a();s();c();a();var nt=3;function an(e,{abi:r,address:t,args:o,docsPath:n,functionName:i,sender:m}){let p=e instanceof Ve?e:e instanceof T?e.walk(w=>"data"in w)||e.walk():{},{code:d,data:l,details:E,message:x,shortMessage:u}=p,I=e instanceof tr?new je({functionName:i}):[nt,G.code].includes(d)&&(l||E||x||u)?new _e({abi:r,data:typeof l=="object"?l.data:l,functionName:i,message:p instanceof J?E:u??x}):e;return new Oe(I,{abi:r,args:o,contractAddress:t,docsPath:n,functionName:i,sender:m})}s();c();a();s();c();a();function vr(e){let r=A(`0x${e.substring(4)}`).substring(26);return Ge(`0x${r}`)}s();c();a();async function Pr({hash:e,signature:r}){let t=W(e)?e:D(e),{secp256k1:o}=await import("./secp256k1-DBGD4II3.js");return`0x${(()=>{if(typeof r=="object"&&"r"in r&&"s"in r){let{r:l,s:E,v:x,yParity:u}=r,I=Number(u??x),w=Br(I);return new o.Signature(ee(l),ee(E)).addRecoveryBit(w)}let m=W(r)?r:D(r);if(F(m)!==65)throw new Error("invalid signature length");let p=M(`0x${m.slice(130)}`),d=Br(p);return o.Signature.fromCompact(m.substring(2,130)).addRecoveryBit(d)})().recoverPublicKey(t.substring(2)).toHex(!1)}`}function Br(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function Sn({hash:e,signature:r}){return vr(await Pr({hash:e,signature:r}))}s();c();a();function Mn(e,r="hex"){let t=Ar(e),o=ne(new Uint8Array(t.length));return t.encode(o),r==="hex"?C(o.bytes):o.bytes}function Ar(e){return Array.isArray(e)?it(e.map(r=>Ar(r))):st(e)}function it(e){let r=e.reduce((n,i)=>n+i.length,0),t=Sr(r);return{length:r<=55?1+r:1+t+r,encode(n){r<=55?n.pushByte(192+r):(n.pushByte(247+t),t===1?n.pushUint8(r):t===2?n.pushUint16(r):t===3?n.pushUint24(r):n.pushUint32(r));for(let{encode:i}of e)i(n)}}}function st(e){let r=typeof e=="string"?N(e):e,t=Sr(r.length);return{length:r.length===1&&r[0]<128?1:r.length<=55?1+r.length:1+t+r.length,encode(n){r.length===1&&r[0]<128?n.pushBytes(r):r.length<=55?(n.pushByte(128+r.length),n.pushBytes(r)):(n.pushByte(183+t),t===1?n.pushUint8(r.length):t===2?n.pushUint16(r.length):t===3?n.pushUint24(r.length):n.pushUint32(r.length),n.pushBytes(r))}}}function Sr(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new T("Length is too large.")}s();c();a();var Cr=class extends T{constructor(r,{account:t,docsPath:o,chain:n,data:i,gas:m,gasPrice:p,maxFeePerGas:d,maxPriorityFeePerGas:l,nonce:E,to:x,value:u}){let I=dr({from:t?.address,to:x,value:typeof u<"u"&&`${fr(u)} ${n?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:m,gasPrice:typeof p<"u"&&`${O(p)} gwei`,maxFeePerGas:typeof d<"u"&&`${O(d)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${O(l)} gwei`,nonce:E});super(r.shortMessage,{cause:r,docsPath:o,metaMessages:[...r.metaMessages?[...r.metaMessages," "]:[],"Estimate Gas Arguments:",I].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=r}};s();c();a();var Rr=class extends T{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}},Ur=class extends T{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}},Fr=class extends T{constructor({maxPriorityFeePerGas:r}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${O(r)} gwei).`,{name:"MaxFeePerGasTooLowError"})}};s();c();a();var Dr=class extends T{constructor({blockHash:r,blockNumber:t}){let o="Block";r&&(o=`Block at hash "${r}"`),t&&(o=`Block at number "${t}"`),super(`${o} could not be found.`,{name:"BlockNotFoundError"})}};s();c();a();s();c();a();var Xe={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Nr(e){let r={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?M(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?M(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Xe[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(r.authorizationList=at(e.authorizationList)),r.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof r.v=="bigint"){if(r.v===0n||r.v===27n)return 0;if(r.v===1n||r.v===28n)return 1;if(r.v>=35n)return r.v%2n===0n?1:0}})(),r.type==="legacy"&&(delete r.accessList,delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.yParity),r.type==="eip2930"&&(delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas),r.type==="eip1559"&&delete r.maxFeePerBlobGas,r}function at(e){return e.map(r=>({address:r.address,chainId:Number(r.chainId),nonce:Number(r.nonce),r:r.r,s:r.s,yParity:Number(r.yParity)}))}function di(e){let r=(e.transactions??[]).map(t=>typeof t=="string"?t:Nr(t));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:r,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}s();c();a();function zr(e){let{kzg:r}=e,t=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),o=typeof e.blobs[0]=="string"?e.blobs.map(i=>N(i)):e.blobs,n=[];for(let i of o)n.push(Uint8Array.from(r.blobToKzgCommitment(i)));return t==="bytes"?n:n.map(i=>C(i))}s();c();a();function Hr(e){let{kzg:r}=e,t=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),o=typeof e.blobs[0]=="string"?e.blobs.map(m=>N(m)):e.blobs,n=typeof e.commitments[0]=="string"?e.commitments.map(m=>N(m)):e.commitments,i=[];for(let m=0;m<o.length;m++){let p=o[m],d=n[m];i.push(Uint8Array.from(r.computeBlobKzgProof(p,d)))}return t==="bytes"?i:i.map(m=>C(m))}s();c();a();s();c();a();s();c();a();function Mr(e,r){let t=r||"hex",o=yr(W(e,{strict:!1})?re(e):e);return t==="bytes"?o:D(o)}function Lr(e){let{commitment:r,version:t=1}=e,o=e.to??(typeof r=="string"?"hex":"bytes"),n=Mr(r,"bytes");return n.set([t],0),o==="bytes"?n:C(n)}function ji(e){let{commitments:r,version:t}=e,o=e.to??(typeof r[0]=="string"?"hex":"bytes"),n=[];for(let i of r)n.push(Lr({commitment:i,to:o,version:t}));return n}s();c();a();s();c();a();s();c();a();var De=class extends T{constructor({maxSize:r,size:t}){super("Blob size is too large.",{metaMessages:[`Max: ${r} bytes`,`Given: ${t} bytes`],name:"BlobSizeTooLargeError"})}},Ne=class extends T{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}};function kr(e){let r=e.to??(typeof e.data=="string"?"hex":"bytes"),t=typeof e.data=="string"?N(e.data):e.data,o=F(t);if(!o)throw new Ne;if(o>761855)throw new De({maxSize:761855,size:o});let n=[],i=!0,m=0;for(;i;){let p=ne(new Uint8Array(131072)),d=0;for(;d<4096;){let l=t.slice(m,m+31);if(p.pushByte(0),p.pushBytes(l),l.length<31){p.pushByte(128),i=!1;break}d++,m+=31}n.push(p)}return r==="bytes"?n.map(p=>p.bytes):n.map(p=>C(p.bytes))}function ys(e){let{data:r,kzg:t,to:o}=e,n=e.blobs??kr({data:r,to:o}),i=e.commitments??zr({blobs:n,kzg:t,to:o}),m=e.proofs??Hr({blobs:n,commitments:i,kzg:t,to:o}),p=[];for(let d=0;d<n.length;d++)p.push({blob:n[d],commitment:i[d],proof:m[d]});return p}s();c();a();function ws(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new lr({transaction:e})}s();c();a();s();c();a();var Gr="/docs/contract/decodeEventLog";function $r(e){let{abi:r,data:t,strict:o,topics:n}=e,i=o??!0,[m,...p]=n;if(!m)throw new or({docsPath:Gr});let d=r.length===1?r[0]:r.find(f=>f.type==="event"&&m===te(er(f)));if(!(d&&"name"in d)||d.type!=="event")throw new Y(m,{docsPath:Gr});let{name:l,inputs:E}=d,x=E?.some(f=>!("name"in f&&f.name)),u=x?[]:{},I=E.filter(f=>"indexed"in f&&f.indexed);for(let f=0;f<I.length;f++){let b=I[f],v=p[f];if(!v)throw new Q({abiItem:d,param:b});u[x?f:b.name||f]=mt({param:b,value:v})}let w=E.filter(f=>!("indexed"in f&&f.indexed));if(w.length>0){if(t&&t!=="0x")try{let f=qe(w,t);if(f)if(x)u=[...u,...f];else for(let b=0;b<w.length;b++)u[w[b].name]=f[b]}catch(f){if(i)throw f instanceof rr||f instanceof ur?new K({abiItem:d,data:t,params:w,size:F(t)}):f}else if(i)throw new K({abiItem:d,data:"0x",params:w,size:0})}return{eventName:l,args:Object.values(u).length>0?u:void 0}}function mt({param:e,value:r}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?r:(qe([e],r)||[])[0]}function Os(e){let{abi:r,args:t,logs:o,strict:n=!0}=e,i=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return o.map(m=>{try{let p=r.find(l=>l.type==="event"&&m.topics[0]===te(l));if(!p)return null;let d=$r({...m,abi:[p],strict:n});return i&&!i.includes(d.eventName)||!pt({args:d.args,inputs:p.inputs,matchArgs:t})?null:{...d,...m}}catch(p){let d,l;if(p instanceof Y)return null;if(p instanceof K||p instanceof Q){if(n)return null;d=p.abiItem.name,l=p.abiItem.inputs?.some(E=>!("name"in E&&E.name))}return{...m,args:l?[]:{},eventName:d}}}).filter(Boolean)}function pt(e){let{args:r,inputs:t,matchArgs:o}=e;if(!o)return!0;if(!r)return!1;function n(i,m,p){try{return i.type==="address"?hr(m,p):i.type==="string"||i.type==="bytes"?A(re(m))===p:m===p}catch{return!1}}return Array.isArray(r)&&Array.isArray(o)?o.every((i,m)=>{if(i==null)return!0;let p=t[m];return p?(Array.isArray(i)?i:[i]).some(l=>n(p,l,r[m])):!1}):typeof r=="object"&&!Array.isArray(r)&&typeof o=="object"&&!Array.isArray(o)?Object.entries(o).every(([i,m])=>{if(m==null)return!0;let p=t.find(l=>l.name===i);return p?(Array.isArray(m)?m:[m]).some(l=>n(p,l,r[i])):!1}):!1}s();c();a();function qr(e,{args:r,eventName:t}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...t?{args:r,eventName:t}:{}}}s();c();a();var ut=new Map,ft=new Map;function dt(e){let r=(n,i)=>({clear:()=>i.delete(n),get:()=>i.get(n),set:m=>i.set(n,m)}),t=r(e,ut),o=r(e,ft);return{clear:()=>{t.clear(),o.clear()},promise:t,response:o}}async function Ys(e,{cacheKey:r,cacheTime:t=Number.POSITIVE_INFINITY}){let o=dt(r),n=o.response.get();if(n&&t>0&&new Date().getTime()-n.created.getTime()<t)return n.data;let i=o.promise.get();i||(i=e(),o.promise.set(i));try{let m=await i;return o.response.set({created:new Date,data:m}),m}finally{o.promise.clear()}}s();c();a();function na({chain:e,currentChainId:r}){if(!e)throw new br;if(r!==e.id)throw new gr({chain:e,currentChainId:r})}s();c();a();var lt={"0x0":"reverted","0x1":"success"};function fa(e){let r={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(t=>qr(t)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?M(e.transactionIndex):null,status:e.status?lt[e.status]:null,type:e.type?Xe[e.type]||e.type:null};return e.blobGasPrice&&(r.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(r.blobGasUsed=BigInt(e.blobGasUsed)),r}s();c();a();function xt(e){let{batch:r,cacheTime:t=e.pollingInterval??4e3,ccipRead:o,key:n="base",name:i="Base Client",pollingInterval:m=4e3,type:p="base"}=e,d=e.chain,l=e.account?pr(e.account):void 0,{config:E,request:x,value:u}=e.transport({chain:d,pollingInterval:m}),I={...E,...u},w={account:l,batch:r,cacheTime:t,ccipRead:o,chain:d,key:n,name:i,pollingInterval:m,request:x,transport:I,type:p,uid:Re()};function f(b){return v=>{let B=v(b);for(let U in w)delete B[U];let P={...b,...B};return Object.assign(P,{extend:f(P)})}}return Object.assign(w,{extend:f(w)})}s();c();a();function yt(e,r={}){let{key:t="fallback",name:o="Fallback",rank:n=!1,shouldThrow:i=Or,retryCount:m,retryDelay:p}=r;return({chain:d,pollingInterval:l=4e3,timeout:E,...x})=>{let u=e,I=()=>{},w=V({key:t,name:o,async request({method:f,params:b}){let v,B=async(P=0)=>{let U=u[P]({...x,chain:d,retryCount:0,timeout:E});try{let S=await U.request({method:f,params:b});return I({method:f,params:b,response:S,transport:U,status:"success"}),S}catch(S){if(I({error:S,method:f,params:b,transport:U,status:"error"}),i(S)||P===u.length-1||(v??=u.slice(P+1).some(R=>{let{include:z,exclude:X}=R({chain:d}).config.methods||{};return z?z.includes(f):X?!X.includes(f):!0}),!v))throw S;return B(P+1)}};return B()},retryCount:m,retryDelay:p,type:"fallback"},{onResponse:f=>I=f,transports:u.map(f=>f({chain:d,retryCount:0}))});if(n){let f=typeof n=="object"?n:{};ht({chain:d,interval:f.interval??l,onTransports:b=>u=b,ping:f.ping,sampleCount:f.sampleCount,timeout:f.timeout,transports:u,weights:f.weights})}return w}}function Or(e){return!!("code"in e&&typeof e.code=="number"&&(e.code===_.code||e.code===$.code||xr.nodeMessage.test(e.message)||e.code===5e3))}function ht({chain:e,interval:r=4e3,onTransports:t,ping:o,sampleCount:n=10,timeout:i=1e3,transports:m,weights:p={}}){let{stability:d=.7,latency:l=.3}=p,E=[],x=async()=>{let u=await Promise.all(m.map(async f=>{let b=f({chain:e,retryCount:0,timeout:i}),v=Date.now(),B,P;try{await(o?o({transport:b}):b.request({method:"net_listening"})),P=1}catch{P=0}finally{B=Date.now()}return{latency:B-v,success:P}}));E.push(u),E.length>n&&E.shift();let I=Math.max(...E.map(f=>Math.max(...f.map(({latency:b})=>b)))),w=m.map((f,b)=>{let v=E.map(R=>R[b].latency),P=1-v.reduce((R,z)=>R+z,0)/v.length/I,U=E.map(R=>R[b].success),S=U.reduce((R,z)=>R+z,0)/U.length;return S===0?[0,b]:[l*P+d*S,b]}).sort((f,b)=>b[0]-f[0]);t(w.map(([,f])=>m[f])),await Pe(r),x()};x()}s();c();a();s();c();a();var ze=class extends T{constructor({domain:r}){super(`Invalid domain "${L(r)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}},He=class extends T{constructor({primaryType:r,types:t}){super(`Invalid primary type \`${r}\` must be one of \`${JSON.stringify(Object.keys(t))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}},Me=class extends T{constructor({type:r}){super(`Struct type "${r}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}};s();c();a();function gt(e){let{domain:r={},message:t,primaryType:o}=e,n={EIP712Domain:Jr({domain:r}),...e.types};Kr({domain:r,message:t,primaryType:o,types:n});let i=["0x1901"];return r&&i.push(_r({domain:r,types:n})),o!=="EIP712Domain"&&i.push(Ye({data:t,primaryType:o,types:n})),A(oe(i))}function _r({domain:e,types:r}){return Ye({data:e,primaryType:"EIP712Domain",types:r})}function Ye({data:e,primaryType:r,types:t}){let o=jr({data:e,primaryType:r,types:t});return A(o)}function jr({data:e,primaryType:r,types:t}){let o=[{type:"bytes32"}],n=[bt({primaryType:r,types:t})];for(let i of t[r]){let[m,p]=Wr({types:t,name:i.name,type:i.type,value:e[i.name]});o.push(m),n.push(p)}return $e(o,n)}function bt({primaryType:e,types:r}){let t=D(Et({primaryType:e,types:r}));return A(t)}function Et({primaryType:e,types:r}){let t="",o=Vr({primaryType:e,types:r});o.delete(e);let n=[e,...Array.from(o).sort()];for(let i of n)t+=`${i}(${r[i].map(({name:m,type:p})=>`${p} ${m}`).join(",")})`;return t}function Vr({primaryType:e,types:r},t=new Set){let n=e.match(/^\w*/u)?.[0];if(t.has(n)||r[n]===void 0)return t;t.add(n);for(let i of r[n])Vr({primaryType:i.type,types:r},t);return t}function Wr({types:e,name:r,type:t,value:o}){if(e[t]!==void 0)return[{type:"bytes32"},A(jr({data:o,primaryType:t,types:e}))];if(t==="bytes")return o=`0x${(o.length%2?"0":"")+o.slice(2)}`,[{type:"bytes32"},A(o)];if(t==="string")return[{type:"bytes32"},A(D(o))];if(t.lastIndexOf("]")===t.length-1){let n=t.slice(0,t.lastIndexOf("[")),i=o.map(m=>Wr({name:r,type:n,types:e,value:m}));return[{type:"bytes32"},A($e(i.map(([m])=>m),i.map(([,m])=>m)))]}return[{type:t},o]}function Kr(e){let{domain:r,message:t,primaryType:o,types:n}=e,i=(m,p)=>{for(let d of m){let{name:l,type:E}=d,x=p[l],u=E.match(mr);if(u&&(typeof x=="number"||typeof x=="bigint")){let[f,b,v]=u;ke(x,{signed:b==="int",size:Number.parseInt(v)/8})}if(E==="address"&&typeof x=="string"&&!ar(x))throw new ir({address:x});let I=E.match(cr);if(I){let[f,b]=I;if(b&&F(x)!==Number.parseInt(b))throw new nr({expectedSize:Number.parseInt(b),givenSize:F(x)})}let w=n[E];w&&(It(E),i(w,x))}};if(n.EIP712Domain&&r){if(typeof r!="object")throw new ze({domain:r});i(n.EIP712Domain,r)}if(o!=="EIP712Domain")if(n[o])i(n[o],t);else throw new He({primaryType:o,types:n})}function Jr({domain:e}){return[typeof e?.name=="string"&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},(typeof e?.chainId=="number"||typeof e?.chainId=="bigint")&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function It(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new Me({type:e})}s();c();a();s();c();a();s();c();a();var Zr=`Ethereum Signed Message:
`;function Xr(e){let r=typeof e=="string"?q(e):typeof e.raw=="string"?e.raw:C(e.raw),t=q(`${Zr}${F(r)}`);return oe([t,r])}function wt(e,r){return A(Xr(e),r)}export{an as a,Sn as b,Mn as c,Cr as d,Rr as e,Ur as f,Fr as g,Dr as h,Nr as i,di as j,zr as k,Hr as l,ji as m,ys as n,ws as o,Os as p,qr as q,Pe as r,Ys as s,na as t,fa as u,xt as v,Ke as w,et as x,yt as y,Je as z,Tr as A,tt as B,Go as C,gt as D,wt as E,ot as F};
