import{a as Ce}from"./chunk-WVZCG2XE.js";import{bf as ve,db as He}from"./chunk-J26BEOSD.js";import{i as l,j as E,k as d,o as p}from"./chunk-JY5TIRRF.js";l();p();d();var g={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],SOLANA_SPL_TOKEN_ADDRESSES:{SOL:"So11111111111111111111111111111111111111112"},HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof E<"u"&&typeof E.env<"u"?E.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}}},IS_DEVELOPMENT:typeof E<"u"&&!1,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]};l();p();d();var Qe={caipNetworkIdToNumber(e){return e?Number(e.split(":")[1]):void 0},parseEvmChainId(e){return typeof e=="string"?this.caipNetworkIdToNumber(e):e},getNetworksByNamespace(e,t){return e?.filter(n=>n.chainNamespace===t)||[]},getFirstNetworkByNamespace(e,t){return this.getNetworksByNamespace(e,t)[0]},getNetworkNameByCaipNetworkId(e,t){if(!t)return;let n=e.find(o=>o.caipNetworkId===t);if(n)return n.name;let[r]=t.split(":");return g.CHAIN_NAME_MAP?.[r]||void 0}},Ke=["eip155","solana","polkadot","bip122","cosmos","sui","stacks"];l();p();d();var S={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",RECENT_WALLET:"@appkit/recent_wallet",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails",LATEST_APPKIT_VERSION:"@appkit/latest_version"};function Pe(e){if(!e)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${e}:connected_connector_id`}var A={setItem(e,t){Ue()&&t!==void 0&&localStorage.setItem(e,t)},getItem(e){if(Ue())return localStorage.getItem(e)||void 0},removeItem(e){Ue()&&localStorage.removeItem(e)},clear(){Ue()&&localStorage.clear()}};function Ue(){return typeof window<"u"&&typeof localStorage<"u"}l();p();d();l();p();d();var Ze={bigNumber(e){return e?new Ce(e):new Ce(0)},multiply(e,t){if(e===void 0||t===void 0)return new Ce(0);let n=new Ce(e),r=new Ce(t);return n.times(r)},toFixed(e,t=2){return e===void 0||e===""?new Ce(0).toFixed(t):new Ce(e).toFixed(t)},formatNumberToLocalString(e,t=2){return e===void 0||e===""?"0.00":typeof e=="number"?e.toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t,roundingMode:"floor"}):parseFloat(e).toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t,roundingMode:"floor"})},parseLocalStringToNumber(e){if(e===void 0||e==="")return 0;let t=e.replace(/,/gu,"");return new Ce(t).toNumber()}};l();p();d();l();p();d();var Ct=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}];l();p();d();var Et=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}];l();p();d();var ht=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}];var et={getERC20Abi:e=>g.USDT_CONTRACT_ADDRESSES.includes(e)?ht:Ct,getSwapAbi:()=>Et};l();p();d();var te={validateCaipAddress(e){if(e.split(":")?.length!==3)throw new Error("Invalid CAIP Address");return e},parseCaipAddress(e){let t=e.split(":");if(t.length!==3)throw new Error(`Invalid CAIP-10 address: ${e}`);let[n,r,o]=t;if(!n||!r||!o)throw new Error(`Invalid CAIP-10 address: ${e}`);return{chainNamespace:n,chainId:r,address:o}},parseCaipNetworkId(e){let t=e.split(":");if(t.length!==2)throw new Error(`Invalid CAIP-2 network id: ${e}`);let[n,r]=t;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${e}`);return{chainNamespace:n,chainId:r}}};l();p();d();var pe={RPC_ERROR_CODE:{USER_REJECTED_REQUEST:4001,USER_REJECTED_METHODS:5002,USER_REJECTED:5e3},PROVIDER_RPC_ERROR_NAME:{PROVIDER_RPC:"ProviderRpcError",USER_REJECTED_REQUEST:"UserRejectedRequestError"},isRpcProviderError(e){try{if(typeof e=="object"&&e!==null){let t=e,n=typeof t.message=="string",r=typeof t.code=="number";return n&&r}return!1}catch{return!1}},isUserRejectedMessage(e){return e.toLowerCase().includes("user rejected")||e.toLowerCase().includes("user cancelled")||e.toLowerCase().includes("user canceled")},isUserRejectedRequestError(e){if(pe.isRpcProviderError(e)){let t=e.code===pe.RPC_ERROR_CODE.USER_REJECTED_REQUEST,n=e.code===pe.RPC_ERROR_CODE.USER_REJECTED_METHODS;return t||n||pe.isUserRejectedMessage(e.message)}return e instanceof Error?pe.isUserRejectedMessage(e.message):!1}},tt=class extends Error{constructor(t,n){super(n.message,{cause:t}),this.name=pe.PROVIDER_RPC_ERROR_NAME.PROVIDER_RPC,this.code=n.code}},De=class extends tt{constructor(t){super(t,{code:pe.RPC_ERROR_CODE.USER_REJECTED_REQUEST,message:"User rejected the request"}),this.name=pe.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST}};l();p();d();function we(e,t){return t==="light"?{"--w3m-accent":e?.["--w3m-accent"]||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":e?.["--w3m-accent"]||"hsla(230, 100%, 67%, 1)","--w3m-background":"#202020"}}l();p();d();var m={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3,latestAppKitVersion:6048e5},isCacheExpired(e,t){return Date.now()-e>t},getActiveNetworkProps(){let e=m.getActiveNamespace(),t=m.getActiveCaipNetworkId(),n=t?t.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:e,caipNetworkId:t,chainId:r}},setWalletConnectDeepLink({name:e,href:t}){try{A.setItem(S.DEEPLINK_CHOICE,JSON.stringify({href:t,name:e}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{let e=A.getItem(S.DEEPLINK_CHOICE);if(e)return JSON.parse(e)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{A.removeItem(S.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(e){try{A.setItem(S.ACTIVE_NAMESPACE,e)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(e){try{A.setItem(S.ACTIVE_CAIP_NETWORK_ID,e),m.setActiveNamespace(e.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return A.getItem(S.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{A.removeItem(S.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(e){try{let t=Pe(e);A.removeItem(t)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(e){try{let t=m.getRecentWallets();t.find(r=>r.id===e.id)||(t.unshift(e),t.length>2&&t.pop(),A.setItem(S.RECENT_WALLETS,JSON.stringify(t)),A.setItem(S.RECENT_WALLET,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{let e=A.getItem(S.RECENT_WALLETS);return e?JSON.parse(e):[]}catch{console.info("Unable to get AppKit recent")}return[]},getRecentWallet(){try{let e=A.getItem(S.RECENT_WALLET);return e?JSON.parse(e):null}catch{console.info("Unable to get AppKit recent")}return null},deleteRecentWallet(){try{A.removeItem(S.RECENT_WALLET)}catch{console.info("Unable to delete AppKit recent")}},setConnectedConnectorId(e,t){try{let n=Pe(e);A.setItem(n,t)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return A.getItem(S.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(e){if(e)try{let t=Pe(e);return A.getItem(t)}catch{console.info("Unable to get connected connector id in namespace",e)}},setConnectedSocialProvider(e){try{A.setItem(S.CONNECTED_SOCIAL,e)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return A.getItem(S.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{A.removeItem(S.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return A.getItem(S.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){return A.getItem(S.ACTIVE_CAIP_NETWORK_ID)?.split(":")?.[1]},setConnectionStatus(e){try{A.setItem(S.CONNECTION_STATUS,e)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return A.getItem(S.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{let e=A.getItem(S.CONNECTED_NAMESPACES);return e?.length?e.split(","):[]}catch{return[]}},setConnectedNamespaces(e){try{let t=Array.from(new Set(e));A.setItem(S.CONNECTED_NAMESPACES,t.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(e){try{let t=m.getConnectedNamespaces();t.includes(e)||(t.push(e),m.setConnectedNamespaces(t))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(e){try{let t=m.getConnectedNamespaces(),n=t.indexOf(e);n>-1&&(t.splice(n,1),m.setConnectedNamespaces(t))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return A.getItem(S.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(e){try{A.setItem(S.TELEGRAM_SOCIAL_PROVIDER,e)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{A.removeItem(S.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let e={};try{let t=A.getItem(S.PORTFOLIO_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromBalanceCache(e){try{let t=m.getBalanceCache();A.setItem(S.PORTFOLIO_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getBalanceCacheForCaipAddress(e){try{let n=m.getBalanceCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;m.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateBalanceCache(e){try{let t=m.getBalanceCache();t[e.caipAddress]=e,A.setItem(S.PORTFOLIO_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getNativeBalanceCache(){let e={};try{let t=A.getItem(S.NATIVE_BALANCE_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromNativeBalanceCache(e){try{let t=m.getBalanceCache();A.setItem(S.NATIVE_BALANCE_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getNativeBalanceCacheForCaipAddress(e){try{let n=m.getNativeBalanceCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",e),m.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateNativeBalanceCache(e){try{let t=m.getNativeBalanceCache();t[e.caipAddress]=e,A.setItem(S.NATIVE_BALANCE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getEnsCache(){let e={};try{let t=A.getItem(S.ENS_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get ens name cache")}return e},getEnsFromCacheForAddress(e){try{let n=m.getEnsCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;m.removeEnsFromCache(e)}catch{console.info("Unable to get ens name from cache",e)}},updateEnsCache(e){try{let t=m.getEnsCache();t[e.address]=e,A.setItem(S.ENS_CACHE,JSON.stringify(t))}catch{console.info("Unable to update ens name cache",e)}},removeEnsFromCache(e){try{let t=m.getEnsCache();A.setItem(S.ENS_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove ens name from cache",e)}},getIdentityCache(){let e={};try{let t=A.getItem(S.IDENTITY_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get identity cache")}return e},getIdentityFromCacheForAddress(e){try{let n=m.getIdentityCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;m.removeIdentityFromCache(e)}catch{console.info("Unable to get identity from cache",e)}},updateIdentityCache(e){try{let t=m.getIdentityCache();t[e.address]={identity:e.identity,timestamp:e.timestamp},A.setItem(S.IDENTITY_CACHE,JSON.stringify(t))}catch{console.info("Unable to update identity cache",e)}},removeIdentityFromCache(e){try{let t=m.getIdentityCache();A.setItem(S.IDENTITY_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove identity from cache",e)}},clearAddressCache(){try{A.removeItem(S.PORTFOLIO_CACHE),A.removeItem(S.NATIVE_BALANCE_CACHE),A.removeItem(S.ENS_CACHE),A.removeItem(S.IDENTITY_CACHE),A.removeItem(S.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(e){try{A.setItem(S.PREFERRED_ACCOUNT_TYPES,JSON.stringify(e))}catch{console.info("Unable to set preferred account types",e)}},getPreferredAccountTypes(){try{let e=A.getItem(S.PREFERRED_ACCOUNT_TYPES);return e?JSON.parse(e):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(e,t){try{let n=m.getConnections(),r=n[t]??[],o=new Map;for(let i of r)o.set(i.connectorId,{...i});for(let i of e){let c=o.get(i.connectorId),u=i.connectorId===g.CONNECTOR_ID.AUTH;if(c&&!u){let C=new Set(c.accounts.map(k=>k.address.toLowerCase())),h=i.accounts.filter(k=>!C.has(k.address.toLowerCase()));c.accounts.push(...h)}else o.set(i.connectorId,{...i})}let a={...n,[t]:Array.from(o.values())};A.setItem(S.CONNECTIONS,JSON.stringify(a))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{let e=A.getItem(S.CONNECTIONS);return e?JSON.parse(e):{}}catch(e){return console.error("Unable to get connections from storage",e),{}}},deleteAddressFromConnection({connectorId:e,address:t,namespace:n}){try{let r=m.getConnections(),o=r[n]??[],a=new Map(o.map(c=>[c.connectorId,c])),i=a.get(e);i&&(i.accounts.filter(u=>u.address.toLowerCase()!==t.toLowerCase()).length===0?a.delete(e):a.set(e,{...i,accounts:i.accounts.filter(u=>u.address.toLowerCase()!==t.toLowerCase())})),A.setItem(S.CONNECTIONS,JSON.stringify({...r,[n]:Array.from(a.values())}))}catch{console.error(`Unable to remove address "${t}" from connector "${e}" in namespace "${n}"`)}},getDisconnectedConnectorIds(){try{let e=A.getItem(S.DISCONNECTED_CONNECTOR_IDS);return e?JSON.parse(e):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(e,t){try{let n=m.getDisconnectedConnectorIds(),r=n[t]??[];r.push(e),A.setItem(S.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[t]:Array.from(new Set(r))}))}catch{console.error(`Unable to set disconnected connector id "${e}" for namespace "${t}"`)}},removeDisconnectedConnectorId(e,t){try{let n=m.getDisconnectedConnectorIds(),r=n[t]??[];r=r.filter(o=>o.toLowerCase()!==e.toLowerCase()),A.setItem(S.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[t]:Array.from(new Set(r))}))}catch{console.error(`Unable to remove disconnected connector id "${e}" for namespace "${t}"`)}},isConnectorDisconnected(e,t){try{return(m.getDisconnectedConnectorIds()[t]??[]).some(o=>o.toLowerCase()===e.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${e}" for namespace "${t}"`)}return!1},getTransactionsCache(){try{let e=A.getItem(S.HISTORY_TRANSACTIONS_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:e,chainId:t=""}){try{let r=m.getTransactionsCache()[e]?.[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.transactionsHistory))return r.transactions;m.removeTransactionsCache({address:e,chainId:t})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:e,chainId:t="",timestamp:n,transactions:r}){try{let o=m.getTransactionsCache();o[e]={...o[e],[t]:{timestamp:n,transactions:r}},A.setItem(S.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(o))}catch{console.info("Unable to update transactions cache",{address:e,chainId:t,timestamp:n,transactions:r})}},removeTransactionsCache({address:e,chainId:t}){try{let n=m.getTransactionsCache(),r=n?.[e]||{},{[t]:o,...a}=r;A.setItem(S.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...n,[e]:a}))}catch{console.info("Unable to remove transactions cache",{address:e,chainId:t})}},getTokenPriceCache(){try{let e=A.getItem(S.TOKEN_PRICE_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(e){try{let n=m.getTokenPriceCache()[e.join(",")];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.tokenPrice))return n.tokenPrice;m.removeTokenPriceCache(e)}catch{console.info("Unable to get token price cache for addresses",e)}},updateTokenPriceCache(e){try{let t=m.getTokenPriceCache();t[e.addresses.join(",")]={timestamp:e.timestamp,tokenPrice:e.tokenPrice},A.setItem(S.TOKEN_PRICE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update token price cache",e)}},removeTokenPriceCache(e){try{let t=m.getTokenPriceCache();A.setItem(S.TOKEN_PRICE_CACHE,JSON.stringify({...t,[e.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",e)}},getLatestAppKitVersion(){try{let e=this.getLatestAppKitVersionCache(),t=e?.version;return t&&!this.isCacheExpired(e.timestamp,this.cacheExpiry.latestAppKitVersion)?t:void 0}catch{console.info("Unable to get latest AppKit version")}},getLatestAppKitVersionCache(){try{let e=A.getItem(S.LATEST_APPKIT_VERSION);return e?JSON.parse(e):{}}catch{console.info("Unable to get latest AppKit version cache")}return{}},updateLatestAppKitVersion(e){try{let t=m.getLatestAppKitVersionCache();t.timestamp=e.timestamp,t.version=e.version,A.setItem(S.LATEST_APPKIT_VERSION,JSON.stringify(t))}catch{console.info("Unable to update latest AppKit version on local storage",e)}}};l();p();d();l();p();d();var nt=(typeof E<"u"&&typeof E.env<"u"?E.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",Lr=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],Mr="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",G={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:nt,SECURE_SITE_DASHBOARD:`${nt}/dashboard`,SECURE_SITE_FAVICON:`${nt}/images/favicon.png`,SOLANA_NATIVE_TOKEN_ADDRESS:"So11111111111111111111111111111111111111111",RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],SUGGESTED_TOKENS_BY_CHAIN:{"eip155:42161":["USD\u20AE0"]},BALANCE_SUPPORTED_CHAINS:[g.CHAIN.EVM,g.CHAIN.SOLANA],SEND_PARAMS_SUPPORTED_CHAINS:[g.CHAIN.EVM],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:[g.CHAIN.EVM],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:[g.CHAIN.EVM,g.CHAIN.SOLANA],PAY_WITH_EXCHANGE_SUPPORTED_CHAIN_NAMESPACES:[g.CHAIN.EVM,g.CHAIN.SOLANA],ACTIVITY_ENABLED_CHAIN_NAMESPACES:[g.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[g.CHAIN.EVM,g.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1,payWithExchange:!1,payments:!1,reownAuthentication:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1,reownAuthentication:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1,reownAuthentication:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}};var R={isMobile(){return this.isClient()?!!(window?.matchMedia&&typeof window.matchMedia=="function"&&window.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(e,t=""){return e?.caipNetworkId.toLocaleLowerCase().includes(t.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;let e=window?.navigator.userAgent.toLowerCase();return R.isMobile()&&e.includes("android")},isIos(){if(!this.isMobile())return!1;let e=window?.navigator.userAgent.toLowerCase();return e.includes("iphone")||e.includes("ipad")},isSafari(){return this.isClient()?(window?.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(e){return e?e-Date.now()<=G.TEN_SEC_MS:!0},isAllowedRetry(e,t=G.ONE_SEC_MS){return Date.now()-e>=t},copyToClopboard(e){navigator.clipboard.writeText(e)},isIframe(){try{return window?.self!==window?.top}catch{return!1}},isSafeApp(){if(R.isClient()&&window.self!==window.top)try{let e=window?.location?.ancestorOrigins?.[0],t="https://app.safe.global";if(e){let n=new URL(e),r=new URL(t);return n.hostname===r.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+G.FOUR_MINUTES_MS},getNetworkId(e){return e?.split(":")[1]},getPlainAddress(e){return e?.split(":")[2]},async wait(e){return new Promise(t=>{setTimeout(t,e)})},debounce(e,t=500){let n;return(...r)=>{function o(){e(...r)}n&&clearTimeout(n),n=setTimeout(o,t)}},isHttpUrl(e){return e.startsWith("http://")||e.startsWith("https://")},formatNativeUrl(e,t,n=null){if(R.isHttpUrl(e))return this.formatUniversalUrl(e,t);let r=e,o=n;r.includes("://")||(r=e.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),o&&!o?.endsWith("/")&&(o=`${o}/`),this.isTelegram()&&this.isAndroid()&&(t=encodeURIComponent(t));let a=encodeURIComponent(t);return{redirect:`${r}wc?uri=${a}`,redirectUniversalLink:o?`${o}wc?uri=${a}`:void 0,href:r}},formatUniversalUrl(e,t){if(!R.isHttpUrl(e))return this.formatNativeUrl(e,t);let n=e;n.endsWith("/")||(n=`${n}/`);let r=encodeURIComponent(t);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(e){return e==="popupWindow"?e:this.isTelegram()?m.getTelegramSocialProvider()?"_top":"_blank":e},openHref(e,t,n){window?.open(e,this.getOpenTargetForPlatform(t),n||"noreferrer noopener")},returnOpenHref(e,t,n){return window?.open(e,this.getOpenTargetForPlatform(t),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){if(typeof window>"u")return!1;let e=window?.matchMedia&&typeof window.matchMedia=="function"?window.matchMedia("(display-mode: standalone)")?.matches:!1,t=window?.navigator?.standalone;return!!(e||t)},async preloadImage(e){let t=new Promise((n,r)=>{let o=new Image;o.onload=n,o.onerror=r,o.crossOrigin="anonymous",o.src=e});return Promise.race([t,R.wait(2e3)])},parseBalance(e,t){let n="0.000";if(typeof e=="string"){let u=Number(e);if(!isNaN(u)){let C=(Math.floor(u*1e3)/1e3).toFixed(3);C&&(n=C)}}let[r,o]=n.split("."),a=r||"0",i=o||"000";return{formattedText:`${a}.${i}${t?` ${t}`:""}`,value:a,decimals:i,symbol:t}},getApiUrl(){return g.W3M_API_URL},getBlockchainApiUrl(){return g.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return g.PULSE_API_URL},getUUID(){return crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{let t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})},parseError(e){return typeof e=="string"?e:typeof e?.issues?.[0]?.message=="string"?e.issues[0].message:e instanceof Error?e.message:"Unknown error"},sortRequestedNetworks(e,t=[]){let n={};return t&&e&&(e.forEach((r,o)=>{n[r]=o}),t.sort((r,o)=>{let a=n[r.id],i=n[o.id];return a!==void 0&&i!==void 0?a-i:a!==void 0?-1:i!==void 0?1:0})),t},calculateBalance(e){let t=0;for(let n of e)t+=n.value??0;return t},formatTokenBalance(e){let t=e.toFixed(2),[n,r]=t.split(".");return{dollars:n,pennies:r}},isAddress(e,t="eip155"){switch(t){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)||/^(?:0x)?[0-9A-F]{40}$/iu.test(e))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(e);default:return!1}},uniqueBy(e,t){let n=new Set;return e.filter(r=>{let o=r[t];return n.has(o)?!1:(n.add(o),!0)})},generateSdkVersion(e,t,n){let o=e.length===0?G.ADAPTER_TYPES.UNIVERSAL:e.map(a=>a.adapterType).join(",");return`${t}-${o}-${n}`},createAccount(e,t,n,r,o){return{namespace:e,address:t,type:n,publicKey:r,path:o}},isCaipAddress(e){if(typeof e!="string")return!1;let t=e.split(":"),n=t[0];return t.filter(Boolean).length===3&&n in g.CHAIN_NAME_MAP},getAccount(e){return e?typeof e=="string"?{address:e,chainId:void 0}:{address:e.address,chainId:e.chainId}:{address:void 0,chainId:void 0}},isMac(){let e=window?.navigator.userAgent.toLowerCase();return e.includes("macintosh")&&!e.includes("safari")},formatTelegramSocialLoginUrl(e){let t=`--${encodeURIComponent(window?.location.href)}`,n="state=";if(new URL(e).host==="auth.magic.link"){let o="provider_authorization_url=",a=e.substring(e.indexOf(o)+o.length),i=this.injectIntoUrl(decodeURIComponent(a),n,t);return e.replace(a,encodeURIComponent(i))}return this.injectIntoUrl(e,n,t)},injectIntoUrl(e,t,n){let r=e.indexOf(t);if(r===-1)throw new Error(`${t} parameter not found in the URL: ${e}`);let o=e.indexOf("&",r),a=t.length,i=o!==-1?o:e.length,c=e.substring(0,r+a),u=e.substring(r+a,i),C=e.substring(o),h=u+n;return c+h+C}};l();p();d();l();p();d();l();p();d();var qr=Symbol(),Ft=Symbol();var At=Object.getPrototypeOf,rt=new WeakMap,Wt=e=>e&&(rt.has(e)?rt.get(e):At(e)===Object.prototype||At(e)===Array.prototype);var St=e=>Wt(e)&&e[Ft]||null,ot=(e,t=!0)=>{rt.set(e,t)};var st=e=>typeof e=="object"&&e!==null,Ht=e=>st(e)&&!Me.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)&&!(e instanceof Promise),Nt=(e,t)=>{let n=at.get(e);if(n?.[0]===t)return n[1];let r=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return ot(r,!0),at.set(e,[t,r]),Reflect.ownKeys(e).forEach(o=>{if(Object.getOwnPropertyDescriptor(r,o))return;let a=Reflect.get(e,o),{enumerable:i}=Reflect.getOwnPropertyDescriptor(e,o),c={value:a,enumerable:i,configurable:!0};if(Me.has(a))ot(a,!1);else if(Se.has(a)){let[u,C]=Se.get(a);c.value=Nt(u,C())}Object.defineProperty(r,o,c)}),Object.preventExtensions(r)},Kt=(e,t,n,r)=>({deleteProperty(o,a){let i=Reflect.get(o,a);n(a);let c=Reflect.deleteProperty(o,a);return c&&r(["delete",[a],i]),c},set(o,a,i,c){let u=!e()&&Reflect.has(o,a),C=Reflect.get(o,a,c);if(u&&(_t(C,i)||Le.has(i)&&_t(C,Le.get(i))))return!0;n(a),st(i)&&(i=St(i)||i);let h=!Se.has(i)&&Gt(i)?P(i):i;return t(a,h),Reflect.set(o,a,h,c),r(["set",[a],i,C]),!0}}),Se=new WeakMap,Me=new WeakSet,at=new WeakMap,Ve=[1],Le=new WeakMap,_t=Object.is,Vt=(e,t)=>new Proxy(e,t),Gt=Ht,$t=Nt,Yt=Kt;function P(e={}){if(!st(e))throw new Error("object required");let t=Le.get(e);if(t)return t;let n=Ve[0],r=new Set,o=(W,Y=++Ve[0])=>{n!==Y&&(a=n=Y,r.forEach(q=>q(W,Y)))},a=n,i=(W=Ve[0])=>(a!==W&&(a=W,u.forEach(([Y])=>{let q=Y[1](W);q>n&&(n=q)})),n),c=W=>(Y,q)=>{let fe=[...Y];fe[1]=[W,...fe[1]],o(fe,q)},u=new Map,C=(W,Y)=>{let q=!Me.has(Y)&&Se.get(Y);if(q){if((import.meta.env?import.meta.env.MODE:void 0)!=="production"&&u.has(W))throw new Error("prop listener already exists");if(r.size){let fe=q[2](c(W));u.set(W,[q,fe])}else u.set(W,[q])}},h=W=>{var Y;let q=u.get(W);q&&(u.delete(W),(Y=q[1])==null||Y.call(q))},k=W=>(r.add(W),r.size===1&&u.forEach(([q,fe],We)=>{if((import.meta.env?import.meta.env.MODE:void 0)!=="production"&&fe)throw new Error("remove already exists");let xt=q[2](c(We));u.set(We,[q,xt])}),()=>{r.delete(W),r.size===0&&u.forEach(([q,fe],We)=>{fe&&(fe(),u.set(We,[q]))})}),se=!0,be=Yt(()=>se,C,h,o),Q=Vt(e,be);Le.set(e,Q);let ee=[e,i,k];return Se.set(Q,ee),Reflect.ownKeys(e).forEach(W=>{let Y=Object.getOwnPropertyDescriptor(e,W);"value"in Y&&Y.writable&&(Q[W]=e[W])}),se=!1,Q}function H(e,t,n){let r=Se.get(e);(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&!r&&console.warn("Please use proxy object");let o,a=[],i=r[2],c=!1,C=i(h=>{if(a.push(h),n){t(a.splice(0));return}o||(o=Promise.resolve().then(()=>{o=void 0,c&&t(a.splice(0))}))});return c=!0,()=>{c=!1,C()}}function me(e){let t=Se.get(e);(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&!t&&console.warn("Please use proxy object");let[n,r]=t;return $t(n,r())}function Ee(e){return Me.add(e),e}function it(){return{proxyStateMap:Se,refSet:Me,snapCache:at,versionHolder:Ve,proxyCache:Le}}l();p();d();function K(e,t,n,r){let o=e[t];return H(e,()=>{let a=e[t];Object.is(o,a)||n(o=a)},r)}var ao=Symbol();var{proxyStateMap:jt,snapCache:qt}=it(),Ge=e=>jt.has(e);function wt(e){let t=[],n=0,r=new Map,o=new WeakMap,a=()=>{let C=qt.get(c),h=C?.[1];if(h&&!o.has(h)){let k=new Map(r);o.set(h,k)}},i=C=>o.get(C)||r;if(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError(`proxyMap:
	initial state must be iterable
		tip: structure should be [[key, value]]`);for(let[C,h]of e)r.set(C,n),t[n++]=h}let c={data:t,index:n,epoch:0,get size(){return Ge(this)||a(),i(this).size},get(C){let k=i(this).get(C);if(k===void 0){this.epoch;return}return this.data[k]},has(C){let h=i(this);return this.epoch,h.has(C)},set(C,h){if(!Ge(this))throw new Error("Cannot perform mutations on a snapshot");let k=r.get(C);return k===void 0?(r.set(C,this.index),this.data[this.index++]=h):this.data[k]=h,this.epoch++,this},delete(C){if(!Ge(this))throw new Error("Cannot perform mutations on a snapshot");let h=r.get(C);return h===void 0?!1:(delete this.data[h],r.delete(C),this.epoch++,!0)},clear(){if(!Ge(this))throw new Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,r.clear()},forEach(C){this.epoch,i(this).forEach((k,se)=>{C(this.data[k],se,this)})},*entries(){this.epoch;let C=i(this);for(let[h,k]of C)yield[h,this.data[k]]},*keys(){this.epoch;let C=i(this);for(let h of C.keys())yield h},*values(){this.epoch;let C=i(this);for(let h of C.values())yield this.data[h]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},u=P(c);return Object.defineProperties(u,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(u),u}var{proxyStateMap:so,snapCache:io}=it();l();p();d();var gt={getFeatureValue(e,t){let n=t?.[e];return n===void 0?G.DEFAULT_FEATURES[e]:n},filterSocialsByPlatform(e){if(!e||!e.length)return e;let t=e;return R.isTelegram()&&(R.isIos()&&(t=t.filter(n=>n!=="google")),R.isMac()&&(t=t.filter(n=>n!=="x")),R.isAndroid()&&(t=t.filter(n=>!["facebook","x"].includes(n)))),R.isMobile()&&(t=t.filter(n=>n!=="facebook")),t},isSocialsEnabled(){return Array.isArray(O.state.features?.socials)&&O.state.features?.socials.length>0||Array.isArray(O.state.remoteFeatures?.socials)&&O.state.remoteFeatures?.socials.length>0},isEmailEnabled(){return!!(O.state.features?.email||O.state.remoteFeatures?.email)}};var _=P({features:G.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:G.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{},enableMobileFullScreen:!1,coinbasePreference:"all"}),O={state:_,subscribeKey(e,t){return K(_,e,t)},setOptions(e){Object.assign(_,e)},setRemoteFeatures(e){if(!e)return;let t={..._.remoteFeatures,...e};_.remoteFeatures=t,_.remoteFeatures?.socials&&(_.remoteFeatures.socials=gt.filterSocialsByPlatform(_.remoteFeatures.socials)),_.features?.pay&&(_.remoteFeatures.email=!1,_.remoteFeatures.socials=!1)},setFeatures(e){if(!e)return;_.features||(_.features=G.DEFAULT_FEATURES);let t={..._.features,...e};_.features=t,_.features?.pay&&_.remoteFeatures&&(_.remoteFeatures.email=!1,_.remoteFeatures.socials=!1)},setProjectId(e){_.projectId=e},setCustomRpcUrls(e){_.customRpcUrls=e},setAllWallets(e){_.allWallets=e},setIncludeWalletIds(e){_.includeWalletIds=e},setExcludeWalletIds(e){_.excludeWalletIds=e},setFeaturedWalletIds(e){_.featuredWalletIds=e},setTokens(e){_.tokens=e},setTermsConditionsUrl(e){_.termsConditionsUrl=e},setPrivacyPolicyUrl(e){_.privacyPolicyUrl=e},setCustomWallets(e){_.customWallets=e},setIsSiweEnabled(e){_.isSiweEnabled=e},setIsUniversalProvider(e){_.isUniversalProvider=e},setSdkVersion(e){_.sdkVersion=e},setMetadata(e){_.metadata=e},setDisableAppend(e){_.disableAppend=e},setEIP6963Enabled(e){_.enableEIP6963=e},setDebug(e){_.debug=e},setEnableWalletGuide(e){_.enableWalletGuide=e},setEnableAuthLogger(e){_.enableAuthLogger=e},setEnableWallets(e){_.enableWallets=e},setPreferUniversalLinks(e){_.experimental_preferUniversalLinks=e},setSIWX(e){if(e)for(let[t,n]of Object.entries(G.SIWX_DEFAULTS))e[t]??=n;_.siwx=e},setConnectMethodsOrder(e){_.features={..._.features,connectMethodsOrder:e}},setWalletFeaturesOrder(e){_.features={..._.features,walletFeaturesOrder:e}},setSocialsOrder(e){_.remoteFeatures={..._.remoteFeatures,socials:e}},setCollapseWallets(e){_.features={..._.features,collapseWallets:e}},setEnableEmbedded(e){_.enableEmbedded=e},setAllowUnsupportedChain(e){_.allowUnsupportedChain=e},setManualWCControl(e){_.manualWCControl=e},setEnableNetworkSwitch(e){_.enableNetworkSwitch=e},setEnableMobileFullScreen(e){_.enableMobileFullScreen=R.isMobile()&&e},setEnableReconnect(e){_.enableReconnect=e},setCoinbasePreference(e){_.coinbasePreference=e},setDefaultAccountTypes(e={}){Object.entries(e).forEach(([t,n])=>{n&&(_.defaultAccountTypes[t]=n)})},setUniversalProviderConfigOverride(e){_.universalProviderConfigOverride=e},getUniversalProviderConfigOverride(){return _.universalProviderConfigOverride},getSnapshot(){return me(_)}};l();p();d();var ge=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),J=P({...ge}),Jt={state:J,subscribeKey(e,t){return K(J,e,t)},showLoading(e,t={}){this._showMessage({message:e,variant:"loading",...t})},showSuccess(e){this._showMessage({message:e,variant:"success"})},showSvg(e,t){this._showMessage({message:e,svg:t})},showError(e){let t=R.parseError(e);this._showMessage({message:t,variant:"error"})},hide(){J.message=ge.message,J.variant=ge.variant,J.svg=ge.svg,J.open=ge.open,J.autoClose=ge.autoClose},_showMessage({message:e,svg:t,variant:n="success",autoClose:r=ge.autoClose}){J.open?(J.open=!1,setTimeout(()=>{J.message=e,J.variant=n,J.svg=t,J.open=!0,J.autoClose=r},150)):(J.message=e,J.variant=n,J.svg=t,J.open=!0,J.autoClose=r)}},_e=Jt;l();p();d();l();p();d();async function Be(...e){let t=await fetch(...e);if(!t.ok)throw new Error(`HTTP status code: ${t.status}`,{cause:t});return t}var ue=class{constructor({baseUrl:t,clientId:n}){this.baseUrl=t,this.clientId=n}async get({headers:t,signal:n,cache:r,...o}){let a=this.createUrl(o);return(await Be(a,{method:"GET",headers:t,signal:n,cache:r})).json()}async getBlob({headers:t,signal:n,...r}){let o=this.createUrl(r);return(await Be(o,{method:"GET",headers:t,signal:n})).blob()}async post({body:t,headers:n,signal:r,...o}){let a=this.createUrl(o);return(await Be(a,{method:"POST",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}async put({body:t,headers:n,signal:r,...o}){let a=this.createUrl(o);return(await Be(a,{method:"PUT",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}async delete({body:t,headers:n,signal:r,...o}){let a=this.createUrl(o);return(await Be(a,{method:"DELETE",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}createUrl({path:t,params:n}){let r=new URL(t,this.baseUrl);return n&&Object.entries(n).forEach(([o,a])=>{a&&r.searchParams.append(o,a)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}sendBeacon({body:t,...n}){let r=this.createUrl(n);return navigator.sendBeacon(r.toString(),t?JSON.stringify(t):void 0)}};l();p();d();l();p();d();l();p();d();var Xt="https://secure.walletconnect.org/sdk",Wo=(typeof E<"u"&&typeof E.env<"u"?E.env.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||Xt,Ho=(typeof E<"u"&&typeof E.env<"u"?E.env.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",Ko=(typeof E<"u"&&typeof E.env<"u"?E.env.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",de={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",APP_RPC_ABORT:"@w3m-app/RPC_ABORT",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",FRAME_RPC_ABORT_SUCCESS:"@w3m-frame/RPC_ABORT_SUCCESS",FRAME_RPC_ABORT_ERROR:"@w3m-frame/RPC_ABORT_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},z={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}};l();p();d();l();p();d();var ct={address:/^0x(?:[A-Fa-f0-9]{40})$/u,transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u};l();p();d();var Re={set(e,t){$e.isClient&&localStorage.setItem(`${de.STORAGE_KEY}${e}`,t)},get(e){return $e.isClient?localStorage.getItem(`${de.STORAGE_KEY}${e}`):null},delete(e,t){$e.isClient&&(t?localStorage.removeItem(e):localStorage.removeItem(`${de.STORAGE_KEY}${e}`))}};var Ye=30*1e3,$e={checkIfAllowedToTriggerEmail(){let e=Re.get(de.LAST_EMAIL_LOGIN_TIME);if(e){let t=Date.now()-Number(e);if(t<Ye){let n=Math.ceil((Ye-t)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){let e=Re.get(de.LAST_EMAIL_LOGIN_TIME);if(e){let t=Date.now()-Number(e);if(t<Ye)return Math.ceil((Ye-t)/1e3)}return 0},checkIfRequestExists(e){return z.NOT_SAFE_RPC_METHODS.includes(e.method)||z.SAFE_RPC_METHODS.includes(e.method)},getResponseType(e){return typeof e=="string"&&(e?.match(ct.transactionHash)||e?.match(ct.signedMessage))?de.RPC_RESPONSE_TYPE_TX:de.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(e){return z.SAFE_RPC_METHODS.includes(e.method)},isClient:typeof window<"u"};l();p();d();l();p();d();l();p();d();l();p();d();l();p();d();l();p();d();l();p();d();var ie={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"},BINANCE:{id:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25",appId:"yFK5FCqYprrXDiVFbhyRx7",deeplink:"bnc://app.binance.com/mp/app",url:"https://app.binance.com/en/download"}},It={handleMobileDeeplinkRedirect(e,t){let n=window.location.href,r=encodeURIComponent(n);if(e===ie.PHANTOM.id&&!("phantom"in window)){let o=n.startsWith("https")?"https":"http",a=n.split("/")[2],i=encodeURIComponent(`${o}://${a}`);window.location.href=`${ie.PHANTOM.url}/ul/browse/${r}?ref=${i}`}if(e===ie.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${ie.SOLFLARE.url}/ul/v1/browse/${r}?ref=${r}`),t===g.CHAIN.SOLANA&&e===ie.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${ie.COINBASE.url}/dapp?cb_url=${r}`),t===g.CHAIN.BITCOIN&&e===ie.BINANCE.id&&!("binancew3w"in window)){let o=s.state.activeCaipNetwork,a=window.btoa("/pages/browser/index"),i=window.btoa(`url=${r}&defaultChainId=${o?.id??1}`),c=new URL(ie.BINANCE.deeplink);c.searchParams.set("appId",ie.BINANCE.appId),c.searchParams.set("startPagePath",a),c.searchParams.set("startPageQuery",i);let u=new URL(ie.BINANCE.url);u.searchParams.set("_dp",window.btoa(c.toString())),window.location.href=u.toString()}}};l();p();d();l();p();d();var zt=Object.freeze({enabled:!0,events:[]}),Qt=new ue({baseUrl:R.getAnalyticsUrl(),clientId:null}),Zt=5,en=60*1e3,Ne=P({...zt}),Tt={state:Ne,subscribeKey(e,t){return K(Ne,e,t)},async sendError(e,t){if(!Ne.enabled)return;let n=Date.now();if(Ne.events.filter(a=>{let i=new Date(a.properties.timestamp||"").getTime();return n-i<en}).length>=Zt)return;let o={type:"error",event:t,properties:{errorType:e.name,errorMessage:e.message,stackTrace:e.stack,timestamp:new Date().toISOString()}};Ne.events.push(o);try{if(typeof window>"u")return;let{projectId:a,sdkType:i,sdkVersion:c}=O.state;await Qt.post({path:"/e",params:{projectId:a,st:i,sv:c||"html-wagmi-4.2.2"},body:{eventId:R.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:t,errorType:e.name,errorMessage:e.message,stackTrace:e.stack}}})}catch{}},enable(){Ne.enabled=!0},disable(){Ne.enabled=!1},clearEvents(){Ne.events=[]}};var Ie=class e extends Error{constructor(t,n,r){super(t),this.originalName="AppKitError",this.name="AppKitError",this.category=n,this.originalError=r,r&&r instanceof Error&&(this.originalName=r.name),Object.setPrototypeOf(this,e.prototype);let o=!1;if(r instanceof Error&&typeof r.stack=="string"&&r.stack){let a=r.stack,i=a.indexOf(`
`);if(i>-1){let c=a.substring(i+1);this.stack=`${this.name}: ${this.message}
${c}`,o=!0}}o||(Error.captureStackTrace?Error.captureStackTrace(this,e):this.stack||(this.stack=`${this.name}: ${this.message}`))}};function Rt(e,t){let n="";try{e instanceof Error?n=e.message:typeof e=="string"?n=e:typeof e=="object"&&e!==null?Object.keys(e).length===0?n="Unknown error":n=e?.message||JSON.stringify(e):n=String(e)}catch(o){n="Unknown error",console.error("Error parsing error message",o)}let r=e instanceof Ie?e:new Ie(n,t,e);throw Tt.sendError(r,r.category),r}function X(e,t="INTERNAL_SDK_ERROR"){let n={};return Object.keys(e).forEach(r=>{let o=e[r];if(typeof o=="function"){let a=o;o.constructor.name==="AsyncFunction"?a=async(...i)=>{try{return await o(...i)}catch(c){return Rt(c,t)}}:a=(...i)=>{try{return o(...i)}catch(c){return Rt(c,t)}},n[r]=a}else n[r]=o}),n}l();p();d();l();p();d();l();p();d();var ce=P({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),tn={state:ce,subscribeNetworkImages(e){return H(ce.networkImages,()=>e(ce.networkImages))},subscribeKey(e,t){return K(ce,e,t)},subscribe(e){return H(ce,()=>e(ce))},setWalletImage(e,t){ce.walletImages[e]=t},setNetworkImage(e,t){ce.networkImages[e]=t},setChainImage(e,t){ce.chainImages[e]=t},setConnectorImage(e,t){ce.connectorImages={...ce.connectorImages,[e]:t}},setTokenImage(e,t){ce.tokenImages[e]=t},setCurrencyImage(e,t){ce.currencyImages[e]=t}},ne=X(tn);var nn={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:""},lt=P({networkImagePromises:{}}),yt={async fetchWalletImage(e){if(e)return await y._fetchWalletImage(e),this.getWalletImageById(e)},async fetchNetworkImage(e){if(!e)return;let t=this.getNetworkImageById(e);return t||(lt.networkImagePromises[e]||(lt.networkImagePromises[e]=y._fetchNetworkImage(e)),await lt.networkImagePromises[e],this.getNetworkImageById(e))},getWalletImageById(e){if(e)return ne.state.walletImages[e]},getWalletImage(e){if(e?.image_url)return e?.image_url;if(e?.image_id)return ne.state.walletImages[e.image_id]},getNetworkImage(e){if(e?.assets?.imageUrl)return e?.assets?.imageUrl;if(e?.assets?.imageId)return ne.state.networkImages[e.assets.imageId]},getNetworkImageById(e){if(e)return ne.state.networkImages[e]},getConnectorImage(e){if(e?.imageUrl)return e.imageUrl;if(e?.info?.icon)return e.info.icon;if(e?.imageId)return ne.state.connectorImages[e.imageId]},getChainImage(e){return ne.state.networkImages[nn[e]]},getTokenImage(e){if(e)return ne.state.tokenImages[e]}};l();p();d();var rn=R.getAnalyticsUrl(),on=new ue({baseUrl:rn,clientId:null}),an=["MODAL_CREATED"],sn=45,Ot=1e3*10,j=P({timestamp:Date.now(),lastFlush:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"},pendingEvents:[],subscribedToVisibilityChange:!1,walletImpressions:[]}),M={state:j,subscribe(e){return H(j,()=>e(j))},getSdkProperties(){let{projectId:e,sdkType:t,sdkVersion:n}=O.state;return{projectId:e,st:t,sv:n||"html-wagmi-4.2.2"}},shouldFlushEvents(){let e=JSON.stringify(j.pendingEvents).length/1024>sn,t=j.lastFlush+Ot<Date.now();return e||t},_setPendingEvent(e){try{let t=s.getAccountData()?.address;if("address"in e.data&&e.data.address&&(t=e.data.address),an.includes(e.data.event)||typeof window>"u")return;let n=s.getActiveCaipNetwork()?.caipNetworkId;this.state.pendingEvents.push({eventId:R.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:e.timestamp,props:{...e.data,address:t,properties:{..."properties"in e.data?e.data.properties:{},caipNetworkId:n}}}),j.reportedErrors.FORBIDDEN=!1,M.shouldFlushEvents()&&M._submitPendingEvents()}catch(t){console.warn("_setPendingEvent",t)}},sendEvent(e){j.timestamp=Date.now(),j.data=e;let t=["INITIALIZE","CONNECT_SUCCESS","SOCIAL_LOGIN_SUCCESS"];(O.state.features?.analytics||t.includes(e.event))&&M._setPendingEvent(j),this.subscribeToFlushTriggers()},sendWalletImpressionEvent(e){j.walletImpressions.push(e)},_transformPendingEventsForBatch(e){try{return e.filter(t=>t.props.event!=="WALLET_IMPRESSION_V2")}catch{return e}},_submitPendingEvents(){if(j.lastFlush=Date.now(),!(j.pendingEvents.length===0&&j.walletImpressions.length===0))try{let e=M._transformPendingEventsForBatch(j.pendingEvents);j.walletImpressions.length&&e.push({eventId:R.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:Date.now(),props:{type:"track",event:"WALLET_IMPRESSION_V2",items:[...j.walletImpressions]}}),on.sendBeacon({path:"/batch",params:M.getSdkProperties(),body:e}),j.reportedErrors.FORBIDDEN=!1,j.pendingEvents=[],j.walletImpressions=[]}catch{j.reportedErrors.FORBIDDEN=!0}},subscribeToFlushTriggers(){j.subscribedToVisibilityChange||typeof document>"u"||(j.subscribedToVisibilityChange=!0,document?.addEventListener?.("visibilitychange",()=>{document.visibilityState==="hidden"&&M._submitPendingEvents()}),document?.addEventListener?.("freeze",()=>{M._submitPendingEvents()}),window?.addEventListener?.("pagehide",()=>{M._submitPendingEvents()}),setInterval(()=>{M._submitPendingEvents()},Ot))}};var cn=R.getApiUrl(),Z=new ue({baseUrl:cn,clientId:null}),ln=40,kt=4,dn=20,b=P({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1,explorerWallets:[],explorerFilteredWallets:[],plan:{tier:"none",hasExceededUsageLimit:!1,limits:{isAboveRpcLimit:!1,isAboveMauLimit:!1}}}),y={state:b,subscribeKey(e,t){return K(b,e,t)},_getSdkProperties(){let{projectId:e,sdkType:t,sdkVersion:n}=O.state;return{projectId:e,st:t||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(e){return O.state.isUniversalProvider?e.filter(t=>!!(t.mobile_link||t.desktop_link||t.webapp_link)):e},async _fetchWalletImage(e){let t=`${Z.baseUrl}/getWalletImage/${e}`,n=await Z.getBlob({path:t,params:y._getSdkProperties()});ne.setWalletImage(e,URL.createObjectURL(n))},async _fetchNetworkImage(e){let t=`${Z.baseUrl}/public/getAssetImage/${e}`,n=await Z.getBlob({path:t,params:y._getSdkProperties()});ne.setNetworkImage(e,URL.createObjectURL(n))},async _fetchConnectorImage(e){let t=`${Z.baseUrl}/public/getAssetImage/${e}`,n=await Z.getBlob({path:t,params:y._getSdkProperties()});ne.setConnectorImage(e,URL.createObjectURL(n))},async _fetchCurrencyImage(e){let t=`${Z.baseUrl}/public/getCurrencyImage/${e}`,n=await Z.getBlob({path:t,params:y._getSdkProperties()});ne.setCurrencyImage(e,URL.createObjectURL(n))},async _fetchTokenImage(e){let t=`${Z.baseUrl}/public/getTokenImage/${e}`,n=await Z.getBlob({path:t,params:y._getSdkProperties()});ne.setTokenImage(e,URL.createObjectURL(n))},_filterWalletsByPlatform(e){let t=e.length,n=R.isMobile()?e?.filter(o=>o.mobile_link||o.webapp_link?!0:Object.values(ie).map(i=>i.id).includes(o.id)):e,r=t-n.length;return{filteredWallets:n,mobileFilteredOutWalletsLength:r}},async fetchProjectConfig(){return(await Z.get({path:"/appkit/v1/config",params:y._getSdkProperties()})).features},async fetchUsage(){try{let e=await Z.get({path:"/appkit/v1/project-limits",params:y._getSdkProperties()}),{tier:t,isAboveMauLimit:n,isAboveRpcLimit:r}=e.planLimits,o=t==="starter",a=n||r;y.state.plan={tier:t,hasExceededUsageLimit:o&&a,limits:{isAboveRpcLimit:r,isAboveMauLimit:n}}}catch(e){console.warn("Failed to fetch usage",e)}},async fetchAllowedOrigins(){try{let{allowedOrigins:e}=await Z.get({path:"/projects/v1/origins",params:y._getSdkProperties()});return e}catch(e){if(e instanceof Error&&e.cause instanceof Response){let t=e.cause.status;if(t===g.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:e});if(t>=g.HTTP_STATUS_CODES.SERVER_ERROR&&t<600)throw new Error("SERVER_ERROR",{cause:e});return[]}return[]}},async fetchNetworkImages(){let t=s.getAllRequestedCaipNetworks()?.map(({assets:n})=>n?.imageId).filter(Boolean).filter(n=>!yt.getNetworkImageById(n));t&&await Promise.allSettled(t.map(n=>y._fetchNetworkImage(n)))},async fetchConnectorImages(){let{connectors:e}=N.state,t=e.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(t.map(n=>y._fetchConnectorImage(n)))},async fetchCurrencyImages(e=[]){await Promise.allSettled(e.map(t=>y._fetchCurrencyImage(t)))},async fetchTokenImages(e=[]){await Promise.allSettled(e.map(t=>y._fetchTokenImage(t)))},async fetchWallets(e){let t=e.exclude??[];y._getSdkProperties().sv.startsWith("html-core-")&&t.push(...Object.values(ie).map(i=>i.id));let r=await Z.get({path:"/getWallets",params:{...y._getSdkProperties(),...e,page:String(e.page),entries:String(e.entries),include:e.include?.join(","),exclude:t.join(",")}}),{filteredWallets:o,mobileFilteredOutWalletsLength:a}=y._filterWalletsByPlatform(r?.data);return{data:o||[],count:r?.count,mobileFilteredOutWalletsLength:a}},async prefetchWalletRanks(){let e=N.state.connectors;if(!e?.length)return;let t={page:1,entries:20,badge:"certified"};if(t.names=e.map(o=>o.name).join(","),s.state.activeChain===g.CHAIN.EVM){let o=[...e.flatMap(a=>a.connectors?.map(i=>i.info?.rdns)||[]),...e.map(a=>a.info?.rdns)].filter(a=>typeof a=="string"&&a.length>0);o.length&&(t.rdns=o.join(","))}let{data:n}=await y.fetchWallets(t);b.explorerWallets=n;let r=s.getRequestedCaipNetworkIds().join(",");b.explorerFilteredWallets=n.filter(o=>o.chains?.some(a=>r.includes(a)))},async fetchFeaturedWallets(){let{featuredWalletIds:e}=O.state;if(e?.length){let t={...y._getSdkProperties(),page:1,entries:e?.length??kt,include:e},{data:n}=await y.fetchWallets(t),r=[...n].sort((a,i)=>e.indexOf(a.id)-e.indexOf(i.id)),o=r.map(a=>a.image_id).filter(Boolean);await Promise.allSettled(o.map(a=>y._fetchWalletImage(a))),b.featured=r,b.allFeatured=r}},async fetchRecommendedWallets(){try{b.isFetchingRecommendedWallets=!0;let{includeWalletIds:e,excludeWalletIds:t,featuredWalletIds:n}=O.state,r=[...t??[],...n??[]].filter(Boolean),o=s.getRequestedCaipNetworkIds().join(","),a={page:1,entries:kt,include:e,exclude:r,chains:o},{data:i,count:c}=await y.fetchWallets(a),u=m.getRecentWallets(),C=i.map(k=>k.image_id).filter(Boolean),h=u.map(k=>k.image_id).filter(Boolean);await Promise.allSettled([...C,...h].map(k=>y._fetchWalletImage(k))),b.recommended=i,b.allRecommended=i,b.count=c??0}catch{}finally{b.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:e}){let{includeWalletIds:t,excludeWalletIds:n,featuredWalletIds:r}=O.state,o=s.getRequestedCaipNetworkIds().join(","),a=[...b.recommended.map(({id:k})=>k),...n??[],...r??[]].filter(Boolean),i={page:e,entries:ln,include:t,exclude:a,chains:o},{data:c,count:u,mobileFilteredOutWalletsLength:C}=await y.fetchWallets(i);b.mobileFilteredOutWalletsLength=C+(b.mobileFilteredOutWalletsLength??0);let h=c.slice(0,dn).map(k=>k.image_id).filter(Boolean);await Promise.allSettled(h.map(k=>y._fetchWalletImage(k))),b.wallets=R.uniqueBy([...b.wallets,...y._filterOutExtensions(c)],"id").filter(k=>k.chains?.some(se=>o.includes(se))),b.count=u>b.count?u:b.count,b.page=e},async initializeExcludedWallets({ids:e}){let t={page:1,entries:e.length,include:e},{data:n}=await y.fetchWallets(t);n&&n.forEach(r=>{b.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:e,badge:t}){let{includeWalletIds:n,excludeWalletIds:r}=O.state,o=s.getRequestedCaipNetworkIds().join(",");b.search=[];let a={page:1,entries:100,search:e?.trim(),badge_type:t,include:n,exclude:r,chains:o},{data:i}=await y.fetchWallets(a);M.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:t??"",search:e??""}});let c=i.map(u=>u.image_id).filter(Boolean);await Promise.allSettled([...c.map(u=>y._fetchWalletImage(u)),R.wait(300)]),b.search=y._filterOutExtensions(i)},initPromise(e,t){let n=b.promises[e];return n||(b.promises[e]=t())},prefetch({fetchConnectorImages:e=!0,fetchFeaturedWallets:t=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0,fetchWalletRanks:o=!0}={}){let a=[e&&y.initPromise("connectorImages",y.fetchConnectorImages),t&&y.initPromise("featuredWallets",y.fetchFeaturedWallets),n&&y.initPromise("recommendedWallets",y.fetchRecommendedWallets),r&&y.initPromise("networkImages",y.fetchNetworkImages),o&&y.initPromise("walletRanks",y.prefetchWalletRanks)].filter(Boolean);return Promise.allSettled(a)},prefetchAnalyticsConfig(){O.state.features?.analytics&&y.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{let{isAnalyticsEnabled:e}=await Z.get({path:"/getAnalyticsConfig",params:y._getSdkProperties()});O.setFeatures({analytics:e})}catch{O.setFeatures({analytics:!1})}},filterByNamespaces(e){if(!e?.length){b.featured=b.allFeatured,b.recommended=b.allRecommended;return}let t=s.getRequestedCaipNetworkIds().join(",");b.featured=b.allFeatured.filter(n=>n.chains?.some(r=>t.includes(r))),b.recommended=b.allRecommended.filter(n=>n.chains?.some(r=>t.includes(r))),b.filteredWallets=b.wallets.filter(n=>n.chains?.some(r=>t.includes(r)))},clearFilterByNamespaces(){b.filteredWallets=[]},setFilterByNamespace(e){if(!e){b.featured=b.allFeatured,b.recommended=b.allRecommended;return}let t=s.getRequestedCaipNetworkIds().join(",");b.featured=b.allFeatured.filter(n=>n.chains?.some(r=>t.includes(r))),b.recommended=b.allRecommended.filter(n=>n.chains?.some(r=>t.includes(r))),b.filteredWallets=b.wallets.filter(n=>n.chains?.some(r=>t.includes(r)))}};l();p();d();l();p();d();l();p();d();var bt={onSwitchNetwork({network:e,ignoreSwitchConfirmation:t=!1}){let n=s.state.activeCaipNetwork,r=s.state.activeChain,o=U.state.data;if(e.id===n?.id)return;let i=!!s.getAccountData(r)?.address,c=!!s.getAccountData(e.chainNamespace)?.address,u=e.chainNamespace!==r,h=N.getConnectorId(r)===g.CONNECTOR_ID.AUTH,k=g.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(se=>se===e.chainNamespace);t||h&&k?U.push("SwitchNetwork",{...o,network:e}):i&&u&&!c?U.push("SwitchActiveChain",{switchToChain:e.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:e}):U.push("SwitchNetwork",{...o,network:e})}};l();p();d();var ye=P({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),he={state:ye,subscribe(e){return H(ye,()=>e(ye))},subscribeOpen(e){return K(ye,"open",e)},set(e){Object.assign(ye,{...ye,...e})}};var re=P({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),pn={state:re,subscribe(e){return H(re,()=>e(re))},subscribeKey(e,t){return K(re,e,t)},async open(e){let t=e?.namespace,n=s.state.activeChain,r=t&&t!==n,o=s.getAccountData(e?.namespace)?.caipAddress,a=s.state.noAdapters;if(w.state.wcBasic?y.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1,fetchWalletRanks:!1}):await y.prefetch(),N.setFilterByNamespace(e?.namespace),V.setLoading(!0,t),t&&r){let i=s.getNetworkData(t)?.caipNetwork||s.getRequestedCaipNetworks(t)[0];i&&(a?(await s.switchActiveNetwork(i),U.push("ConnectingWalletConnectBasic")):bt.onSwitchNetwork({network:i,ignoreSwitchConfirmation:!0}))}else O.state.manualWCControl||a&&!o?R.isMobile()?U.reset("AllWallets"):U.reset("ConnectingWalletConnectBasic"):e?.view?U.reset(e.view,e.data):o?U.reset("Account"):U.reset("Connect");re.open=!0,he.set({open:!0}),M.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!o}})},close(){let e=O.state.enableEmbedded,t=!!s.state.activeCaipAddress;re.open&&M.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:t}}),re.open=!1,U.reset("Connect"),V.clearLoading(),e?t?U.replace("Account"):U.push("Connect"):he.set({open:!1}),w.resetUri()},setLoading(e,t){t&&re.loadingNamespaceMap.set(t,e),re.loading=e,he.set({loading:e})},clearLoading(){re.loadingNamespaceMap.clear(),re.loading=!1,he.set({loading:!1})},shake(){re.shake||(re.shake=!0,setTimeout(()=>{re.shake=!1},500))}},V=X(pn);var un=["ConnectingExternal","ConnectingMultiChain","ConnectingSocial","ConnectingFarcaster"],F=P({view:"Connect",history:["Connect"],transactionStack:[]}),fn={state:F,subscribeKey(e,t){return K(F,e,t)},pushTransactionStack(e){F.transactionStack.push(e)},popTransactionStack(e){let t=F.transactionStack.pop();if(!t)return;let{onSuccess:n,onError:r,onCancel:o}=t;switch(e){case"success":n?.();break;case"error":r?.(),U.goBack();break;case"cancel":o?.(),U.goBack();break;default:}},push(e,t){let n=e,r=t;y.state.plan.hasExceededUsageLimit&&un.includes(e)&&(n="UsageExceeded",r=void 0),n!==F.view&&(F.view=n,F.history.push(n),F.data=r)},reset(e,t){F.view=e,F.history=[e],F.data=t},replace(e,t){F.history.at(-1)===e||(F.view=e,F.history[F.history.length-1]=e,F.data=t)},goBack(){let e=s.state.activeCaipAddress,t=U.state.view==="ConnectingFarcaster",n=!e&&t;if(F.history.length>1){F.history.pop();let[r]=F.history.slice(-1);r&&(e&&r==="Connect"?F.view="Account":F.view=r)}else V.close();F.data?.wallet&&(F.data.wallet=void 0),F.data?.redirectView&&(F.data.redirectView=void 0),setTimeout(()=>{if(n){s.setAccountProp("farcasterUrl",void 0,s.state.activeChain);let r=N.getAuthConnector();r?.provider?.reload();let o=me(O.state);r?.provider?.syncDappData?.({metadata:o.metadata,sdkVersion:o.sdkVersion,projectId:o.projectId,sdkType:o.sdkType})}},100)},goBackToIndex(e){if(F.history.length>1){F.history=F.history.slice(0,e+1);let[t]=F.history.slice(-1);t&&(F.view=t)}},goBackOrCloseModal(){U.state.history.length>1?U.goBack():V.close()}},U=X(fn);l();p();d();var Ae=P({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),dt={state:Ae,subscribe(e){return H(Ae,()=>e(Ae))},setThemeMode(e){Ae.themeMode=e;try{let t=N.getAuthConnector();if(t){let n=dt.getSnapshot().themeVariables;t.provider.syncTheme({themeMode:e,themeVariables:n,w3mThemeVariables:we(n,e)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(e){Ae.themeVariables={...Ae.themeVariables,...e};try{let t=N.getAuthConnector();if(t){let n=dt.getSnapshot().themeVariables;t.provider.syncTheme({themeVariables:n,w3mThemeVariables:we(Ae.themeVariables,Ae.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return me(Ae)}},xe=X(dt);var vt=Object.fromEntries(Ke.map(e=>[e,void 0])),mn=Object.fromEntries(Ke.map(e=>[e,!0])),B=P({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:vt,filterByNamespaceMap:mn}),Cn={state:B,subscribe(e){return H(B,()=>{e(B)})},subscribeKey(e,t){return K(B,e,t)},initialize(e){e.forEach(t=>{let n=m.getConnectedConnectorId(t);n&&N.setConnectorId(n,t)})},setActiveConnector(e){e&&(B.activeConnector=Ee(e))},setConnectors(e){e.filter(o=>!B.allConnectors.some(a=>a.id===o.id&&N.getConnectorName(a.name)===N.getConnectorName(o.name)&&a.chain===o.chain)).forEach(o=>{o.type!=="MULTI_CHAIN"&&B.allConnectors.push(Ee(o))});let n=N.getEnabledNamespaces(),r=N.getEnabledConnectors(n);B.connectors=N.mergeMultiChainConnectors(r)},filterByNamespaces(e){Object.keys(B.filterByNamespaceMap).forEach(t=>{B.filterByNamespaceMap[t]=!1}),e.forEach(t=>{B.filterByNamespaceMap[t]=!0}),N.updateConnectorsForEnabledNamespaces()},filterByNamespace(e,t){B.filterByNamespaceMap[e]=t,N.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){let e=N.getEnabledNamespaces(),t=N.getEnabledConnectors(e),n=N.areAllNamespacesEnabled();B.connectors=N.mergeMultiChainConnectors(t),n?y.clearFilterByNamespaces():y.filterByNamespaces(e)},getEnabledNamespaces(){return Object.entries(B.filterByNamespaceMap).filter(([e,t])=>t).map(([e])=>e)},getEnabledConnectors(e){return B.allConnectors.filter(t=>e.includes(t.chain))},areAllNamespacesEnabled(){return Object.values(B.filterByNamespaceMap).every(e=>e)},mergeMultiChainConnectors(e){let t=N.generateConnectorMapByName(e),n=[];return t.forEach(r=>{let o=r[0],a=o?.id===g.CONNECTOR_ID.AUTH;r.length>1&&o?n.push({name:o.name,imageUrl:o.imageUrl,imageId:o.imageId,connectors:[...r],type:a?"AUTH":"MULTI_CHAIN",chain:"eip155",id:o?.id||""}):o&&n.push(o)}),n},generateConnectorMapByName(e){let t=new Map;return e.forEach(n=>{let{name:r}=n,o=N.getConnectorName(r);if(!o)return;let a=t.get(o)||[];a.find(c=>c.chain===n.chain)||a.push(n),t.set(o,a)}),t},getConnectorName(e){return e&&({"Trust Wallet":"Trust"}[e]||e)},getUniqueConnectorsByName(e){let t=[];return e.forEach(n=>{t.find(r=>r.chain===n.chain)||t.push(n)}),t},addConnector(e){if(e.id===g.CONNECTOR_ID.AUTH){let t=e,n=me(O.state),r=xe.getSnapshot().themeMode,o=xe.getSnapshot().themeVariables;t?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,projectId:n.projectId,sdkType:n.sdkType}),t?.provider?.syncTheme({themeMode:r,themeVariables:o,w3mThemeVariables:we(o,r)}),N.setConnectors([e])}else N.setConnectors([e])},getAuthConnector(e){let t=e||s.state.activeChain,n=B.connectors.find(r=>r.id===g.CONNECTOR_ID.AUTH);if(n)return n?.connectors?.length?n.connectors.find(o=>o.chain===t):n},getAnnouncedConnectorRdns(){return B.connectors.filter(e=>e.type==="ANNOUNCED").map(e=>e.info?.rdns)},getConnectorById(e){return B.allConnectors.find(t=>t.id===e)},getConnector({id:e,rdns:t,namespace:n}){let r=n||s.state.activeChain;return B.allConnectors.filter(a=>a.chain===r).find(a=>a.explorerId===e||a.info?.rdns===t)},syncIfAuthConnector(e){if(e.id!=="AUTH")return;let t=e,n=me(O.state),r=xe.getSnapshot().themeMode,o=xe.getSnapshot().themeVariables;t?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),t.provider.syncTheme({themeMode:r,themeVariables:o,w3mThemeVariables:we(o,r)})},getConnectorsByNamespace(e){let t=B.allConnectors.filter(n=>n.chain===e);return N.mergeMultiChainConnectors(t)},canSwitchToSmartAccount(e){return s.checkIfSmartAccountEnabled()&&le(e)===z.ACCOUNT_TYPES.EOA},selectWalletConnector(e){let t=U.state.data?.redirectView,n=N.getConnector({id:e.id,rdns:e.rdns});It.handleMobileDeeplinkRedirect(n?.explorerId||e.id,s.state.activeChain),n?U.push("ConnectingExternal",{connector:n,wallet:e,redirectView:t}):U.push("ConnectingWalletConnect",{wallet:e,redirectView:t})},getConnectors(e){return e?N.getConnectorsByNamespace(e):N.mergeMultiChainConnectors(B.allConnectors)},setFilterByNamespace(e){B.filterByNamespace=e,B.connectors=N.getConnectors(e),y.setFilterByNamespace(e)},setConnectorId(e,t){e&&(B.activeConnectorIds={...B.activeConnectorIds,[t]:e},m.setConnectedConnectorId(t,e))},removeConnectorId(e){B.activeConnectorIds={...B.activeConnectorIds,[e]:void 0},m.deleteConnectedConnectorId(e)},getConnectorId(e){if(e)return B.activeConnectorIds[e]},isConnected(e){return e?!!B.activeConnectorIds[e]:Object.values(B.activeConnectorIds).some(t=>!!t)},resetConnectorIds(){B.activeConnectorIds={...vt}}},N=X(Cn);var En=1e3,Oe={checkNamespaceConnectorId(e,t){return N.getConnectorId(e)===t},isSocialProvider(e){return G.DEFAULT_REMOTE_FEATURES.socials.includes(e)},connectWalletConnect({walletConnect:e,connector:t,closeModalOnConnect:n=!0,redirectViewOnModalClose:r="Connect",onOpen:o,onConnect:a}){return new Promise((i,c)=>{if(e&&N.setActiveConnector(t),o?.(R.isMobile()&&e),r){let C=V.subscribeKey("open",h=>{h||(U.state.view!==r&&U.replace(r),C(),c(new Error("Modal closed")))})}let u=s.subscribeKey("activeCaipAddress",C=>{C&&(a?.(),n&&V.close(),u(),i(te.parseCaipAddress(C)))})})},connectExternal(e){return new Promise((t,n)=>{let r=s.subscribeKey("activeCaipAddress",o=>{o&&(V.close(),r(),t(te.parseCaipAddress(o)))});w.connectExternal(e,e.chain).catch(()=>{r(),n(new Error("Connection rejected"))})})},connectSocial({social:e,namespace:t,closeModalOnConnect:n=!0,onOpenFarcaster:r,onConnect:o}){let a,i=!1,c=null,u=t||s.state.activeChain,C=s.subscribeKey("activeCaipAddress",h=>{h&&(n&&V.close(),C())});return new Promise((h,k)=>{async function se(Q){if(Q.data?.resultUri)if(Q.origin===g.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",se,!1);try{let ee=N.getAuthConnector(u);if(ee&&!i){a&&a.close(),i=!0;let W=Q.data.resultUri;M.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:e}}),m.setConnectedSocialProvider(e),await w.connectExternal({id:ee.id,type:ee.type,socialUri:W},ee.chain);let Y=s.state.activeCaipAddress;if(!Y){k(new Error("Failed to connect"));return}h(te.parseCaipAddress(Y)),M.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:e}})}}catch(ee){M.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:e,message:R.parseError(ee)}}),k(new Error("Failed to connect"))}}else M.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:e,message:"Untrusted Origin"}})}async function be(){if(M.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:e}}),e==="farcaster"){r?.();let Q=V.subscribeKey("open",W=>{!W&&e==="farcaster"&&(k(new Error("Popup closed")),o?.(),Q())}),ee=N.getAuthConnector();if(ee&&!s.getAccountData(u)?.farcasterUrl)try{let{url:Y}=await ee.provider.getFarcasterUri();s.setAccountProp("farcasterUrl",Y,u)}catch{k(new Error("Failed to connect to farcaster"))}}else{let Q=N.getAuthConnector();c=R.returnOpenHref(`${g.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(Q){let{uri:ee}=await Q.provider.getSocialRedirectUri({provider:e});if(c&&ee){c.location.href=ee,a=c;let W=setInterval(()=>{a?.closed&&!i&&(k(new Error("Popup closed")),clearInterval(W))},1e3);window.addEventListener("message",se,!1)}else c?.close(),k(new Error("Failed to initiate social connection"))}}catch{k(new Error("Failed to initiate social connection")),c?.close()}}}be()})},connectEmail({closeModalOnConnect:e=!0,redirectViewOnModalClose:t="Connect",onOpen:n,onConnect:r}){return new Promise((o,a)=>{if(n?.(),t){let c=V.subscribeKey("open",u=>{u||(U.state.view!==t&&U.replace(t),c(),a(new Error("Modal closed")))})}let i=s.subscribeKey("activeCaipAddress",c=>{c&&(r?.(),e&&V.close(),i(),o(te.parseCaipAddress(c)))})})},async updateEmail(){let e=m.getConnectedConnectorId(s.state.activeChain),t=N.getAuthConnector();if(!t)throw new Error("No auth connector found");if(e!==g.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");let n=t.provider.getEmail()??"";return await V.open({view:"UpdateEmailWallet",data:{email:n,redirectView:void 0}}),new Promise((r,o)=>{let a=setInterval(()=>{let c=t.provider.getEmail()??"";c!==n&&(V.close(),clearInterval(a),i(),r({email:c}))},En),i=V.subscribeKey("open",c=>{c||(U.state.view!=="Connect"&&U.push("Connect"),clearInterval(a),i(),o(new Error("Modal closed")))})})},canSwitchToSmartAccount(e){return s.checkIfSmartAccountEnabled()&&le(e)===z.ACCOUNT_TYPES.EOA}};function je(){let e=s.state.activeCaipNetwork?.chainNamespace||"eip155",t=s.state.activeCaipNetwork?.id||1,n=G.NATIVE_TOKEN_ADDRESS[e];return`${e}:${t}:${n}`}function le(e){return s.getAccountData(e)?.preferredAccountType}function sc(e){return e?s.state.chains.get(e)?.networkState?.caipNetwork:s.state.activeCaipNetwork}l();p();d();var pt={getConnectionStatus(e,t){let n=N.state.activeConnectorIds[t],r=w.getConnections(t);return!!n&&e.connectorId===n?"connected":r.some(i=>i.connectorId.toLowerCase()===e.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections({connections:e,connectorId:t,addresses:n}){return e.map(r=>{if((t?r.connectorId.toLowerCase()===t.toLowerCase():!1)&&n){let a=r.accounts.filter(i=>!n.some(u=>u.toLowerCase()===i.address.toLowerCase()));return{...r,accounts:a}}return r})},excludeExistingConnections(e,t){let n=new Set(e);return t.filter(r=>!n.has(r.connectorId))},getConnectionsByConnectorId(e,t){return e.filter(n=>n.connectorId.toLowerCase()===t.toLowerCase())},getConnectionsData(e){let t=!!O.state.remoteFeatures?.multiWallet,n=N.state.activeConnectorIds[e],r=w.getConnections(e),a=(w.state.recentConnections.get(e)??[]).filter(c=>N.getConnectorById(c.connectorId)),i=pt.excludeExistingConnections([...r.map(c=>c.connectorId),...n?[n]:[]],a);return t?{connections:r,recentConnections:i}:{connections:r.filter(c=>c.connectorId.toLowerCase()===n?.toLowerCase()),recentConnections:[]}}};l();p();d();var $=P({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),hn={state:$,subscribe(e){return H($,()=>e($))},setLastNetworkInView(e){$.lastNetworkInView=e},async fetchTransactions(e){if(!e)throw new Error("Transactions can't be fetched without an accountAddress");$.loading=!0;try{let t=await v.fetchTransactions({account:e,cursor:$.next,chainId:s.state.activeCaipNetwork?.caipNetworkId}),n=Fe.filterSpamTransactions(t.data),r=Fe.filterByConnectedChain(n),o=[...$.transactions,...r];$.loading=!1,$.transactions=o,$.transactionsByYear=Fe.groupTransactionsByYearAndMonth($.transactionsByYear,r),$.empty=o.length===0,$.next=t.next?t.next:void 0}catch{let n=s.state.activeChain;M.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:e,projectId:O.state.projectId,cursor:$.next,isSmartAccount:le(n)===z.ACCOUNT_TYPES.SMART_ACCOUNT}}),_e.showError("Failed to fetch transactions"),$.loading=!1,$.empty=!0,$.next=void 0}},groupTransactionsByYearAndMonth(e={},t=[]){let n=e;return t.forEach(r=>{let o=new Date(r.metadata.minedAt).getFullYear(),a=new Date(r.metadata.minedAt).getMonth(),i=n[o]??{},u=(i[a]??[]).filter(C=>C.id!==r.id);n[o]={...i,[a]:[...u,r].sort((C,h)=>new Date(h.metadata.minedAt).getTime()-new Date(C.metadata.minedAt).getTime())}}),n},filterSpamTransactions(e){return e.filter(t=>!t.transfers.every(r=>r.nft_info?.flags.is_spam===!0))},filterByConnectedChain(e){let t=s.state.activeCaipNetwork?.caipNetworkId;return e.filter(r=>r.metadata.chain===t)},clearCursor(){$.next=void 0},resetTransactions(){$.transactions=[],$.transactionsByYear={},$.lastNetworkInView=void 0,$.loading=!1,$.empty=!1,$.next=void 0}},Fe=X(hn,"API_ERROR");var x=P({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"}),Te,An={state:x,subscribe(e){return H(x,()=>e(x))},subscribeKey(e,t){return K(x,e,t)},_getClient(){return x._client},setClient(e){x._client=Ee(e)},initialize(e){let t=e.filter(n=>!!n.namespace).map(n=>n.namespace);w.syncStorageConnections(t)},syncStorageConnections(e){let t=m.getConnections(),n=e??Array.from(s.state.chains.keys());for(let r of n){let o=t[r]??[],a=new Map(x.recentConnections);a.set(r,o),x.recentConnections=a}},getConnections(e){return e?x.connections.get(e)??[]:[]},hasAnyConnection(e){let t=w.state.connections;return Array.from(t.values()).flatMap(n=>n).some(({connectorId:n})=>n===e)},async connectWalletConnect({cache:e="auto"}={}){let t=R.isTelegram()||R.isSafari()&&R.isIos();if(e==="always"||e==="auto"&&t){if(Te){await Te,Te=void 0;return}if(!R.isPairingExpired(x?.wcPairingExpiry)){let n=x.wcUri;x.wcUri=n;return}Te=w._getClient()?.connectWalletConnect?.().catch(()=>{}),w.state.status="connecting",await Te,Te=void 0,x.wcPairingExpiry=void 0,w.state.status="connected"}else await w._getClient()?.connectWalletConnect?.()},async connectExternal(e,t,n=!0){let r=await w._getClient()?.connectExternal?.(e);return n&&s.setActiveNamespace(t),r},async reconnectExternal(e){await w._getClient()?.reconnectExternal?.(e);let t=e.chain||s.state.activeChain;t&&N.setConnectorId(e.id,t)},async setPreferredAccountType(e,t){if(!t)return;V.setLoading(!0,s.state.activeChain);let n=N.getAuthConnector();n&&(s.setAccountProp("preferredAccountType",e,t),await n.provider.setPreferredAccount(e),m.setPreferredAccountTypes(Object.entries(s.state.chains).reduce((r,[o,a])=>{let i=o,c=le(i);return c!==void 0&&(r[i]=c),r},{})),await w.reconnectExternal(n),V.setLoading(!1,s.state.activeChain),M.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:e,network:s.state.activeCaipNetwork?.caipNetworkId||""}}))},async signMessage(e){return w._getClient()?.signMessage(e)},parseUnits(e,t){return w._getClient()?.parseUnits(e,t)},formatUnits(e,t){return w._getClient()?.formatUnits(e,t)},updateBalance(e){return w._getClient()?.updateBalance(e)},async sendTransaction(e){return w._getClient()?.sendTransaction(e)},async getCapabilities(e){return w._getClient()?.getCapabilities(e)},async grantPermissions(e){return w._getClient()?.grantPermissions(e)},async walletGetAssets(e){return w._getClient()?.walletGetAssets(e)??{}},async estimateGas(e){return w._getClient()?.estimateGas(e)},async writeContract(e){return w._getClient()?.writeContract(e)},async getEnsAddress(e){return w._getClient()?.getEnsAddress(e)},async getEnsAvatar(e){return w._getClient()?.getEnsAvatar(e)},checkInstalled(e){return w._getClient()?.checkInstalled?.(e)||!1},resetWcConnection(){x.wcUri=void 0,x.wcPairingExpiry=void 0,x.wcLinking=void 0,x.recentWallet=void 0,x.status="disconnected",Fe.resetTransactions(),m.deleteWalletConnectDeepLink(),m.deleteRecentWallet()},resetUri(){x.wcUri=void 0,x.wcPairingExpiry=void 0,Te=void 0},finalizeWcConnection(e){let{wcLinking:t,recentWallet:n}=w.state;t&&m.setWalletConnectDeepLink(t),n&&m.setAppKitRecent(n),e&&M.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:e,properties:{method:t?"mobile":"qrcode",name:U.state.data?.wallet?.name||"Unknown",view:U.state.view,walletRank:n?.order}})},setWcBasic(e){x.wcBasic=e},setUri(e){x.wcUri=e,x.wcPairingExpiry=R.getPairingExpiry()},setWcLinking(e){x.wcLinking=e},setWcError(e){x.wcError=e,x.buffering=!1},setRecentWallet(e){x.recentWallet=e},setBuffering(e){x.buffering=e},setStatus(e){x.status=e},setIsSwitchingConnection(e){x.isSwitchingConnection=e},async disconnect({id:e,namespace:t,initialDisconnect:n}={}){try{await w._getClient()?.disconnect({id:e,chainNamespace:t,initialDisconnect:n})}catch(r){throw new Ie("Failed to disconnect","INTERNAL_SDK_ERROR",r)}},async disconnectConnector({id:e,namespace:t}){try{await w._getClient()?.disconnectConnector({id:e,namespace:t})}catch(n){throw new Ie("Failed to disconnect connector","INTERNAL_SDK_ERROR",n)}},setConnections(e,t){let n=new Map(x.connections);n.set(t,e),x.connections=n},async handleAuthAccountSwitch({address:e,namespace:t}){let r=s.getAccountData(t)?.user?.accounts?.find(a=>a.type==="smartAccount"),o=r&&r.address.toLowerCase()===e.toLowerCase()&&Oe.canSwitchToSmartAccount(t)?"smartAccount":"eoa";await w.setPreferredAccountType(o,t)},async handleActiveConnection({connection:e,namespace:t,address:n}){let r=N.getConnectorById(e.connectorId),o=e.connectorId===g.CONNECTOR_ID.AUTH;if(!r)throw new Error(`No connector found for connection: ${e.connectorId}`);if(o)n&&await w.handleAuthAccountSwitch({address:n,namespace:t});else return(await w.connectExternal({id:r.id,type:r.type,provider:r.provider,address:n,chain:t},t))?.address;return n},async handleDisconnectedConnection({connection:e,namespace:t,address:n,closeModalOnConnect:r}){let o=N.getConnectorById(e.connectorId),a=e.auth?.name?.toLowerCase(),i=e.connectorId===g.CONNECTOR_ID.AUTH,c=e.connectorId===g.CONNECTOR_ID.WALLET_CONNECT;if(!o)throw new Error(`No connector found for connection: ${e.connectorId}`);let u;if(i)if(a&&Oe.isSocialProvider(a)){let{address:C}=await Oe.connectSocial({social:a,closeModalOnConnect:r,onOpenFarcaster(){V.open({view:"ConnectingFarcaster"})},onConnect(){U.replace("ProfileWallets")}});u=C}else{let{address:C}=await Oe.connectEmail({closeModalOnConnect:r,onOpen(){V.open({view:"EmailLogin"})},onConnect(){U.replace("ProfileWallets")}});u=C}else if(c){let{address:C}=await Oe.connectWalletConnect({walletConnect:!0,connector:o,closeModalOnConnect:r,onOpen(h){let k=h?"AllWallets":"ConnectingWalletConnect";V.state.open?U.push(k):V.open({view:k})},onConnect(){U.replace("ProfileWallets")}});u=C}else{let C=await w.connectExternal({id:o.id,type:o.type,provider:o.provider,chain:t},t);C&&(u=C.address)}return i&&n&&await w.handleAuthAccountSwitch({address:n,namespace:t}),u},async switchConnection({connection:e,address:t,namespace:n,closeModalOnConnect:r,onChange:o}){let a,i=s.getAccountData(n)?.caipAddress;if(i){let{address:u}=te.parseCaipAddress(i);a=u}let c=pt.getConnectionStatus(e,n);switch(c){case"connected":case"active":{let u=await w.handleActiveConnection({connection:e,namespace:n,address:t});if(a&&u){let C=u.toLowerCase()!==a.toLowerCase();o?.({address:u,namespace:n,hasSwitchedAccount:C,hasSwitchedWallet:c==="active"})}break}case"disconnected":{let u=await w.handleDisconnectedConnection({connection:e,namespace:n,address:t,closeModalOnConnect:r});u&&o?.({address:u,namespace:n,hasSwitchedAccount:!0,hasSwitchedWallet:!0});break}default:throw new Error(`Invalid connection status: ${c}`)}}},w=X(An);l();p();d();var qe={createBalance(e,t){let n={name:e.metadata.name||"",symbol:e.metadata.symbol||"",decimals:e.metadata.decimals||0,value:e.metadata.value||0,price:e.metadata.price||0,iconUrl:e.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:t,address:e.address==="native"?void 0:this.convertAddressToCAIP10Address(e.address,t),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:e.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:e,decimals:t}){return He(BigInt(e),t)},convertAddressToCAIP10Address(e,t){return`${t}:${e}`},createCAIP2ChainId(e,t){return`${t}:${parseInt(e,16)}`},getChainIdHexFromCAIP2ChainId(e){let t=e.split(":");if(t.length<2||!t[1])return"0x0";let n=t[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(e){return typeof e!="object"||e===null?!1:Object.values(e).every(t=>Array.isArray(t)&&t.every(n=>this.isValidAsset(n)))},isValidAsset(e){return typeof e=="object"&&e!==null&&typeof e.address=="string"&&typeof e.balance=="string"&&(e.type==="ERC20"||e.type==="NATIVE")&&typeof e.metadata=="object"&&e.metadata!==null&&typeof e.metadata.name=="string"&&typeof e.metadata.symbol=="string"&&typeof e.metadata.decimals=="number"&&typeof e.metadata.price=="number"&&typeof e.metadata.iconUrl=="string"}};l();p();d();var ut;async function Ut(){if(!ut){let{createPublicClient:e,http:t,defineChain:n}=await import("./_esm-SEE772QS.js");ut={createPublicClient:e,http:t,defineChain:n}}return ut}var Je={getBlockchainApiRpcUrl(e,t){let n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",e),n.searchParams.set("projectId",t),n.toString()},async getViemChain(e){let{defineChain:t}=await Ut(),{chainId:n}=te.parseCaipNetworkId(e.caipNetworkId);return t({...e,id:Number(n)})},async createViemPublicClient(e){let{createPublicClient:t,http:n}=await Ut(),r=O.state.projectId,o=await Je.getViemChain(e);if(!o)throw new Error(`Chain ${e.caipNetworkId} not found in viem/chains`);return t({chain:o,transport:n(Je.getBlockchainApiRpcUrl(e.caipNetworkId,r))})}};var ke={async getMyTokensWithBalance(e){let t=s.getAccountData()?.address,n=s.state.activeCaipNetwork,r=N.getConnectorId("eip155")===g.CONNECTOR_ID.AUTH;if(!t||!n)return[];let o=`${n.caipNetworkId}:${t}`,a=m.getBalanceCacheForCaipAddress(o);if(a)return a.balances;if(n.chainNamespace===g.CHAIN.EVM&&r){let c=await this.getEIP155Balances(t,n);if(c)return this.filterLowQualityTokens(c)}let i=await v.getBalance(t,n.caipNetworkId,e);return this.filterLowQualityTokens(i.balances)},async getEIP155Balances(e,t){try{let n=qe.getChainIdHexFromCAIP2ChainId(t.caipNetworkId);if(!(await w.getCapabilities(e))?.[n]?.assetDiscovery?.supported)return null;let o=await w.walletGetAssets({account:e,chainFilter:[n]});if(!qe.isWalletGetAssetsResponse(o))return null;let i=(o[n]||[]).map(c=>qe.createBalance(c,t.caipNetworkId));return m.updateBalanceCache({caipAddress:`${t.caipNetworkId}:${e}`,balance:{balances:i},timestamp:Date.now()}),i}catch{return null}},filterLowQualityTokens(e){return e.filter(t=>t.quantity.decimals!=="0")},async fetchERC20Balance({caipAddress:e,assetAddress:t,caipNetwork:n}){let r=await Je.createViemPublicClient(n),{address:o}=te.parseCaipAddress(e),[{result:a},{result:i},{result:c},{result:u}]=await r.multicall({contracts:[{address:t,functionName:"name",args:[],abi:ve},{address:t,functionName:"symbol",args:[],abi:ve},{address:t,functionName:"balanceOf",args:[o],abi:ve},{address:t,functionName:"decimals",args:[],abi:ve}]});return{name:a,symbol:i,decimals:u,balance:c&&u?He(c,u):"0"}}};l();p();d();var ft={adapters:{}},Pt={state:ft,initialize(e){ft.adapters={...e}},get(e){return ft.adapters[e]}};l();p();d();var Xe={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0},oe=P({providers:{...Xe},providerIds:{...Xe}}),Dt={state:oe,subscribeKey(e,t){return K(oe,e,t)},subscribe(e){return H(oe,()=>{e(oe)})},subscribeProviders(e){return H(oe.providers,()=>e(oe.providers))},setProvider(e,t){e&&t&&(oe.providers[e]=Ee(t))},getProvider(e){if(e)return oe.providers[e]},setProviderId(e,t){t&&(oe.providerIds[e]=t)},getProviderId(e){if(e)return oe.providerIds[e]},reset(){oe.providers={...Xe},oe.providerIds={...Xe}},resetChain(e){oe.providers[e]=void 0,oe.providerIds[e]=void 0}};l();p();d();l();p();d();var Lt={async getTokenList(e){return(await v.fetchSwapTokens({chainId:e}))?.tokens?.map(r=>({...r,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0}))||[]},async fetchGasPrice(){let e=s.state.activeCaipNetwork;if(!e)return null;try{switch(e.chainNamespace){case"solana":let t=(await w?.estimateGas({chainNamespace:"solana"}))?.toString();return{standard:t,fast:t,instant:t};case"eip155":default:return await v.fetchGasPrice({chainId:e.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:e,userAddress:t,sourceTokenAmount:n,sourceTokenDecimals:r}){let o=await v.fetchSwapAllowance({tokenAddress:e,userAddress:t});if(o?.allowance&&n&&r){let a=w.parseUnits(n,r)||0;return BigInt(o.allowance)>=a}return!1},async getMyTokensWithBalance(e){let t=await ke.getMyTokensWithBalance(e);return s.setAccountProp("tokenBalance",t,s.state.activeChain),this.mapBalancesToSwapTokens(t)},mapBalancesToSwapTokens(e){return e?.map(t=>({...t,address:t?.address?t.address:je(),decimals:parseInt(t.quantity.decimals,10),logoUri:t.iconUrl,eip2612:!1}))||[]},async handleSwapError(e){try{let t=e?.cause;return t?.json&&(await t.json())?.reasons?.[0]?.description?.includes("insufficient liquidity")?"Insufficient liquidity":void 0}catch{return}}};var L=P({tokenBalances:[],loading:!1}),Sn={state:L,subscribe(e){return H(L,()=>e(L))},subscribeKey(e,t){return K(L,e,t)},setToken(e){e&&(L.token=Ee(e))},setTokenAmount(e){L.sendTokenAmount=e},setReceiverAddress(e){L.receiverAddress=e},setReceiverProfileImageUrl(e){L.receiverProfileImageUrl=e},setReceiverProfileName(e){L.receiverProfileName=e},setNetworkBalanceInUsd(e){L.networkBalanceInUSD=e},setLoading(e){L.loading=e},getSdkEventProperties(e){return{message:R.parseError(e),isSmartAccount:le(s.state.activeChain)===z.ACCOUNT_TYPES.SMART_ACCOUNT,token:L.token?.symbol||"",amount:L.sendTokenAmount??0,network:s.state.activeCaipNetwork?.caipNetworkId||""}},async sendToken(){try{switch(D.setLoading(!0),s.state.activeCaipNetwork?.chainNamespace){case"eip155":await D.sendEvmToken();return;case"solana":await D.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}catch(e){throw pe.isUserRejectedRequestError(e)?new De(e):e}finally{D.setLoading(!1)}},async sendEvmToken(){let e=s.state.activeChain;if(!e)throw new Error("SendController:sendEvmToken - activeChainNamespace is required");let t=le(e);if(!D.state.sendTokenAmount||!D.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!D.state.token)throw new Error("A token is required");if(D.state.token?.address){M.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===z.ACCOUNT_TYPES.SMART_ACCOUNT,token:D.state.token.address,amount:D.state.sendTokenAmount,network:s.state.activeCaipNetwork?.caipNetworkId||""}});let{hash:n}=await D.sendERC20Token({receiverAddress:D.state.receiverAddress,tokenAddress:D.state.token.address,sendTokenAmount:D.state.sendTokenAmount,decimals:D.state.token.quantity.decimals});n&&(L.hash=n)}else{M.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===z.ACCOUNT_TYPES.SMART_ACCOUNT,token:D.state.token.symbol||"",amount:D.state.sendTokenAmount,network:s.state.activeCaipNetwork?.caipNetworkId||""}});let{hash:n}=await D.sendNativeToken({receiverAddress:D.state.receiverAddress,sendTokenAmount:D.state.sendTokenAmount,decimals:D.state.token.quantity.decimals});n&&(L.hash=n)}},async fetchTokenBalance(e){L.loading=!0;let t=s.state.activeChain,n=s.state.activeCaipNetwork?.caipNetworkId,r=s.state.activeCaipNetwork?.chainNamespace,o=s.getAccountData(t)?.caipAddress??s.state.activeCaipAddress,a=o?R.getPlainAddress(o):void 0;if(L.lastRetry&&!R.isAllowedRetry(L.lastRetry,30*G.ONE_SEC_MS))return L.loading=!1,[];try{if(a&&n&&r){let i=await ke.getMyTokensWithBalance();return L.tokenBalances=i,L.lastRetry=void 0,i}}catch(i){L.lastRetry=Date.now(),e?.(i),_e.showError("Token Balance Unavailable")}finally{L.loading=!1}return[]},fetchNetworkBalance(){if(L.tokenBalances.length===0)return;let e=Lt.mapBalancesToSwapTokens(L.tokenBalances);if(!e)return;let t=e.find(n=>n.address===je());t&&(L.networkBalanceInUSD=t?Ze.multiply(t.quantity.numeric,t.price).toString():"0")},async sendNativeToken(e){U.pushTransactionStack({});let t=e.receiverAddress,n=s.getAccountData()?.address,r=w.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals)),a=await w.sendTransaction({chainNamespace:g.CHAIN.EVM,to:t,address:n,data:"0x",value:r??BigInt(0)});return M.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:le("eip155")===z.ACCOUNT_TYPES.SMART_ACCOUNT,token:D.state.token?.symbol||"",amount:e.sendTokenAmount,network:s.state.activeCaipNetwork?.caipNetworkId||"",hash:a||""}}),w._getClient()?.updateBalance("eip155"),D.resetSend(),{hash:a}},async sendERC20Token(e){U.pushTransactionStack({onSuccess(){U.replace("Account")}});let t=w.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals)),n=s.getAccountData()?.address;if(n&&e.sendTokenAmount&&e.receiverAddress&&e.tokenAddress){let r=R.getPlainAddress(e.tokenAddress);if(!r)throw new Error("SendController:sendERC20Token - tokenAddress is required");let o=await w.writeContract({fromAddress:n,tokenAddress:r,args:[e.receiverAddress,t??BigInt(0)],method:"transfer",abi:et.getERC20Abi(r),chainNamespace:g.CHAIN.EVM});return M.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:le("eip155")===z.ACCOUNT_TYPES.SMART_ACCOUNT,token:D.state.token?.symbol||"",amount:e.sendTokenAmount,network:s.state.activeCaipNetwork?.caipNetworkId||"",hash:o||""}}),D.resetSend(),{hash:o}}return{hash:void 0}},async sendSolanaToken(){if(!D.state.sendTokenAmount||!D.state.receiverAddress)throw new Error("An amount and receiver address are required");U.pushTransactionStack({onSuccess(){U.replace("Account")}});let e;D.state.token&&D.state.token.address!==G.SOLANA_NATIVE_TOKEN_ADDRESS&&(R.isCaipAddress(D.state.token.address)?e=R.getPlainAddress(D.state.token.address):e=D.state.token.address);let t=await w.sendTransaction({chainNamespace:"solana",tokenMint:e,to:D.state.receiverAddress,value:D.state.sendTokenAmount});t&&(L.hash=t),w._getClient()?.updateBalance("solana"),M.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:!1,token:D.state.token?.symbol||"",amount:D.state.sendTokenAmount,network:s.state.activeCaipNetwork?.caipNetworkId||"",hash:t||""}}),D.resetSend()},resetSend(){L.token=void 0,L.sendTokenAmount=void 0,L.receiverAddress=void 0,L.receiverProfileImageUrl=void 0,L.receiverProfileName=void 0,L.loading=!1,L.tokenBalances=[]}},D=X(Sn);var mt={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},ze={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},f=P({chains:wt(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{connectionControllerClient:void 0},isSwitchingNamespace:!1}),Mt={state:f,subscribe(e){return H(f,()=>{e(f)})},subscribeKey(e,t){return K(f,e,t)},subscribeAccountStateProp(e,t,n){let r=n||f.activeChain;return r?K(f.chains.get(r)?.accountState||{},e,t):()=>{}},subscribeChainProp(e,t,n){let r;return H(f.chains,()=>{let o=n||f.activeChain;if(o){let a=f.chains.get(o)?.[e];r!==a&&(r=a,t(a))}})},initialize(e,t,n){let{chainId:r,namespace:o}=m.getActiveNetworkProps(),a=t?.find(h=>h.id.toString()===r?.toString()),c=e.find(h=>h?.namespace===o)||e?.[0],u=e.map(h=>h.namespace).filter(h=>h!==void 0),C=O.state.enableEmbedded?new Set([...u]):new Set([...t?.map(h=>h.chainNamespace)??[]]);(e?.length===0||!c)&&(f.noAdapters=!0),f.noAdapters||(f.activeChain=c?.namespace,f.activeCaipNetwork=a,s.setChainNetworkData(c?.namespace,{caipNetwork:a}),f.activeChain&&he.set({activeChain:c?.namespace})),C.forEach(h=>{let k=t?.filter(Q=>Q.chainNamespace===h),se=m.getPreferredAccountTypes()||{},be={...O.state.defaultAccountTypes,...se};s.state.chains.set(h,{namespace:h,networkState:P({...ze,caipNetwork:k?.[0]}),accountState:P({...mt,preferredAccountType:be[h]}),caipNetworks:k??[],...n}),s.setRequestedCaipNetworks(k??[],h)})},removeAdapter(e){if(f.activeChain===e){let t=Array.from(f.chains.entries()).find(([n])=>n!==e);if(t){let n=t[1]?.caipNetworks?.[0];n&&s.setActiveCaipNetwork(n)}}f.chains.delete(e)},addAdapter(e,{connectionControllerClient:t},n){if(!e.namespace)throw new Error("ChainController:addAdapter - adapter must have a namespace");f.chains.set(e.namespace,{namespace:e.namespace,networkState:{...ze,caipNetwork:n[0]},accountState:{...mt},caipNetworks:n,connectionControllerClient:t}),s.setRequestedCaipNetworks(n?.filter(r=>r.chainNamespace===e.namespace)??[],e.namespace)},addNetwork(e){let t=f.chains.get(e.chainNamespace);if(t){let n=[...t.caipNetworks||[]];t.caipNetworks?.find(r=>r.id===e.id)||n.push(e),f.chains.set(e.chainNamespace,{...t,caipNetworks:n}),s.setRequestedCaipNetworks(n,e.chainNamespace),N.filterByNamespace(e.chainNamespace,!0)}},removeNetwork(e,t){let n=f.chains.get(e);if(n){let r=f.activeCaipNetwork?.id===t,o=[...n.caipNetworks?.filter(a=>a.id!==t)||[]];r&&n?.caipNetworks?.[0]&&s.setActiveCaipNetwork(n.caipNetworks[0]),f.chains.set(e,{...n,caipNetworks:o}),s.setRequestedCaipNetworks(o||[],e),o.length===0&&N.filterByNamespace(e,!1)}},setAdapterNetworkState(e,t){let n=f.chains.get(e);n&&(n.networkState={...n.networkState||ze,...t},f.chains.set(e,n))},setChainAccountData(e,t,n=!0){if(!e)throw new Error("Chain is required to update chain account data");let r=f.chains.get(e);if(r){let o={...r.accountState||mt,...t};f.chains.set(e,{...r,accountState:o}),(f.chains.size===1||f.activeChain===e)&&t.caipAddress&&(f.activeCaipAddress=t.caipAddress)}},setChainNetworkData(e,t){if(!e)return;let n=f.chains.get(e);if(n){let r={...n.networkState||ze,...t};f.chains.set(e,{...n,networkState:r})}},setAccountProp(e,t,n,r=!0){s.setChainAccountData(n,{[e]:t},r)},setActiveNamespace(e){f.activeChain=e;let t=e?f.chains.get(e):void 0,n=t?.networkState?.caipNetwork;n?.id&&e&&(f.activeCaipAddress=t?.accountState?.caipAddress,f.activeCaipNetwork=n,s.setChainNetworkData(e,{caipNetwork:n}),m.setActiveCaipNetworkId(n?.caipNetworkId),he.set({activeChain:e,selectedNetworkId:n?.caipNetworkId}))},setActiveCaipNetwork(e){if(!e)return;let t=f.activeChain===e.chainNamespace;t||s.setIsSwitchingNamespace(!0);let n=f.chains.get(e.chainNamespace);f.activeChain=e.chainNamespace,f.activeCaipNetwork=e,s.setChainNetworkData(e.chainNamespace,{caipNetwork:e});let r=n?.accountState?.address;if(r)f.activeCaipAddress=`${e.chainNamespace}:${e.id}:${r}`;else if(t&&f.activeCaipAddress){let{address:a}=te.parseCaipAddress(f.activeCaipAddress);r=a,f.activeCaipAddress=`${e.caipNetworkId}:${r}`}else f.activeCaipAddress=void 0;s.setChainAccountData(e.chainNamespace,{address:r,caipAddress:f.activeCaipAddress}),D.resetSend(),he.set({activeChain:f.activeChain,selectedNetworkId:f.activeCaipNetwork?.caipNetworkId}),m.setActiveCaipNetworkId(e.caipNetworkId),!s.checkIfSupportedNetwork(e.chainNamespace)&&O.state.enableNetworkSwitch&&!O.state.allowUnsupportedChain&&!w.state.wcBasic&&s.showUnsupportedChainUI()},addCaipNetwork(e){if(!e)return;let t=f.chains.get(e.chainNamespace);t&&t?.caipNetworks?.push(e)},async switchActiveNamespace(e){if(!e)return;let t=e!==s.state.activeChain,n=s.getNetworkData(e)?.caipNetwork,r=s.getCaipNetworkByNamespace(e,n?.id);t&&r&&await s.switchActiveNetwork(r)},async switchActiveNetwork(e,{throwOnFailure:t=!1}={}){let n=s.state.activeChain;if(!n)throw new Error("ChainController:switchActiveNetwork - namespace is required");let r=Dt.getProviderId(f.activeChain)==="AUTH",o=s.getAccountData(n)?.address,a=g.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e.chainNamespace);try{if(o&&e.chainNamespace===n||r&&a){let i=Pt.get(e.chainNamespace);if(!i)throw new Error("Adapter not found");await i.switchNetwork({caipNetwork:e})}s.setActiveCaipNetwork(e)}catch(i){if(t)throw i}M.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:e.caipNetworkId}})},getConnectionControllerClient(e){let t=e||f.activeChain;if(!t)throw new Error("Chain is required to get connection controller client");let n=f.chains.get(t);if(!n?.connectionControllerClient)throw new Error("ConnectionController client not set");return n.connectionControllerClient},getNetworkProp(e,t){let n=f.chains.get(t)?.networkState;if(n)return n[e]},getRequestedCaipNetworks(e){let t=f.chains.get(e),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=t?.networkState||{};return R.sortRequestedNetworks(n,r).filter(i=>i?.id)},getAllRequestedCaipNetworks(){let e=[];return f.chains.forEach(t=>{if(!t.namespace)throw new Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");let n=s.getRequestedCaipNetworks(t.namespace);e.push(...n)}),e},setRequestedCaipNetworks(e,t){s.setAdapterNetworkState(t,{requestedCaipNetworks:e});let r=s.getAllRequestedCaipNetworks().map(a=>a.chainNamespace),o=Array.from(new Set(r));N.filterByNamespaces(o)},getAllApprovedCaipNetworkIds(){let e=[];return f.chains.forEach(t=>{if(!t.namespace)throw new Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");let n=s.getApprovedCaipNetworkIds(t.namespace);e.push(...n)}),e},getActiveCaipNetwork(e){return e?f.chains.get(e)?.networkState?.caipNetwork:f.activeCaipNetwork},getActiveCaipAddress(){return f.activeCaipAddress},getApprovedCaipNetworkIds(e){return f.chains.get(e)?.networkState?.approvedCaipNetworkIds||[]},setApprovedCaipNetworksData(e,t){s.setAdapterNetworkState(e,t)},checkIfSupportedNetwork(e,t){let n=t||f.activeCaipNetwork?.caipNetworkId,r=s.getRequestedCaipNetworks(e);return r.length?r?.some(o=>o.caipNetworkId===n):!0},checkIfSupportedChainId(e){return f.activeChain?s.getRequestedCaipNetworks(f.activeChain)?.some(n=>n.id===e):!0},checkIfSmartAccountEnabled(){let e=Qe.caipNetworkIdToNumber(f.activeCaipNetwork?.caipNetworkId);return!f.activeChain||!e?!1:!!(Re.get(de.SMART_ACCOUNT_ENABLED_NETWORKS)?.split(",")||[])?.includes(e.toString())},showUnsupportedChainUI(){V.open({view:"UnsupportedChain"})},checkIfNamesSupported(){let e=f.activeCaipNetwork;return!!(e?.chainNamespace&&G.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(e.chainNamespace))},resetNetwork(e){s.setAdapterNetworkState(e,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(e){let t=e;if(!t)throw new Error("Chain is required to set account prop");let n=s.state.chains.get(t)?.accountState?.preferredAccountType,r=O.state.defaultAccountTypes[t];f.activeCaipAddress=void 0,s.setChainAccountData(t,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:r||n,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),N.removeConnectorId(t)},setIsSwitchingNamespace(e){f.isSwitchingNamespace=e},getFirstCaipNetworkSupportsAuthConnector(){let e=[],t;if(f.chains.forEach(n=>{g.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(r=>r===n.namespace)&&n.namespace&&e.push(n.namespace)}),e.length>0){let n=e[0];return t=n?f.chains.get(n)?.caipNetworks?.[0]:void 0,t}},getAccountData(e){let t=e||f.activeChain;if(t)return s.state.chains.get(t)?.accountState},getNetworkData(e){let t=e||f.activeChain;if(t)return s.state.chains.get(t)?.networkState},getCaipNetworkByNamespace(e,t){if(!e)return;let n=s.state.chains.get(e),r=n?.caipNetworks?.find(o=>o.id.toString()===t?.toString());return r||n?.networkState?.caipNetwork||n?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){let e=N.state.filterByNamespace;return(e?[f.chains.get(e)]:Array.from(f.chains.values())).flatMap(n=>n?.caipNetworks||[]).map(n=>n.caipNetworkId)},getCaipNetworks(e){return e?s.getRequestedCaipNetworks(e):s.getAllRequestedCaipNetworks()},getCaipNetworkById(e,t){return Mt.getCaipNetworks(t).find(n=>n.id.toString()===e.toString()||n.caipNetworkId.toString()===e.toString())},setLastConnectedSIWECaipNetwork(e){f.lastConnectedSIWECaipNetwork=e},getLastConnectedSIWECaipNetwork(){return f.lastConnectedSIWECaipNetwork},async fetchTokenBalance(e){let t=s.getAccountData();if(!t)return[];let n=s.state.activeCaipNetwork?.caipNetworkId,r=s.state.activeCaipNetwork?.chainNamespace,o=s.state.activeCaipAddress,a=o?R.getPlainAddress(o):void 0;if(s.setAccountProp("balanceLoading",!0,r),t.lastRetry&&!R.isAllowedRetry(t.lastRetry,30*G.ONE_SEC_MS))return s.setAccountProp("balanceLoading",!1,r),[];try{if(a&&n&&r){let i=await ke.getMyTokensWithBalance();return s.setAccountProp("tokenBalance",i,r),s.setAccountProp("lastRetry",void 0,r),s.setAccountProp("balanceLoading",!1,r),i}}catch(i){s.setAccountProp("lastRetry",Date.now(),r),e?.(i),_e.showError("Token Balance Unavailable")}finally{s.setAccountProp("balanceLoading",!1,r)}return[]},isCaipNetworkDisabled(e){let t=e.chainNamespace,n=!!s.getAccountData(t)?.caipAddress,r=s.getAllApprovedCaipNetworkIds(),o=s.getNetworkProp("supportsAllNetworks",t)!==!1,a=N.getConnectorId(t),i=N.getAuthConnector(),c=a===g.CONNECTOR_ID.AUTH&&i;return!n||o||c?!1:!r?.includes(e.caipNetworkId)}},s=X(Mt);var _n={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},Bt=R.getBlockchainApiUrl(),ae=P({clientId:null,api:new ue({baseUrl:Bt,clientId:null}),supportedChains:{http:[],ws:[]}}),v={state:ae,async get(e){let{st:t,sv:n}=v.getSdkProperties(),r=O.state.projectId,o={...e.params||{},st:t,sv:n,projectId:r};return ae.api.get({...e,params:o})},getSdkProperties(){let{sdkType:e,sdkVersion:t}=O.state;return{st:e||"unknown",sv:t||"unknown"}},async isNetworkSupported(e){if(!e)return!1;try{ae.supportedChains.http.length||await v.getSupportedNetworks()}catch{return!1}return ae.supportedChains.http.includes(e)},async getSupportedNetworks(){try{let e=await v.get({path:"v1/supported-chains"});return ae.supportedChains=e,e}catch{return ae.supportedChains}},async fetchIdentity({address:e}){let t=m.getIdentityFromCacheForAddress(e);if(t)return t;let n=await v.get({path:`/v1/identity/${e}`,params:{sender:s.state.activeCaipAddress?R.getPlainAddress(s.state.activeCaipAddress):void 0}});return m.updateIdentityCache({address:e,identity:n,timestamp:Date.now()}),n},async fetchTransactions({account:e,cursor:t,signal:n,cache:r,chainId:o}){if(!await v.isNetworkSupported(s.state.activeCaipNetwork?.caipNetworkId))return{data:[],next:void 0};let i=m.getTransactionsCacheForAddress({address:e,chainId:o});if(i)return i;let c=await v.get({path:`/v1/account/${e}/history`,params:{cursor:t,chainId:o},signal:n,cache:r});return m.updateTransactionsCache({address:e,chainId:o,timestamp:Date.now(),transactions:c}),c},async fetchSwapQuote({amount:e,userAddress:t,from:n,to:r,gasPrice:o}){return await v.isNetworkSupported(s.state.activeCaipNetwork?.caipNetworkId)?v.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:e,userAddress:t,from:n,to:r,gasPrice:o}}):{quotes:[]}},async fetchSwapTokens({chainId:e}){return await v.isNetworkSupported(s.state.activeCaipNetwork?.caipNetworkId)?v.get({path:"/v1/convert/tokens",params:{chainId:e}}):{tokens:[]}},async fetchTokenPrice({addresses:e}){if(!await v.isNetworkSupported(s.state.activeCaipNetwork?.caipNetworkId))return{fungibles:[]};let n=m.getTokenPriceCacheForAddresses(e);if(n)return n;let r=await ae.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:e,projectId:O.state.projectId},headers:{"Content-Type":"application/json"}});return m.updateTokenPriceCache({addresses:e,timestamp:Date.now(),tokenPrice:r}),r},async fetchSwapAllowance({tokenAddress:e,userAddress:t}){return await v.isNetworkSupported(s.state.activeCaipNetwork?.caipNetworkId)?v.get({path:"/v1/convert/allowance",params:{tokenAddress:e,userAddress:t},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:e}){let{st:t,sv:n}=v.getSdkProperties();if(!await v.isNetworkSupported(s.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Gas Price");return v.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:e,st:t,sv:n}})},async generateSwapCalldata({amount:e,from:t,to:n,userAddress:r,disableEstimate:o}){if(!await v.isNetworkSupported(s.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return ae.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:e,eip155:{slippage:G.CONVERT_SLIPPAGE_TOLERANCE},projectId:O.state.projectId,from:t,to:n,userAddress:r,disableEstimate:o}})},async generateApproveCalldata({from:e,to:t,userAddress:n}){let{st:r,sv:o}=v.getSdkProperties();if(!await v.isNetworkSupported(s.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return v.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:e,to:t,st:r,sv:o}})},async getBalance(e,t,n){let{st:r,sv:o}=v.getSdkProperties();if(!await v.isNetworkSupported(s.state.activeCaipNetwork?.caipNetworkId))return _e.showError("Token Balance Unavailable"),{balances:[]};let i=`${t}:${e}`,c=m.getBalanceCacheForCaipAddress(i);if(c)return c;let u=await v.get({path:`/v1/account/${e}/balance`,params:{currency:"usd",chainId:t,forceUpdate:n,st:r,sv:o}});return m.updateBalanceCache({caipAddress:i,balance:u,timestamp:Date.now()}),u},async lookupEnsName(e){return await v.isNetworkSupported(s.state.activeCaipNetwork?.caipNetworkId)?v.get({path:`/v1/profile/account/${e}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:e}){if(!await v.isNetworkSupported(s.state.activeCaipNetwork?.caipNetworkId))return[];let n=s.getAccountData()?.address;return v.get({path:`/v1/profile/reverse/${e}`,params:{sender:n,apiVersion:"2"}})},async getEnsNameSuggestions(e){return await v.isNetworkSupported(s.state.activeCaipNetwork?.caipNetworkId)?v.get({path:`/v1/profile/suggestions/${e}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:e,address:t,message:n,signature:r}){return await v.isNetworkSupported(s.state.activeCaipNetwork?.caipNetworkId)?ae.api.post({path:"/v1/profile/account",body:{coin_type:e,address:t,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:e,partnerUserId:t,defaultNetwork:n,purchaseAmount:r,paymentAmount:o}){return await v.isNetworkSupported(s.state.activeCaipNetwork?.caipNetworkId)?(await ae.api.post({path:"/v1/generators/onrampurl",params:{projectId:O.state.projectId},body:{destinationWallets:e,defaultNetwork:n,partnerUserId:t,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:o}})).url:""},async getOnrampOptions(){if(!await v.isNetworkSupported(s.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await v.get({path:"/v1/onramp/options"})}catch{return _n}},async getOnrampQuote({purchaseCurrency:e,paymentCurrency:t,amount:n,network:r}){try{return await v.isNetworkSupported(s.state.activeCaipNetwork?.caipNetworkId)?await ae.api.post({path:"/v1/onramp/quote",params:{projectId:O.state.projectId},body:{purchaseCurrency:e,paymentCurrency:t,amount:n,network:r}}):null}catch{return{networkFee:{amount:n,currency:t.id},paymentSubtotal:{amount:n,currency:t.id},paymentTotal:{amount:n,currency:t.id},purchaseAmount:{amount:n,currency:t.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(e){return await v.isNetworkSupported(s.state.activeCaipNetwork?.caipNetworkId)?v.get({path:`/v1/sessions/${e}`}):[]},async revokeSmartSession(e,t,n){return await v.isNetworkSupported(s.state.activeCaipNetwork?.caipNetworkId)?ae.api.post({path:`/v1/sessions/${e}/revoke`,params:{projectId:O.state.projectId},body:{pci:t,signature:n}}):{success:!1}},setClientId(e){ae.clientId=e,ae.api=new ue({baseUrl:Bt,clientId:e})}};export{g as a,Qe as b,Ze as c,te as d,pe as e,De as f,S as g,A as h,Ue as i,P as j,H as k,K as l,Lr as m,Mr as n,G as o,m as p,R as q,z as r,gt as s,O as t,_e as u,v,Ie as w,X as x,ne as y,yt as z,M as A,y as B,U as C,xe as D,N as E,je as F,le as G,sc as H,pt as I,w as J,ke as K,Pt as L,Dt as M,he as N,Lt as O,D as P,s as Q,V as R};
