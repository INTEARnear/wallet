import{a as Ye}from"./chunk-3LXE7Q4X.js";import{A as Qe,a as tt,b as _e,c as Fe,d as Be,e as Re,f as it,g as qe,h as Gt,i as Me,j as je,k as Ge,l as Oe,m as ze,n as He,o as De,p as Le,q as Ue,r as ee,s as Ve,t as Ke,u as Xe,v as zt,w as dt,x as Ht,z as Ze}from"./chunk-COAJKL54.js";import{A as Te,C as L,F as Pe,Fa as Rt,Ga as qt,Ha as Mt,Ia as jt,J as z,Ja as Ne,K as nt,Ka as st,Ma as Ot,Na as $e,O as Y,P as Ie,Q as te,Qa as We,Ra as Je,V as Se,W as _t,X as Ft,Xa as ft,Y as Ee,Z as ke,aa as Ae,ca as Bt,d as W,f as ye,l as be,la as Nt,m as Yt,n as It,o as St,p as Et,q as ve,qa as O,s as q,t as kt,v as Ce,va as ut,x as At}from"./chunk-OZZRRPYE.js";import{h as u,j as f,n as d}from"./chunk-KGCAX4NX.js";u();d();f();u();d();f();function F(t,r,e){let o=t[r.name];if(typeof o=="function")return o;let n=t[e];return typeof n=="function"?n:s=>r(t,s)}u();d();f();function tr(t,{method:r}){let e={};return t.transport.type==="fallback"&&t.transport.onResponse?.(({method:o,response:n,status:s,transport:a})=>{s==="success"&&r===o&&(e[n]=a.request)}),o=>e[o]||t.request}u();d();f();u();d();f();u();d();f();function er(t){let{chainId:r,nonce:e,to:o}=t,n=t.contractAddress??t.address,s=At(Pe(["0x05",Fe([r?q(r):"0x",n,e?q(e):"0x"])]));return o==="bytes"?Ce(s):s}async function Dt(t){let{authorization:r,signature:e}=t;return _e({hash:er(r),signature:e??r})}u();d();f();function rr(t,{docsPath:r,...e}){let o=(()=>{let n=qt(t,e);return n instanceof Rt?t:n})();return new Be(o,{docsPath:r,...e})}u();d();f();u();d();f();u();d();f();u();d();f();async function J(t,{blockHash:r,blockNumber:e,blockTag:o,includeTransactions:n}={}){let s=o??"latest",a=n??!1,m=e!==void 0?q(e):void 0,c=null;if(r?c=await t.request({method:"eth_getBlockByHash",params:[r,a]},{dedupe:!0}):c=await t.request({method:"eth_getBlockByNumber",params:[m||s,a]},{dedupe:!!m}),!c)throw new Gt({blockHash:r,blockNumber:e});return(t.chain?.formatters?.block?.format||je)(c)}u();d();f();async function Lt(t){let r=await t.request({method:"eth_gasPrice"});return BigInt(r)}async function or(t,r){let{block:e,chain:o=t.chain,request:n}=r||{};try{let s=o?.fees?.maxPriorityFeePerGas??o?.fees?.defaultPriorityFee;if(typeof s=="function"){let m=e||await F(t,J,"getBlock")({}),c=await s({block:m,client:t,request:n});if(c===null)throw new Error;return c}if(typeof s<"u")return s;let a=await t.request({method:"eth_maxPriorityFeePerGas"});return It(a)}catch{let[s,a]=await Promise.all([e?Promise.resolve(e):F(t,J,"getBlock")({}),F(t,Lt,"getGasPrice")({})]);if(typeof s.baseFeePerGas!="bigint")throw new it;let m=a-s.baseFeePerGas;return m<0n?0n:m}}async function re(t,r){let{block:e,chain:o=t.chain,request:n,type:s="eip1559"}=r||{},a=await(async()=>typeof o?.fees?.baseFeeMultiplier=="function"?o.fees.baseFeeMultiplier({block:e,client:t,request:n}):o?.fees?.baseFeeMultiplier??1.2)();if(a<1)throw new Re;let c=10**(a.toString().split(".")[1]?.length??0),i=p=>p*BigInt(Math.ceil(a*c))/BigInt(c),l=e||await F(t,J,"getBlock")({});if(typeof o?.fees?.estimateFeesPerGas=="function"){let p=await o.fees.estimateFeesPerGas({block:e,client:t,multiply:i,request:n,type:s});if(p!==null)return p}if(s==="eip1559"){if(typeof l.baseFeePerGas!="bigint")throw new it;let p=typeof n?.maxPriorityFeePerGas=="bigint"?n.maxPriorityFeePerGas:await or(t,{block:l,chain:o,request:n}),g=i(l.baseFeePerGas);return{maxFeePerGas:n?.maxFeePerGas??g+p,maxPriorityFeePerGas:p}}return{gasPrice:n?.gasPrice??i(await F(t,Lt,"getGasPrice")({}))}}u();d();f();async function nr(t,{address:r,blockTag:e="latest",blockNumber:o}){let n=await t.request({method:"eth_getTransactionCount",params:[r,typeof o=="bigint"?q(o):e]},{dedupe:!!o});return St(n)}u();d();f();async function Ut(t){let r=await t.request({method:"eth_chainId"},{dedupe:!0});return St(r)}var $t=["blobVersionedHashes","chainId","fees","gas","nonce","type"],sr=new Map;async function et(t,r){let{account:e=t.account,blobs:o,chain:n,gas:s,kzg:a,nonce:m,nonceManager:c,parameters:i=$t,type:l}=r,h=e&&z(e),p={...r,...h?{from:h?.address}:{}},g;async function P(){return g||(g=await F(t,J,"getBlock")({blockTag:"latest"}),g)}let T;async function E(){return T||(n?n.id:typeof r.chainId<"u"?r.chainId:(T=await F(t,Ut,"getChainId")({}),T))}if(i.includes("nonce")&&typeof m>"u"&&h)if(c){let I=await E();p.nonce=await c.consume({address:h.address,chainId:I,client:t})}else p.nonce=await F(t,nr,"getTransactionCount")({address:h.address,blockTag:"pending"});if((i.includes("blobVersionedHashes")||i.includes("sidecars"))&&o&&a){let I=Ge({blobs:o,kzg:a});if(i.includes("blobVersionedHashes")){let S=ze({commitments:I,to:"hex"});p.blobVersionedHashes=S}if(i.includes("sidecars")){let S=Oe({blobs:o,commitments:I,kzg:a}),k=He({blobs:o,commitments:I,proofs:S,to:"hex"});p.sidecars=k}}if(i.includes("chainId")&&(p.chainId=await E()),(i.includes("fees")||i.includes("type"))&&typeof l>"u")try{p.type=De(p)}catch{let I=sr.get(t.uid);typeof I>"u"&&(I=typeof(await P())?.baseFeePerGas=="bigint",sr.set(t.uid,I)),p.type=I?"eip1559":"legacy"}if(i.includes("fees"))if(p.type!=="legacy"&&p.type!=="eip2930"){if(typeof p.maxFeePerGas>"u"||typeof p.maxPriorityFeePerGas>"u"){let I=await P(),{maxFeePerGas:S,maxPriorityFeePerGas:k}=await re(t,{block:I,chain:n,request:p});if(typeof r.maxPriorityFeePerGas>"u"&&r.maxFeePerGas&&r.maxFeePerGas<k)throw new qe({maxPriorityFeePerGas:k});p.maxPriorityFeePerGas=k,p.maxFeePerGas=S}}else{if(typeof r.maxFeePerGas<"u"||typeof r.maxPriorityFeePerGas<"u")throw new it;if(typeof r.gasPrice>"u"){let I=await P(),{gasPrice:S}=await re(t,{block:I,chain:n,request:p,type:"legacy"});p.gasPrice=S}}return i.includes("gas")&&typeof s>"u"&&(p.gas=await F(t,mt,"estimateGas")({...p,account:h&&{address:h.address,type:"json-rpc"}})),st(p),delete p.parameters,p}u();d();f();async function lt(t,{address:r,blockNumber:e,blockTag:o="latest"}){let n=typeof e=="bigint"?q(e):void 0,s=await t.request({method:"eth_getBalance",params:[r,n||o]});return BigInt(s)}async function mt(t,r){let{account:e=t.account}=r,o=e?z(e):void 0;try{let R=function(j){let{block:D,request:V,rpcStateOverride:K}=j;return t.request({method:"eth_estimateGas",params:K?[V,D??"pending",K]:D?[V,D]:[V]})},{accessList:n,authorizationList:s,blobs:a,blobVersionedHashes:m,blockNumber:c,blockTag:i,data:l,gas:h,gasPrice:p,maxFeePerBlobGas:g,maxFeePerGas:P,maxPriorityFeePerGas:T,nonce:E,value:I,stateOverride:S,...k}=await et(t,{...r,parameters:o?.type==="local"?void 0:["blobVersionedHashes"]}),w=(typeof c=="bigint"?q(c):void 0)||i,x=Ne(S),C=await(async()=>{if(k.to)return k.to;if(s&&s.length>0)return await Dt({authorization:s[0]}).catch(()=>{throw new W("`to` is required. Could not infer from `authorizationList`")})})();st(r);let _=t.chain?.formatters?.transactionRequest?.format,N=(_||jt)({...Mt(k,{format:_}),from:o?.address,accessList:n,authorizationList:s,blobs:a,blobVersionedHashes:m,data:l,gas:h,gasPrice:p,maxFeePerBlobGas:g,maxFeePerGas:P,maxPriorityFeePerGas:T,nonce:E,to:C,value:I}),G=BigInt(await R({block:w,request:N,rpcStateOverride:x}));if(s){let j=await lt(t,{address:N.from}),D=await Promise.all(s.map(async V=>{let{address:K}=V,jr=await R({block:w,request:{authorizationList:void 0,data:l,from:o?.address,to:K,value:q(j)},rpcStateOverride:x}).catch(()=>100000n);return 2n*BigInt(jr)}));G+=D.reduce((V,K)=>V+K,0n)}return G}catch(n){throw rr(n,{...r,account:o,chain:t.chain})}}u();d();f();async function pt(t,r){let{abi:e,address:o,args:n,functionName:s,...a}=r,m=nt({abi:e,args:n,functionName:s});try{let{data:c}=await F(t,ft,"call")({...a,data:m,to:o});return Ot({abi:e,args:n,functionName:s,data:c||"0x"})}catch(c){throw tt(c,{abi:e,address:o,args:n,docsPath:"/docs/contract/readContract",functionName:s})}}u();d();f();var oe=new Map,ir=new Map,Gr=0;function rt(t,r,e){let o=++Gr,n=()=>oe.get(t)||[],s=()=>{let l=n();oe.set(t,l.filter(h=>h.id!==o))},a=()=>{let l=n();if(!l.some(p=>p.id===o))return;let h=ir.get(t);l.length===1&&h&&h(),s()},m=n();if(oe.set(t,[...m,{id:o,fns:r}]),m&&m.length>0)return a;let c={};for(let l in r)c[l]=(...h)=>{let p=n();if(p.length!==0)for(let g of p)g.fns[l]?.(...h)};let i=e(c);return typeof i=="function"&&ir.set(t,i),a}u();d();f();function Wt(t,{emitOnBegin:r,initialWaitTime:e,interval:o}){let n=!0,s=()=>n=!1;return(async()=>{let m;r&&(m=await t({unpoll:s}));let c=await e?.(m)??o;await ee(c);let i=async()=>{n&&(await t({unpoll:s}),await ee(o),i())};i()})(),s}u();d();f();var Or=t=>`blockNumber.${t}`;async function ar(t,{cacheTime:r=t.cacheTime}={}){let e=await Ve(()=>t.request({method:"eth_blockNumber"}),{cacheKey:Or(t.uid),cacheTime:r});return BigInt(e)}u();d();f();async function cr(t,{filter:r}){let e="strict"in r&&r.strict,o=await r.request({method:"eth_getFilterChanges",params:[r.id]});if(typeof o[0]=="string")return o;let n=o.map(s=>Ue(s));return!("abi"in r)||!r.abi?n:Le({abi:r.abi,logs:n,strict:e})}u();d();f();async function ur(t,{filter:r}){return r.request({method:"eth_uninstallFilter",params:[r.id]})}u();d();f();u();d();f();var X=class extends W{constructor({docsPath:r}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:r,docsSlug:"account",name:"AccountNotFoundError"})}},at=class extends W{constructor({docsPath:r,metaMessages:e,type:o}){super(`Account type "${o}" is not supported.`,{docsPath:r,metaMessages:e,name:"AccountTypeNotSupportedError"})}};u();d();f();u();d();f();function fr(t,{docsPath:r,...e}){let o=(()=>{let n=qt(t,e);return n instanceof Rt?t:n})();return new Se(o,{docsPath:r,...e})}u();d();f();async function dr(t,{serializedTransaction:r}){return t.request({method:"eth_sendRawTransaction",params:[r]},{retryCount:0})}var ne=new Te(128);async function ht(t,r){let{account:e=t.account,chain:o=t.chain,accessList:n,authorizationList:s,blobs:a,data:m,gas:c,gasPrice:i,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:g,type:P,value:T,...E}=r;if(typeof e>"u")throw new X({docsPath:"/docs/actions/wallet/sendTransaction"});let I=e?z(e):null;try{st(r);let S=await(async()=>{if(r.to)return r.to;if(r.to!==null&&s&&s.length>0)return await Dt({authorization:s[0]}).catch(()=>{throw new W("`to` is required. Could not infer from `authorizationList`.")})})();if(I?.type==="json-rpc"||I===null){let k;o!==null&&(k=await F(t,Ut,"getChainId")({}),Ke({currentChainId:k,chain:o}));let B=t.chain?.formatters?.transactionRequest?.format,x=(B||jt)({...Mt(E,{format:B}),accessList:n,authorizationList:s,blobs:a,chainId:k,data:m,from:I?.address,gas:c,gasPrice:i,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:g,to:S,type:P,value:T}),C=ne.get(t.uid),_=C?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:_,params:[x]},{retryCount:0})}catch(A){if(C===!1)throw A;let N=A;if(N.name==="InvalidInputRpcError"||N.name==="InvalidParamsRpcError"||N.name==="MethodNotFoundRpcError"||N.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[x]},{retryCount:0}).then(R=>(ne.set(t.uid,!0),R)).catch(R=>{let G=R;throw G.name==="MethodNotFoundRpcError"||G.name==="MethodNotSupportedRpcError"?(ne.set(t.uid,!1),N):G});throw N}}if(I?.type==="local"){let k=await F(t,et,"prepareTransactionRequest")({account:I,accessList:n,authorizationList:s,blobs:a,chain:o,data:m,gas:c,gasPrice:i,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:g,nonceManager:I.nonceManager,parameters:[...$t,"sidecars"],type:P,value:T,...E,to:S}),B=o?.serializers?.transaction,w=await I.signTransaction(k,{serializer:B});return await F(t,dr,"sendRawTransaction")({serializedTransaction:w})}throw I?.type==="smart"?new at({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new at({docsPath:"/docs/actions/wallet/sendTransaction",type:I?.type})}catch(S){throw S instanceof at?S:fr(S,{...r,account:I,chain:r.chain||void 0})}}async function se(t,r){let{abi:e,account:o=t.account,address:n,args:s,dataSuffix:a,functionName:m,...c}=r;if(typeof o>"u")throw new X({docsPath:"/docs/contract/writeContract"});let i=o?z(o):null,l=nt({abi:e,args:s,functionName:m});try{return await F(t,ht,"sendTransaction")({data:`${l}${a?a.replace("0x",""):""}`,to:n,account:i,...c})}catch(h){throw tt(h,{abi:e,address:n,args:s,docsPath:"/docs/contract/writeContract",functionName:m,sender:i?.address})}}u();d();f();async function mr(t){let r=tr(t,{method:"eth_newPendingTransactionFilter"}),e=await t.request({method:"eth_newPendingTransactionFilter"});return{id:e,request:r(e),type:"transaction"}}u();d();f();u();d();f();function zr(t,{body:r,onError:e,onResponse:o}){return t.request({body:r,onError:e,onResponse:o}),t}async function Hr(t,{body:r,timeout:e=1e4}){return t.requestAsync({body:r,timeout:e})}var gt={http(t,r){return Qe(t).request(r)},webSocket:zr,webSocketAsync:Hr};u();d();f();async function wt(t,{blockHash:r,blockNumber:e,blockTag:o,hash:n,index:s}){let a=o||"latest",m=e!==void 0?q(e):void 0,c=null;if(n?c=await t.request({method:"eth_getTransactionByHash",params:[n]},{dedupe:!0}):r?c=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[r,q(s)]},{dedupe:!0}):(m||a)&&(c=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[m||a,q(s)]},{dedupe:!!m})),!c)throw new _t({blockHash:r,blockNumber:e,blockTag:a,hash:n,index:s});return(t.chain?.formatters?.transaction?.format||Me)(c)}u();d();f();async function ie(t,{hash:r}){let e=await t.request({method:"eth_getTransactionReceipt",params:[r]},{dedupe:!0});if(!e)throw new Ft({hash:r});return(t.chain?.formatters?.transactionReceipt?.format||Xe)(e)}u();d();f();async function ae(t,r){let{account:e,allowFailure:o=!0,batchSize:n,blockNumber:s,blockTag:a,multicallAddress:m,stateOverride:c}=r,i=r.contracts,l=n??(typeof t.batch?.multicall=="object"&&t.batch.multicall.batchSize||1024),h=m;if(!h){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");h=We({blockNumber:s,chain:t.chain,contract:"multicall3"})}let p=[[]],g=0,P=0;for(let I=0;I<i.length;I++){let{abi:S,address:k,args:B,functionName:w}=i[I];try{let x=nt({abi:S,args:B,functionName:w});P+=(x.length-2)/2,l>0&&P>l&&p[g].length>0&&(g++,P=(x.length-2)/2,p[g]=[]),p[g]=[...p[g],{allowFailure:!0,callData:x,target:k}]}catch(x){let C=tt(x,{abi:S,address:k,args:B,docsPath:"/docs/contract/multicall",functionName:w,sender:e});if(!o)throw C;p[g]=[...p[g],{allowFailure:!0,callData:"0x",target:k}]}}let T=await Promise.allSettled(p.map(I=>F(t,pt,"readContract")({abi:$e,account:e,address:h,args:[I],blockNumber:s,blockTag:a,functionName:"aggregate3",stateOverride:c}))),E=[];for(let I=0;I<T.length;I++){let S=T[I];if(S.status==="rejected"){if(!o)throw S.reason;for(let B=0;B<p[I].length;B++)E.push({status:"failure",error:S.reason,result:void 0});continue}let k=S.value;for(let B=0;B<k.length;B++){let{returnData:w,success:x}=k[B],{callData:C}=p[I][B],{abi:_,address:A,functionName:N,args:R}=i[E.length];try{if(C==="0x")throw new ye;if(!x)throw new Ae({data:w});let G=Ot({abi:_,args:R,data:w,functionName:N});E.push(o?{result:G,status:"success"}:G)}catch(G){let j=tt(G,{abi:_,address:A,args:R,docsPath:"/docs/contract/multicall",functionName:N});if(!o)throw j;E.push({error:j,result:void 0,status:"failure"})}}}if(E.length!==i.length)throw new W("multicall results mismatch");return E}u();d();f();u();d();f();function lr(t,{emitOnBegin:r=!1,emitMissed:e=!1,onBlockNumber:o,onError:n,poll:s,pollingInterval:a=t.pollingInterval}){let m=typeof s<"u"?s:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"),c;return m?(()=>{let h=Y(["watchBlockNumber",t.uid,r,e,a]);return rt(h,{onBlockNumber:o,onError:n},p=>Wt(async()=>{try{let g=await F(t,ar,"getBlockNumber")({cacheTime:0});if(c){if(g===c)return;if(g-c>1&&e)for(let P=c+1n;P<g;P++)p.onBlockNumber(P,c),c=P}(!c||g>c)&&(p.onBlockNumber(g,c),c=g)}catch(g){p.onError?.(g)}},{emitOnBegin:r,interval:a}))})():(()=>{let h=Y(["watchBlockNumber",t.uid,r,e]);return rt(h,{onBlockNumber:o,onError:n},p=>{let g=!0,P=()=>g=!1;return(async()=>{try{let T=(()=>{if(t.transport.type==="fallback"){let I=t.transport.transports.find(S=>S.config.type==="webSocket");return I?I.value:t.transport}return t.transport})(),{unsubscribe:E}=await T.subscribe({params:["newHeads"],onData(I){if(!g)return;let S=It(I.result?.number);p.onBlockNumber(S,c),c=S},onError(I){p.onError?.(I)}});P=E,g||P()}catch(T){n?.(T)}})(),()=>P()})})()}async function ce(t,{confirmations:r=1,hash:e,onReplaced:o,pollingInterval:n=t.pollingInterval,retryCount:s=6,retryDelay:a=({count:c})=>~~(1<<c)*200,timeout:m=18e4}){let c=Y(["waitForTransactionReceipt",t.uid,e]),i,l,h,p=!1,g,P,{promise:T,resolve:E,reject:I}=Je(),S=m?setTimeout(()=>{P(),g(),I(new Ee({hash:e}))},m):void 0;return g=rt(c,{onReplaced:o,resolve:E,reject:I},k=>{P=F(t,lr,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:n,async onBlockNumber(B){let w=C=>{clearTimeout(S),P(),C(),g()},x=B;if(!p)try{if(h){if(r>1&&(!h.blockNumber||x-h.blockNumber+1n<r))return;w(()=>k.resolve(h));return}if(i||(p=!0,await dt(async()=>{i=await F(t,wt,"getTransaction")({hash:e}),i.blockNumber&&(x=i.blockNumber)},{delay:a,retryCount:s}),p=!1),h=await F(t,ie,"getTransactionReceipt")({hash:e}),r>1&&(!h.blockNumber||x-h.blockNumber+1n<r))return;w(()=>k.resolve(h))}catch(C){if(C instanceof _t||C instanceof Ft){if(!i){p=!1;return}try{l=i,p=!0;let _=await dt(()=>F(t,J,"getBlock")({blockNumber:x,includeTransactions:!0}),{delay:a,retryCount:s,shouldRetry:({error:R})=>R instanceof Gt});p=!1;let A=_.transactions.find(({from:R,nonce:G})=>R===l.from&&G===l.nonce);if(!A||(h=await F(t,ie,"getTransactionReceipt")({hash:A.hash}),r>1&&(!h.blockNumber||x-h.blockNumber+1n<r)))return;let N="replaced";A.to===l.to&&A.value===l.value&&A.input===l.input?N="repriced":A.from===A.to&&A.value===0n&&(N="cancelled"),w(()=>{k.onReplaced?.({reason:N,replacedTransaction:l,transaction:A,transactionReceipt:h}),k.resolve(h)})}catch(_){w(()=>k.reject(_))}}else w(()=>k.reject(C))}}})}),T}u();d();f();function ue(t,{batch:r=!0,onError:e,onTransactions:o,poll:n,pollingInterval:s=t.pollingInterval}){return(typeof n<"u"?n:t.transport.type!=="webSocket")?(()=>{let i=Y(["watchPendingTransactions",t.uid,r,s]);return rt(i,{onTransactions:o,onError:e},l=>{let h,p=Wt(async()=>{try{if(!h)try{h=await F(t,mr,"createPendingTransactionFilter")({});return}catch(P){throw p(),P}let g=await F(t,cr,"getFilterChanges")({filter:h});if(g.length===0)return;if(r)l.onTransactions(g);else for(let P of g)l.onTransactions([P])}catch(g){l.onError?.(g)}},{emitOnBegin:!0,interval:s});return async()=>{h&&await F(t,ur,"uninstallFilter")({filter:h}),p()}})})():(()=>{let i=!0,l=()=>i=!1;return(async()=>{try{let{unsubscribe:h}=await t.transport.subscribe({params:["newPendingTransactions"],onData(p){if(!i)return;let g=p.result;o([g])},onError(p){e?.(p)}});l=h,i||l()}catch(h){e?.(h)}})(),()=>l()})()}u();d();f();async function fe(t,{account:r=t.account,message:e}){if(!r)throw new X({docsPath:"/docs/actions/wallet/signMessage"});let o=z(r);if(o.signMessage)return o.signMessage({message:e});let n=typeof e=="string"?kt(e):e.raw instanceof Uint8Array?ve(e.raw):e.raw;return t.request({method:"personal_sign",params:[n,o.address]},{retryCount:0})}u();d();f();u();d();f();u();d();f();u();d();f();var ct="2.17.2";var pr=()=>`@wagmi/core@${ct}`;var hr=function(t,r,e,o){if(e==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?t!==r||!o:!r.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?o:e==="a"?o.call(t):o?o.value:r.get(t)},Jt,gr,H=class t extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return pr()}constructor(r,e={}){super(),Jt.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});let o=e.cause instanceof t?e.cause.details:e.cause?.message?e.cause.message:e.details,n=e.cause instanceof t&&e.cause.docsPath||e.docsPath;this.message=[r||"An error occurred.","",...e.metaMessages?[...e.metaMessages,""]:[],...n?[`Docs: ${this.docsBaseUrl}${n}.html${e.docsSlug?`#${e.docsSlug}`:""}`]:[],...o?[`Details: ${o}`]:[],`Version: ${this.version}`].join(`
`),e.cause&&(this.cause=e.cause),this.details=o,this.docsPath=n,this.metaMessages=e.metaMessages,this.shortMessage=r}walk(r){return hr(this,Jt,"m",gr).call(this,this,r)}};Jt=new WeakSet,gr=function t(r,e){return e?.(r)?r:r.cause?hr(this,Jt,"m",t).call(this,r.cause,e):r};var U=class extends H{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}},xt=class extends H{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}},ot=class extends H{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}};var yt=class extends H{constructor({address:r,connector:e}){super(`Account "${r}" not found for connector "${e.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}},bt=class extends H{constructor({connectionChainId:r,connectorChainId:e}){super(`The current chain of the connector (id: ${e}) does not match the connection's chain (id: ${r}).`,{metaMessages:[`Current Chain ID:  ${e}`,`Expected Chain ID: ${r}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}},vt=class extends H{constructor({connector:r}){super(`Connector "${r.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}};u();d();f();var $=class extends H{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}},Ct=class extends H{constructor({connector:r}){super(`"${r.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}};Tt.type="injected";function Tt(t={}){let{shimDisconnect:r=!0,unstable_shimAsyncInject:e}=t;function o(){let c=t.target;if(typeof c=="function"){let i=c();if(i)return i}return typeof c=="object"?c:typeof c=="string"?{...Dr[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(i){return i?.ethereum}}}let n,s,a,m;return c=>({get icon(){return o().icon},get id(){return o().id},get name(){return o().name},get supportsSimulation(){return!0},type:Tt.type,async setup(){let i=await this.getProvider();i?.on&&t.target&&(a||(a=this.onConnect.bind(this),i.on("connect",a)),n||(n=this.onAccountsChanged.bind(this),i.on("accountsChanged",n)))},async connect({chainId:i,isReconnecting:l}={}){let h=await this.getProvider();if(!h)throw new $;let p=[];if(l)p=await this.getAccounts().catch(()=>[]);else if(r)try{p=(await h.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0]?.caveats?.[0]?.value?.map(P=>L(P)),p.length>0&&(p=await this.getAccounts())}catch(g){let P=g;if(P.code===O.code)throw new O(P);if(P.code===Nt.code)throw P}try{!p?.length&&!l&&(p=(await h.request({method:"eth_requestAccounts"})).map(T=>L(T))),a&&(h.removeListener("connect",a),a=void 0),n||(n=this.onAccountsChanged.bind(this),h.on("accountsChanged",n)),s||(s=this.onChainChanged.bind(this),h.on("chainChanged",s)),m||(m=this.onDisconnect.bind(this),h.on("disconnect",m));let g=await this.getChainId();return i&&g!==i&&(g=(await this.switchChain({chainId:i}).catch(T=>{if(T.code===O.code)throw T;return{id:g}}))?.id??g),r&&await c.storage?.removeItem(`${this.id}.disconnected`),t.target||await c.storage?.setItem("injected.connected",!0),{accounts:p,chainId:g}}catch(g){let P=g;throw P.code===O.code?new O(P):P.code===Nt.code?new Nt(P):P}},async disconnect(){let i=await this.getProvider();if(!i)throw new $;s&&(i.removeListener("chainChanged",s),s=void 0),m&&(i.removeListener("disconnect",m),m=void 0),a||(a=this.onConnect.bind(this),i.on("connect",a));try{await Ze(()=>i.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}r&&await c.storage?.setItem(`${this.id}.disconnected`,!0),t.target||await c.storage?.removeItem("injected.connected")},async getAccounts(){let i=await this.getProvider();if(!i)throw new $;return(await i.request({method:"eth_accounts"})).map(h=>L(h))},async getChainId(){let i=await this.getProvider();if(!i)throw new $;let l=await i.request({method:"eth_chainId"});return Number(l)},async getProvider(){if(typeof window>"u")return;let i,l=o();return typeof l.provider=="function"?i=l.provider(window):typeof l.provider=="string"?i=Vt(window,l.provider):i=l.provider,i&&!i.removeListener&&("off"in i&&typeof i.off=="function"?i.removeListener=i.off:i.removeListener=()=>{}),i},async isAuthorized(){try{if(r&&await c.storage?.getItem(`${this.id}.disconnected`)||!t.target&&!await c.storage?.getItem("injected.connected"))return!1;if(!await this.getProvider()){if(e!==void 0&&e!==!1){let p=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",p),!!await this.getProvider()),g=typeof e=="number"?e:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(T=>window.addEventListener("ethereum#initialized",()=>T(p()),{once:!0}))]:[],new Promise(T=>setTimeout(()=>T(p()),g))]))return!0}throw new $}return!!(await dt(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:i,chainId:l}){let h=await this.getProvider();if(!h)throw new $;let p=c.chains.find(P=>P.id===l);if(!p)throw new ut(new U);let g=new Promise(P=>{let T=E=>{"chainId"in E&&E.chainId===l&&(c.emitter.off("change",T),P())};c.emitter.on("change",T)});try{return await Promise.all([h.request({method:"wallet_switchEthereumChain",params:[{chainId:q(l)}]}).then(async()=>{await this.getChainId()===l&&c.emitter.emit("change",{chainId:l})}),g]),p}catch(P){let T=P;if(T.code===4902||T?.data?.originalError?.code===4902)try{let{default:E,...I}=p.blockExplorers??{},S;i?.blockExplorerUrls?S=i.blockExplorerUrls:E&&(S=[E.url,...Object.values(I).map(w=>w.url)]);let k;i?.rpcUrls?.length?k=i.rpcUrls:k=[p.rpcUrls.default?.http[0]??""];let B={blockExplorerUrls:S,chainId:q(l),chainName:i?.chainName??p.name,iconUrls:i?.iconUrls,nativeCurrency:i?.nativeCurrency??p.nativeCurrency,rpcUrls:k};return await Promise.all([h.request({method:"wallet_addEthereumChain",params:[B]}).then(async()=>{if(await this.getChainId()===l)c.emitter.emit("change",{chainId:l});else throw new O(new Error("User rejected switch after adding network."))}),g]),p}catch(E){throw new O(E)}throw T.code===O.code?new O(T):new ut(T)}},async onAccountsChanged(i){if(i.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){let l=(await this.getChainId()).toString();this.onConnect({chainId:l}),r&&await c.storage?.removeItem(`${this.id}.disconnected`)}else c.emitter.emit("change",{accounts:i.map(l=>L(l))})},onChainChanged(i){let l=Number(i);c.emitter.emit("change",{chainId:l})},async onConnect(i){let l=await this.getAccounts();if(l.length===0)return;let h=Number(i.chainId);c.emitter.emit("connect",{accounts:l,chainId:h});let p=await this.getProvider();p&&(a&&(p.removeListener("connect",a),a=void 0),n||(n=this.onAccountsChanged.bind(this),p.on("accountsChanged",n)),s||(s=this.onChainChanged.bind(this),p.on("chainChanged",s)),m||(m=this.onDisconnect.bind(this),p.on("disconnect",m)))},async onDisconnect(i){let l=await this.getProvider();i&&i.code===1013&&l&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),l&&(s&&(l.removeListener("chainChanged",s),s=void 0),m&&(l.removeListener("disconnect",m),m=void 0),a||(a=this.onConnect.bind(this),l.on("connect",a))))}})}var Dr={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t?.coinbaseWalletExtension?t.coinbaseWalletExtension:Vt(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return Vt(t,r=>{if(!r.isMetaMask||r.isBraveWallet&&!r._events&&!r._state)return!1;let e=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(let o of e)if(r[o])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){return t?.phantom?.ethereum?t.phantom?.ethereum:Vt(t,"isPhantom")}}};function Vt(t,r){function e(n){return typeof r=="function"?r(n):typeof r=="string"?n[r]:!0}let o=t.ethereum;if(o?.providers)return o.providers.find(n=>e(n));if(o&&e(o))return o}u();d();f();de.type="mock";function de(t){let r=new Map,e=t.features??{defaultConnected:!1},o=e.defaultConnected,n;return s=>({id:"mock",name:"Mock Connector",type:de.type,async setup(){n=s.chains[0].id},async connect({chainId:a}={}){if(e.connectError)throw typeof e.connectError=="boolean"?new O(new Error("Failed to connect.")):e.connectError;let c=await(await this.getProvider()).request({method:"eth_requestAccounts"}),i=await this.getChainId();return a&&i!==a&&(i=(await this.switchChain({chainId:a})).id),o=!0,{accounts:c.map(l=>L(l)),chainId:i}},async disconnect(){o=!1},async getAccounts(){if(!o)throw new ot;return(await(await this.getProvider()).request({method:"eth_accounts"})).map(c=>L(c))},async getChainId(){let m=await(await this.getProvider()).request({method:"eth_chainId"});return Yt(m,"number")},async isAuthorized(){return!e.reconnect||!o?!1:!!(await this.getAccounts()).length},async switchChain({chainId:a}){let m=await this.getProvider(),c=s.chains.find(i=>i.id===a);if(!c)throw new ut(new U);return await m.request({method:"wallet_switchEthereumChain",params:[{chainId:q(a)}]}),c},onAccountsChanged(a){a.length===0?this.onDisconnect():s.emitter.emit("change",{accounts:a.map(m=>L(m))})},onChainChanged(a){let m=Number(a);s.emitter.emit("change",{chainId:m})},async onDisconnect(a){s.emitter.emit("disconnect"),o=!1},async getProvider({chainId:a}={}){let c=(s.chains.find(l=>l.id===a)??s.chains[0]).rpcUrls.default.http[0];return Ht({request:async({method:l,params:h})=>{if(l==="eth_chainId")return q(n);if(l==="eth_requestAccounts")return t.accounts;if(l==="eth_signTypedData_v4"&&e.signTypedDataError)throw typeof e.signTypedDataError=="boolean"?new O(new Error("Failed to sign typed data.")):e.signTypedDataError;if(l==="wallet_switchEthereumChain"){if(e.switchChainError)throw typeof e.switchChainError=="boolean"?new O(new Error("Failed to switch chain.")):e.switchChainError;n=Yt(h[0].chainId,"number"),this.onChainChanged(n.toString());return}if(l==="wallet_watchAsset"){if(e.watchAssetError)throw typeof e.watchAssetError=="boolean"?new O(new Error("Failed to switch chain.")):e.watchAssetError;return o}if(l==="wallet_getCapabilities")return{"0x2105":{paymasterService:{supported:h[0]==="0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266"},sessionKeys:{supported:!0}},"0x14A34":{paymasterService:{supported:h[0]==="0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266"}}};if(l==="wallet_sendCalls"){let T=[],E=h[0].calls;for(let S of E){let{result:k,error:B}=await gt.http(c,{body:{method:"eth_sendTransaction",params:[S]}});if(B)throw new Bt({body:{method:l,params:h},error:B,url:c});T.push(k)}let I=At(kt(JSON.stringify(E)));return r.set(I,T),{id:I}}if(l==="wallet_getCallsStatus"){let T=r.get(h[0]);if(!T)return{atomic:!1,chainId:"0x1",id:h[0],status:100,receipts:[],version:"2.0.0"};let I=(await Promise.all(T.map(async S=>{let{result:k,error:B}=await gt.http(c,{body:{method:"eth_getTransactionReceipt",params:[S],id:0}});if(B)throw new Bt({body:{method:l,params:h},error:B,url:c});return k?{blockHash:k.blockHash,blockNumber:k.blockNumber,gasUsed:k.gasUsed,logs:k.logs,status:k.status,transactionHash:k.transactionHash}:null}))).filter(S=>S!==null);return I.length===0?{atomic:!1,chainId:"0x1",id:h[0],status:100,receipts:[],version:"2.0.0"}:{atomic:!1,chainId:"0x1",id:h[0],status:200,receipts:I,version:"2.0.0"}}if(l==="wallet_showCallsStatus")return;if(l==="personal_sign"){if(e.signMessageError)throw typeof e.signMessageError=="boolean"?new O(new Error("Failed to sign message.")):e.signMessageError;l="eth_sign",h=[h[1],h[0]]}let p={method:l,params:h},{error:g,result:P}=await gt.http(c,{body:p});if(g)throw new Bt({body:p,error:g,url:c});return P}})({retryCount:0})}})}u();d();f();u();d();f();u();d();f();function M(t,r,e){let o=t[r.name];if(typeof o=="function")return o;let n=t[e];return typeof n=="function"?n:s=>r(t,s)}u();d();f();async function Lr(t,r){let e;if(typeof r.connector=="function"?e=t._internal.connectors.setup(r.connector):e=r.connector,e.uid===t.state.current)throw new xt;try{t.setState(m=>({...m,status:"connecting"})),e.emitter.emit("message",{type:"connecting"});let{connector:o,...n}=r,s=await e.connect(n),a=s.accounts;return e.emitter.off("connect",t._internal.events.connect),e.emitter.on("change",t._internal.events.change),e.emitter.on("disconnect",t._internal.events.disconnect),await t.storage?.setItem("recentConnectorId",e.id),t.setState(m=>({...m,connections:new Map(m.connections).set(e.uid,{accounts:a,chainId:s.chainId,connector:e}),current:e.uid,status:"connected"})),{accounts:a,chainId:s.chainId}}catch(o){throw t.setState(n=>({...n,status:n.current?"connected":"disconnected"})),o}}u();d();f();async function Z(t,r={}){let e;if(r.connector){let{connector:i}=r;if(t.state.status==="reconnecting"&&!i.getAccounts&&!i.getChainId)throw new vt({connector:i});let[l,h]=await Promise.all([i.getAccounts().catch(p=>{if(r.account===null)return[];throw p}),i.getChainId()]);e={accounts:l,chainId:h,connector:i}}else e=t.state.connections.get(t.state.current);if(!e)throw new ot;let o=r.chainId??e.chainId,n=await e.connector.getChainId();if(n!==e.chainId)throw new bt({connectionChainId:e.chainId,connectorChainId:n});let s=e.connector;if(s.getClient)return s.getClient({chainId:o});let a=z(r.account??e.accounts[0]);if(a&&(a.address=L(a.address)),r.account&&!e.accounts.some(i=>i.toLowerCase()===a.address.toLowerCase()))throw new yt({address:a.address,connector:s});let m=t.chains.find(i=>i.id===o),c=await e.connector.getProvider({chainId:o});return zt({account:a,chain:m,name:"Connector Client",transport:i=>Ht(c)({...i,retryCount:0})})}u();d();f();async function Ur(t,r={}){let e;if(r.connector)e=r.connector;else{let{connections:n,current:s}=t.state;e=n.get(s)?.connector}let o=t.state.connections;e&&(await e.disconnect(),e.emitter.off("change",t._internal.events.change),e.emitter.off("disconnect",t._internal.events.disconnect),e.emitter.on("connect",t._internal.events.connect),o.delete(e.uid)),t.setState(n=>{if(o.size===0)return{...n,connections:new Map,current:null,status:"disconnected"};let s=o.values().next().value;return{...n,connections:new Map(o),current:s.connector.uid}});{let n=t.state.current;if(!n)return;let s=t.state.connections.get(n)?.connector;if(!s)return;await t.storage?.setItem("recentConnectorId",s.id)}}u();d();f();async function $r(t,r){let{chainId:e,connector:o,...n}=r,s;r.account?s=r.account:s=(await Z(t,{account:r.account,chainId:e,connector:o})).account;let a=t.getClient({chainId:e});return M(a,mt,"estimateGas")({...n,account:s})}u();d();f();function me(t){return typeof t=="number"?t:t==="wei"?0:Math.abs(Ie[t])}u();d();f();function Pt(t){let r=t.state.current,e=t.state.connections.get(r),o=e?.accounts,n=o?.[0],s=t.chains.find(m=>m.id===e?.chainId),a=t.state.status;switch(a){case"connected":return{address:n,addresses:o,chain:s,chainId:e?.chainId,connector:e?.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:a};case"reconnecting":return{address:n,addresses:o,chain:s,chainId:e?.chainId,connector:e?.connector,isConnected:!!n,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:a};case"connecting":return{address:n,addresses:o,chain:s,chainId:e?.chainId,connector:e?.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:a};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:a}}}u();d();f();u();d();f();u();d();f();async function wr(t,r){let{allowFailure:e=!0,chainId:o,contracts:n,...s}=r,a=t.getClient({chainId:o});return M(a,ae,"multicall")({allowFailure:e,contracts:n,...s})}u();d();f();function xr(t,r){let{chainId:e,...o}=r,n=t.getClient({chainId:e});return M(n,pt,"readContract")(o)}async function yr(t,r){let{allowFailure:e=!0,blockNumber:o,blockTag:n,...s}=r,a=r.contracts;try{let m={};for(let[h,p]of a.entries()){let g=p.chainId??t.state.chainId;m[g]||(m[g]=[]),m[g]?.push({contract:p,index:h})}let c=()=>Object.entries(m).map(([h,p])=>wr(t,{...s,allowFailure:e,blockNumber:o,blockTag:n,chainId:Number.parseInt(h),contracts:p.map(({contract:g})=>g)})),i=(await Promise.all(c())).flat(),l=Object.values(m).flatMap(h=>h.map(({index:p})=>p));return i.reduce((h,p,g)=>(h&&(h[l[g]]=p),h),[])}catch(m){if(m instanceof ke)throw m;let c=()=>a.map(i=>xr(t,{...i,blockNumber:o,blockTag:n}));return e?(await Promise.allSettled(c())).map(i=>i.status==="fulfilled"?{result:i.value,status:"success"}:{error:i.reason,result:void 0,status:"failure"}):await Promise.all(c())}}async function vr(t,r){let{address:e,blockNumber:o,blockTag:n,chainId:s,token:a,unit:m="ether"}=r;if(a)try{return await br(t,{balanceAddress:e,chainId:s,symbolType:"string",tokenAddress:a})}catch(p){if(p.name==="ContractFunctionExecutionError"){let g=await br(t,{balanceAddress:e,chainId:s,symbolType:"bytes32",tokenAddress:a}),P=Et(be(g.symbol,{dir:"right"}));return{...g,symbol:P}}throw p}let c=t.getClient({chainId:s}),l=await M(c,lt,"getBalance")(o?{address:e,blockNumber:o}:{address:e,blockTag:n}),h=t.chains.find(p=>p.id===s)??c.chain;return{decimals:h.nativeCurrency.decimals,formatted:te(l,me(m)),symbol:h.nativeCurrency.symbol,value:l}}async function br(t,r){let{balanceAddress:e,chainId:o,symbolType:n,tokenAddress:s,unit:a}=r,m={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:n}]}],address:s},[c,i,l]=await yr(t,{allowFailure:!1,contracts:[{...m,functionName:"balanceOf",args:[e],chainId:o},{...m,functionName:"decimals",chainId:o},{...m,functionName:"symbol",chainId:o}]}),h=te(c??"0",me(a??i));return{decimals:i,formatted:h,symbol:l,value:c}}u();d();f();function Q(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;let e,o;if(Array.isArray(t)&&Array.isArray(r)){if(e=t.length,e!==r.length)return!1;for(o=e;o--!==0;)if(!Q(t[o],r[o]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();let n=Object.keys(t);if(e=n.length,e!==Object.keys(r).length)return!1;for(o=e;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,n[o]))return!1;for(o=e;o--!==0;){let s=n[o];if(s&&!Q(t[s],r[s]))return!1}return!0}return t!==t&&r!==r}u();d();f();var Kt=[];function le(t){let r=[...t.state.connections.values()];return t.state.status==="reconnecting"||Q(Kt,r)?Kt:(Kt=r,r)}u();d();f();async function Wr(t,r){let{account:e,chainId:o,...n}=r,s=e??Pt(t).address,a=t.getClient({chainId:o});return M(a,et,"prepareTransactionRequest")({...n,...s?{account:s}:{}})}u();d();f();var pe=!1;async function he(t,r={}){if(pe)return[];pe=!0,t.setState(i=>({...i,status:i.current?"reconnecting":"connecting"}));let e=[];if(r.connectors?.length)for(let i of r.connectors){let l;typeof i=="function"?l=t._internal.connectors.setup(i):l=i,e.push(l)}else e.push(...t.connectors);let o;try{o=await t.storage?.getItem("recentConnectorId")}catch{}let n={};for(let[,i]of t.state.connections)n[i.connector.id]=1;o&&(n[o]=0);let s=Object.keys(n).length>0?[...e].sort((i,l)=>(n[i.id]??10)-(n[l.id]??10)):e,a=!1,m=[],c=[];for(let i of s){let l=await i.getProvider().catch(()=>{});if(!l||c.some(g=>g===l)||!await i.isAuthorized())continue;let p=await i.connect({isReconnecting:!0}).catch(()=>null);p&&(i.emitter.off("connect",t._internal.events.connect),i.emitter.on("change",t._internal.events.change),i.emitter.on("disconnect",t._internal.events.disconnect),t.setState(g=>{let P=new Map(a?g.connections:new Map).set(i.uid,{accounts:p.accounts,chainId:p.chainId,connector:i});return{...g,current:a?g.current:i.uid,connections:P}}),m.push({accounts:p.accounts,chainId:p.chainId,connector:i}),c.push(l),a=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(a?t.setState(i=>({...i,status:"connected"})):t.setState(i=>({...i,connections:new Map,current:null,status:"disconnected"}))),pe=!1,m}u();d();f();async function Jr(t,r){let{account:e,chainId:o,connector:n,...s}=r,a;return typeof e=="object"&&e?.type==="local"?a=t.getClient({chainId:o}):a=await Z(t,{account:e??void 0,chainId:o,connector:n}),await M(a,ht,"sendTransaction")({...s,...e?{account:e}:{},chain:o?{id:o}:null,gas:s.gas??void 0})}u();d();f();async function Vr(t,r){let{account:e,connector:o,...n}=r,s;return typeof e=="object"&&e.type==="local"?s=t.getClient():s=await Z(t,{account:e,connector:o}),M(s,fe,"signMessage")({...n,...e?{account:e}:{}})}u();d();f();async function Cr(t,r){let{addEthereumChainParameter:e,chainId:o}=r,n=t.state.connections.get(r.connector?.uid??t.state.current);if(n){let a=n.connector;if(!a.switchChain)throw new Ct({connector:a});return await a.switchChain({addEthereumChainParameter:e,chainId:o})}let s=t.chains.find(a=>a.id===o);if(!s)throw new U;return t.setState(a=>({...a,chainId:o})),s}u();d();f();function Kr(t,r){let{onChange:e}=r;return t.subscribe(()=>Pt(t),e,{equalityFn(o,n){let{connector:s,...a}=o,{connector:m,...c}=n;return Q(a,c)&&s?.id===m?.id&&s?.uid===m?.uid}})}u();d();f();function Xr(t,r){let{onChange:e}=r;return t.subscribe(()=>le(t),e,{equalityFn:Q})}u();d();f();function Zr(t,r){let{onChange:e}=r;return t._internal.connectors.subscribe((o,n)=>{e(Object.values(o),n)})}u();d();f();function Qr(t,r){let{syncConnectedChain:e=t._internal.syncConnectedChain,...o}=r,n,s=c=>{n&&n();let i=t.getClient({chainId:c});return n=M(i,ue,"watchPendingTransactions")(o),n},a=s(r.chainId),m;return e&&!r.chainId&&(m=t.subscribe(({chainId:c})=>c,async c=>s(c))),()=>{a?.(),m?.()}}u();d();f();async function Tr(t,r){let{chainId:e,timeout:o=0,...n}=r,s=t.getClient({chainId:e}),m=await M(s,ce,"waitForTransactionReceipt")({...n,timeout:o});if(m.status==="reverted"){let i=await M(s,wt,"getTransaction")({hash:m.transactionHash}),h=await M(s,ft,"call")({...i,data:i.input,gasPrice:i.type!=="eip1559"?i.gasPrice:void 0,maxFeePerGas:i.type==="eip1559"?i.maxFeePerGas:void 0,maxPriorityFeePerGas:i.type==="eip1559"?i.maxPriorityFeePerGas:void 0}),p=h?.data?Et(`0x${h.data.substring(138)}`):"unknown reason";throw new Error(p)}return{...m,chainId:s.chain.id}}u();d();f();async function Yr(t,r){let{account:e,chainId:o,connector:n,...s}=r,a;return typeof e=="object"&&e?.type==="local"?a=t.getClient({chainId:o}):a=await Z(t,{account:e??void 0,chainId:o,connector:n}),await M(a,se,"writeContract")({...s,...e?{account:e}:{},chain:o?{id:o}:null})}u();d();f();u();d();f();u();d();f();u();d();f();function Pr(t){if(typeof window>"u")return;let r=e=>t(e.detail);return window.addEventListener("eip6963:announceProvider",r),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",r)}function ge(){let t=new Set,r=[],e=()=>Pr(n=>{r.some(({info:s})=>s.uuid===n.info.uuid)||(r=[...r,n],t.forEach(s=>s(r,{added:[n]})))}),o=e();return{_listeners(){return t},clear(){t.forEach(n=>n([],{removed:[...r]})),r=[]},destroy(){this.clear(),t.clear(),o?.()},findProvider({rdns:n}){return r.find(s=>s.info.rdns===n)},getProviders(){return r},reset(){this.clear(),o?.(),o=e()},subscribe(n,{emitImmediately:s}={}){return t.add(n),s&&n(r,{added:r}),()=>t.delete(n)}}}u();d();f();var to=t=>(r,e,o)=>{let n=o.subscribe;return o.subscribe=(a,m,c)=>{let i=a;if(m){let l=c?.equalityFn||Object.is,h=a(o.getState());i=p=>{let g=a(p);if(!l(h,g)){let P=h;m(h=g,P)}},c?.fireImmediately&&m(h,h)}return n(i)},t(r,e,o)},Ir=to;function eo(t,r){let e;try{e=t()}catch{return}return{getItem:n=>{var s;let a=c=>c===null?null:JSON.parse(c,r?.reviver),m=(s=e.getItem(n))!=null?s:null;return m instanceof Promise?m.then(a):a(m)},setItem:(n,s)=>e.setItem(n,JSON.stringify(s,r?.replacer)),removeItem:n=>e.removeItem(n)}}var we=t=>r=>{try{let e=t(r);return e instanceof Promise?e:{then(o){return we(o)(e)},catch(o){return this}}}catch(e){return{then(o){return this},catch(o){return we(o)(e)}}}},ro=(t,r)=>(e,o,n)=>{let s={storage:eo(()=>localStorage),partialize:T=>T,version:0,merge:(T,E)=>({...E,...T}),...r},a=!1,m=new Set,c=new Set,i=s.storage;if(!i)return t((...T)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),e(...T)},o,n);let l=()=>{let T=s.partialize({...o()});return i.setItem(s.name,{state:T,version:s.version})},h=n.setState;n.setState=(T,E)=>{h(T,E),l()};let p=t((...T)=>{e(...T),l()},o,n);n.getInitialState=()=>p;let g,P=()=>{var T,E;if(!i)return;a=!1,m.forEach(S=>{var k;return S((k=o())!=null?k:p)});let I=((E=s.onRehydrateStorage)==null?void 0:E.call(s,(T=o())!=null?T:p))||void 0;return we(i.getItem.bind(i))(s.name).then(S=>{if(S)if(typeof S.version=="number"&&S.version!==s.version){if(s.migrate)return[!0,s.migrate(S.state,S.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,S.state];return[!1,void 0]}).then(S=>{var k;let[B,w]=S;if(g=s.merge(w,(k=o())!=null?k:p),e(g,!0),B)return l()}).then(()=>{I?.(g,void 0),g=o(),a=!0,c.forEach(S=>S(g))}).catch(S=>{I?.(void 0,S)})};return n.persist={setOptions:T=>{s={...s,...T},T.storage&&(i=T.storage)},clearStorage:()=>{i?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>P(),hasHydrated:()=>a,onHydrate:T=>(m.add(T),()=>{m.delete(T)}),onFinishHydration:T=>(c.add(T),()=>{c.delete(T)})},s.skipHydration||P(),g||p},Sr=ro;u();d();f();var Er=t=>{let r,e=new Set,o=(i,l)=>{let h=typeof i=="function"?i(r):i;if(!Object.is(h,r)){let p=r;r=l??(typeof h!="object"||h===null)?h:Object.assign({},r,h),e.forEach(g=>g(r,p))}},n=()=>r,m={setState:o,getState:n,getInitialState:()=>c,subscribe:i=>(e.add(i),()=>e.delete(i))},c=r=t(o,n,m);return m},Xt=t=>t?Er(t):Er;u();d();f();var xe=class{constructor(r){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new Ye.default})}on(r,e){this._emitter.on(r,e)}once(r,e){this._emitter.once(r,e)}off(r,e){this._emitter.off(r,e)}emit(r,...e){let o=e[0];this._emitter.emit(r,{uid:this.uid,...o})}listenerCount(r){return this._emitter.listenerCount(r)}};function kr(t){return new xe(t)}u();d();f();u();d();f();function Ar(t,r){return JSON.parse(t,(e,o)=>{let n=o;return n?.__type==="bigint"&&(n=BigInt(n.value)),n?.__type==="Map"&&(n=new Map(n.value)),r?.(e,n)??n})}u();d();f();function _r(t,r){return t.slice(0,r).join(".")||"."}function Fr(t,r){let{length:e}=t;for(let o=0;o<e;++o)if(t[o]===r)return o+1;return 0}function oo(t,r){let e=typeof t=="function",o=typeof r=="function",n=[],s=[];return function(m,c){if(typeof c=="object")if(n.length){let i=Fr(n,this);i===0?n[n.length]=this:(n.splice(i),s.splice(i)),s[s.length]=m;let l=Fr(n,c);if(l!==0)return o?r.call(this,m,c,_r(s,l)):`[ref=${_r(s,l)}]`}else n[0]=c,s[0]=m;return e?t.call(this,m,c):c}}function Br(t,r,e,o){return JSON.stringify(t,oo((n,s)=>{let a=s;return typeof a=="bigint"&&(a={__type:"bigint",value:s.toString()}),a instanceof Map&&(a={__type:"Map",value:Array.from(s.entries())}),r?.(n,a)??a},o),e??void 0)}function Nr(t){let{deserialize:r=Ar,key:e="wagmi",serialize:o=Br,storage:n=Rr}=t;function s(a){return a instanceof Promise?a.then(m=>m).catch(()=>null):a}return{...n,key:e,async getItem(a,m){let c=n.getItem(`${e}.${a}`),i=await s(c);return i?r(i)??null:m??null},async setItem(a,m){let c=`${e}.${a}`;m===null?await s(n.removeItem(c)):await s(n.setItem(c,o(m)))},async removeItem(a){await s(n.removeItem(`${e}.${a}`))}}}var Rr={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function qr(){let t=typeof window<"u"&&window.localStorage?window.localStorage:Rr;return{getItem(r){return t.getItem(r)},removeItem(r){t.removeItem(r)},setItem(r,e){try{t.setItem(r,e)}catch{}}}}u();d();f();var Zt=256,Qt;function Mr(t=11){if(!Qt||Zt+t>256*2){Qt="",Zt=0;for(let r=0;r<256;r++)Qt+=(256+Math.random()*256|0).toString(16).substring(1)}return Qt.substring(Zt,Zt+++t)}function no(t){let{multiInjectedProviderDiscovery:r=!0,storage:e=Nr({storage:qr()}),syncConnectedChain:o=!0,ssr:n=!1,...s}=t,a=typeof window<"u"&&r?ge():void 0,m=Xt(()=>s.chains),c=Xt(()=>{let w=[],x=new Set;for(let C of s.connectors??[]){let _=i(C);if(w.push(_),!n&&_.rdns){let A=typeof _.rdns=="string"?[_.rdns]:_.rdns;for(let N of A)x.add(N)}}if(!n&&a){let C=a.getProviders();for(let _ of C)x.has(_.info.rdns)||w.push(i(l(_)))}return w});function i(w){let x=kr(Mr()),C={...w({emitter:x,chains:m.getState(),storage:e,transports:s.transports}),emitter:x,uid:x.uid};return x.on("connect",k),C.setup?.(),C}function l(w){let{info:x}=w,C=w.provider;return Tt({target:{...x,id:x.rdns,provider:C}})}let h=new Map;function p(w={}){let x=w.chainId??E.getState().chainId,C=m.getState().find(A=>A.id===x);if(w.chainId&&!C)throw new U;{let A=h.get(E.getState().chainId);if(A&&!C)return A;if(!C)throw new U}{let A=h.get(x);if(A)return A}let _;if(s.client)_=s.client({chain:C});else{let A=C.id,N=m.getState().map(j=>j.id),R={},G=Object.entries(s);for(let[j,D]of G)if(!(j==="chains"||j==="client"||j==="connectors"||j==="transports"))if(typeof D=="object")if(A in D)R[j]=D[A];else{if(N.some(K=>K in D))continue;R[j]=D}else R[j]=D;_=zt({...R,chain:C,batch:R.batch??{multicall:!0},transport:j=>s.transports[A]({...j,connectors:c})})}return h.set(x,_),_}function g(){return{chainId:m.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let P,T="0.0.0-canary-";ct.startsWith(T)?P=Number.parseInt(ct.replace(T,"")):P=Number.parseInt(ct.split(".")[0]??"0");let E=Xt(Ir(e?Sr(g,{migrate(w,x){if(x===P)return w;let C=g(),_=I(w,C.chainId);return{...C,chainId:_}},name:"store",partialize(w){return{connections:{__type:"Map",value:Array.from(w.connections.entries()).map(([x,C])=>{let{id:_,name:A,type:N,uid:R}=C.connector;return[x,{...C,connector:{id:_,name:A,type:N,uid:R}}]})},chainId:w.chainId,current:w.current}},merge(w,x){typeof w=="object"&&w&&"status"in w&&delete w.status;let C=I(w,x.chainId);return{...x,...w,chainId:C}},skipHydration:n,storage:e,version:P}):g));E.setState(g());function I(w,x){return w&&typeof w=="object"&&"chainId"in w&&typeof w.chainId=="number"&&m.getState().some(C=>C.id===w.chainId)?w.chainId:x}o&&E.subscribe(({connections:w,current:x})=>x?w.get(x)?.chainId:void 0,w=>{if(m.getState().some(C=>C.id===w))return E.setState(C=>({...C,chainId:w??C.chainId}))}),a?.subscribe(w=>{let x=new Set,C=new Set;for(let A of c.getState())if(x.add(A.id),A.rdns){let N=typeof A.rdns=="string"?[A.rdns]:A.rdns;for(let R of N)C.add(R)}let _=[];for(let A of w){if(C.has(A.info.rdns))continue;let N=i(l(A));x.has(N.id)||_.push(N)}e&&!E.persist.hasHydrated()||c.setState(A=>[...A,..._],!0)});function S(w){E.setState(x=>{let C=x.connections.get(w.uid);return C?{...x,connections:new Map(x.connections).set(w.uid,{accounts:w.accounts??C.accounts,chainId:w.chainId??C.chainId,connector:C.connector})}:x})}function k(w){E.getState().status==="connecting"||E.getState().status==="reconnecting"||E.setState(x=>{let C=c.getState().find(_=>_.uid===w.uid);return C?(C.emitter.listenerCount("connect")&&C.emitter.off("connect",S),C.emitter.listenerCount("change")||C.emitter.on("change",S),C.emitter.listenerCount("disconnect")||C.emitter.on("disconnect",B),{...x,connections:new Map(x.connections).set(w.uid,{accounts:w.accounts,chainId:w.chainId,connector:C}),current:w.uid,status:"connected"}):x})}function B(w){E.setState(x=>{let C=x.connections.get(w.uid);if(C){let A=C.connector;A.emitter.listenerCount("change")&&C.connector.emitter.off("change",S),A.emitter.listenerCount("disconnect")&&C.connector.emitter.off("disconnect",B),A.emitter.listenerCount("connect")||C.connector.emitter.on("connect",k)}if(x.connections.delete(w.uid),x.connections.size===0)return{...x,connections:new Map,current:null,status:"disconnected"};let _=x.connections.values().next().value;return{...x,connections:new Map(x.connections),current:_.connector.uid}})}return{get chains(){return m.getState()},get connectors(){return c.getState()},storage:e,getClient:p,get state(){return E.getState()},setState(w){let x;typeof w=="function"?x=w(E.getState()):x=w;let C=g();typeof x!="object"&&(x=C),Object.keys(C).some(A=>!(A in x))&&(x=C),E.setState(x,!0)},subscribe(w,x,C){return E.subscribe(w,x,C?{...C,fireImmediately:C.emitImmediately}:void 0)},_internal:{mipd:a,store:E,ssr:!!n,syncConnectedChain:o,transports:s.transports,chains:{setState(w){let x=typeof w=="function"?w(m.getState()):w;if(x.length!==0)return m.setState(x,!0)},subscribe(w){return m.subscribe(w)}},connectors:{providerDetailToConnector:l,setup:i,setState(w){return c.setState(typeof w=="function"?w(c.getState()):w,!0)},subscribe(w){return c.subscribe(w)}},events:{change:S,connect:k,disconnect:B}}}}u();d();f();function so(t,r){let{initialState:e,reconnectOnMount:o}=r;return e&&!t._internal.store.persist.hasHydrated()&&t.setState({...e,chainId:t.chains.some(n=>n.id===e.chainId)?e.chainId:t.chains[0].id,connections:o?e.connections:new Map,status:o?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(n=>{let s=new Set;for(let c of n??[])if(c.rdns){let i=Array.isArray(c.rdns)?c.rdns:[c.rdns];for(let l of i)s.add(l)}let a=[],m=t._internal.mipd?.getProviders()??[];for(let c of m){if(s.has(c.info.rdns))continue;let i=t._internal.connectors.providerDetailToConnector(c),l=t._internal.connectors.setup(i);a.push(l)}return[...n,...a]})),o?he(t):t.storage&&t.setState(n=>({...n,connections:new Map}))}}}u();d();f();function io(t){let{chain:r}=t,e=r.rpcUrls.default.http[0];if(!t.transports)return[e];let o=t.transports?.[r.id]?.({chain:r});return(o?.value?.transports||[o]).map(({value:s})=>s?.url||e)}export{H as a,U as b,Lr as c,Ur as d,$r as e,Pt as f,vr as g,le as h,Wr as i,he as j,Jr as k,Vr as l,$ as m,Cr as n,Kr as o,Xr as p,Zr as q,Qr as r,Tr as s,Yr as t,Tt as u,de as v,no as w,so as x,io as y};
