import{h as i,j as s,n as u}from"./chunk-KGCAX4NX.js";i();u();s();i();u();s();i();u();s();function x(e,t){return e.exec(t)?.groups}var L=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,D=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,E=/^\(.+?\).*?$/;var W=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function V(e){return W.test(e)}function q(e){return x(W,e)}var G=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function H(e){return G.test(e)}function Q(e){return x(G,e)}var X=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Y(e){return X.test(e)}function ee(e){return x(X,e)}var te=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function M(e){return te.test(e)}function re(e){return x(te,e)}var ne=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function oe(e){return ne.test(e)}function ae(e){return x(ne,e)}var ie=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function se(e){return ie.test(e)}function ue(e){return x(ie,e)}var ge=/^receive\(\) external payable$/;function ce(e){return ge.test(e)}var pe=new Set(["indexed"]),I=new Set(["calldata","memory","storage"]);i();u();s();i();u();s();i();u();s();i();u();s();var le="1.0.8";var m=class e extends Error{constructor(t,r={}){let o=r.cause instanceof e?r.cause.details:r.cause?.message?r.cause.message:r.details,n=r.cause instanceof e&&r.cause.docsPath||r.docsPath,c=[t||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...n?[`Docs: https://abitype.dev${n}`]:[],...o?[`Details: ${o}`]:[],`Version: abitype@${le}`].join(`
`);super(c),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),r.cause&&(this.cause=r.cause),this.details=o,this.docsPath=n,this.metaMessages=r.metaMessages,this.shortMessage=t}};var k=class extends m{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}},O=class extends m{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}};i();u();s();var R=class extends m{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}},T=class extends m{constructor({param:t,name:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${r}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}},j=class extends m{constructor({param:t,type:r,modifier:o}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${o}" not allowed${r?` in "${r}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}},z=class extends m{constructor({param:t,type:r,modifier:o}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${o}" not allowed${r?` in "${r}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${o}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}},_=class extends m{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}};i();u();s();var v=class extends m{constructor({signature:t,type:r}){super(`Invalid ${r} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}},B=class extends m{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}},Z=class extends m{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}};i();u();s();var F=class extends m{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}};i();u();s();i();u();s();var C=class extends m{constructor({current:t,depth:r}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}};i();u();s();function me(e,t,r){let o="";if(r)for(let n of Object.entries(r)){if(!n)continue;let c="";for(let a of n[1])c+=`[${a.type}${a.name?`:${a.name}`:""}]`;o+=`(${n[0]}{${c}})`}return t?`${t}:${e}${o}`:e}var U=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function fe(e,t={}){if(Y(e))return he(e,t);if(H(e))return ve(e,t);if(V(e))return $e(e,t);if(oe(e))return we(e,t);if(se(e))return Se(e);if(ce(e))return{type:"receive",stateMutability:"payable"};throw new B({signature:e})}function he(e,t={}){let r=ee(e);if(!r)throw new v({signature:e,type:"function"});let o=h(r.parameters),n=[],c=o.length;for(let p=0;p<c;p++)n.push($(o[p],{modifiers:I,structs:t,type:"function"}));let a=[];if(r.returns){let p=h(r.returns),l=p.length;for(let g=0;g<l;g++)a.push($(p[g],{modifiers:I,structs:t,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:n,outputs:a}}function ve(e,t={}){let r=Q(e);if(!r)throw new v({signature:e,type:"event"});let o=h(r.parameters),n=[],c=o.length;for(let a=0;a<c;a++)n.push($(o[a],{modifiers:pe,structs:t,type:"event"}));return{name:r.name,type:"event",inputs:n}}function $e(e,t={}){let r=q(e);if(!r)throw new v({signature:e,type:"error"});let o=h(r.parameters),n=[],c=o.length;for(let a=0;a<c;a++)n.push($(o[a],{structs:t,type:"error"}));return{name:r.name,type:"error",inputs:n}}function we(e,t={}){let r=ae(e);if(!r)throw new v({signature:e,type:"constructor"});let o=h(r.parameters),n=[],c=o.length;for(let a=0;a<c;a++)n.push($(o[a],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:n}}function Se(e){let t=ue(e);if(!t)throw new v({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}var Pe=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Ae=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Ee=/^u?int$/;function $(e,t){let r=me(e,t?.type,t?.structs);if(U.has(r))return U.get(r);let o=E.test(e),n=x(o?Ae:Pe,e);if(!n)throw new R({param:e});if(n.name&&Ie(n.name))throw new T({param:e,name:n.name});let c=n.name?{name:n.name}:{},a=n.modifier==="indexed"?{indexed:!0}:{},p=t?.structs??{},l,g={};if(o){l="tuple";let A=h(n.type),w=[],J=A.length;for(let S=0;S<J;S++)w.push($(A[S],{structs:p}));g={components:w}}else if(n.type in p)l="tuple",g={components:p[n.type]};else if(Ee.test(n.type))l=`${n.type}256`;else if(l=n.type,t?.type!=="struct"&&!N(l))throw new O({type:l});if(n.modifier){if(!t?.modifiers?.has?.(n.modifier))throw new j({param:e,type:t?.type,modifier:n.modifier});if(I.has(n.modifier)&&!ke(l,!!n.array))throw new z({param:e,type:t?.type,modifier:n.modifier})}let b={type:`${l}${n.array??""}`,...c,...a,...g};return U.set(r,b),b}function h(e,t=[],r="",o=0){let n=e.trim().length;for(let c=0;c<n;c++){let a=e[c],p=e.slice(c+1);switch(a){case",":return o===0?h(p,[...t,r.trim()]):h(p,t,`${r}${a}`,o);case"(":return h(p,t,`${r}${a}`,o+1);case")":return h(p,t,`${r}${a}`,o-1);default:return h(p,t,`${r}${a}`,o)}}if(r==="")return t;if(o!==0)throw new C({current:r,depth:o});return t.push(r.trim()),t}function N(e){return e==="address"||e==="bool"||e==="function"||e==="string"||L.test(e)||D.test(e)}var Me=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Ie(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||L.test(e)||D.test(e)||Me.test(e)}function ke(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function de(e){let t={},r=e.length;for(let a=0;a<r;a++){let p=e[a];if(!M(p))continue;let l=re(p);if(!l)throw new v({signature:p,type:"struct"});let g=l.properties.split(";"),b=[],A=g.length;for(let w=0;w<A;w++){let S=g[w].trim();if(!S)continue;let xe=$(S,{type:"struct"});b.push(xe)}if(!b.length)throw new Z({signature:p});t[l.name]=b}let o={},n=Object.entries(t),c=n.length;for(let a=0;a<c;a++){let[p,l]=n[a];o[p]=ye(l,t)}return o}var Oe=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function ye(e,t,r=new Set){let o=[],n=e.length;for(let c=0;c<n;c++){let a=e[c];if(E.test(a.type))o.push(a);else{let l=x(Oe,a.type);if(!l?.type)throw new _({abiParameter:a});let{array:g,type:b}=l;if(b in t){if(r.has(b))throw new F({type:b});o.push({...a,type:`tuple${g??""}`,components:ye(t[b]??[],t,new Set([...r,b]))})}else if(N(b))o.push(a);else throw new k({type:b})}}return o}function Re(e){let t=de(e),r=[],o=e.length;for(let n=0;n<o;n++){let c=e[n];M(c)||r.push(fe(c,t))}return r}i();u();s();i();u();s();i();u();s();i();u();s();var be=/^tuple(?<array>(\[(\d*)\])*)$/;function K(e){let t=e.type;if(be.test(e.type)&&"components"in e){t="(";let r=e.components.length;for(let n=0;n<r;n++){let c=e.components[n];t+=K(c),n<r-1&&(t+=", ")}let o=x(be,e.type);return t+=`)${o?.array??""}`,K({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function P(e){let t="",r=e.length;for(let o=0;o<r;o++){let n=e[o];t+=K(n),o!==r-1&&(t+=", ")}return t}function Te(e){return e.type==="function"?`function ${e.name}(${P(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${P(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${P(e.inputs)})`:e.type==="error"?`error ${e.name}(${P(e.inputs)})`:e.type==="constructor"?`constructor(${P(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}export{Te as a,Re as b};
