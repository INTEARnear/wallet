import{a as v,l as S,t as V,u as B,w as Y}from"./chunk-TAP62CKP.js";import"./chunk-XVL5DJMZ.js";import"./chunk-JCWDJGXT.js";import"./chunk-NBB6K44E.js";import{S as k,za as U}from"./chunk-SH2H32CZ.js";import"./chunk-BDUWLAUS.js";import"./chunk-OBMTZ2R2.js";import"./chunk-6ZQQ3XQO.js";import{Ba as N,Ob as P,Tb as D,Yb as A,ia as Z,na as m}from"./chunk-J26BEOSD.js";import"./chunk-MQMLE4BX.js";import"./chunk-UHIHVU5C.js";import"./chunk-EDRI7XUL.js";import{i as C,k as j,o as z}from"./chunk-JY5TIRRF.js";C();z();j();C();z();j();function F(w={}){let I,u,g,M;return a=>({id:"baseAccount",name:"Base Account",rdns:"app.base.account",type:"baseAccount",async connect({chainId:e,withCapabilities:r,...o}={}){try{let n=await this.getProvider(),t=e??a.chains[0]?.id;if(!t)throw new v;let{accounts:c,currentChainId:i}=await(async()=>{if(o.isReconnecting)return{accounts:(await n.request({method:"eth_accounts",params:[]})).map(d=>({address:N(d)})),currentChainId:await this.getChainId()};let s=await n.request({method:"wallet_connect",params:[{capabilities:"capabilities"in o&&o.capabilities?o.capabilities:{},chainIds:[m(t),...a.chains.filter(d=>d.id!==t).map(d=>m(d.id))]}]});return{accounts:(await n.request({method:"eth_accounts"})).map(d=>s.accounts.find(p=>p.address===d)??{address:d}).map(d=>({address:N(d.address),capabilities:d.capabilities??{}})),currentChainId:Number(s.chainIds[0])}})();return u||(u=this.onAccountsChanged.bind(this),n.on("accountsChanged",u)),g||(g=this.onChainChanged.bind(this),n.on("chainChanged",g)),M||(M=this.onDisconnect.bind(this),n.on("disconnect",M)),e&&i!==e&&(i=(await this.switchChain({chainId:e}).catch(l=>{if(l.code===D.code)throw l;return{id:i}}))?.id??i),{accounts:r?c:c.map(s=>s.address),chainId:i}}catch(n){throw/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(n.message)?new D(n):n}},async disconnect(){let e=await this.getProvider();u&&(e.removeListener("accountsChanged",u),u=void 0),g&&(e.removeListener("chainChanged",g),g=void 0),M&&(e.removeListener("disconnect",M),M=void 0),e.disconnect()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(r=>N(r))},async getChainId(){let r=await(await this.getProvider()).request({method:"eth_chainId"});return Number(r)},async getProvider(){if(!I){let e=typeof w.preference=="string"?{options:w.preference}:{...w.preference,options:w.preference?.options??"all"},{createBaseAccountSDK:r}=await(()=>{try{return import("./dist-7GJHPV5I.js")}catch{throw new Error('dependency "@base-org/account" not found')}})();I=r({...w,appChainIds:a.chains.map(n=>n.id),preference:e}).getProvider()}return I},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:e,chainId:r}){let o=a.chains.find(t=>t.id===r);if(!o)throw new A(new v);let n=await this.getProvider();try{return await n.request({method:"wallet_switchEthereumChain",params:[{chainId:m(o.id)}]}),o}catch(t){if(t.code===4902)try{let c;e?.blockExplorerUrls?c=e.blockExplorerUrls:c=o.blockExplorers?.default.url?[o.blockExplorers?.default.url]:[];let i;e?.rpcUrls?.length?i=e.rpcUrls:i=[o.rpcUrls.default?.http[0]??""];let s={blockExplorerUrls:c,chainId:m(r),chainName:e?.chainName??o.name,iconUrls:e?.iconUrls,nativeCurrency:e?.nativeCurrency??o.nativeCurrency,rpcUrls:i};return await n.request({method:"wallet_addEthereumChain",params:[s]}),o}catch(c){throw new D(c)}throw new A(t)}},onAccountsChanged(e){e.length===0?this.onDisconnect():a.emitter.emit("change",{accounts:e.map(r=>N(r))})},onChainChanged(e){let r=Number(e);a.emitter.emit("change",{chainId:r})},async onDisconnect(e){a.emitter.emit("disconnect");let r=await this.getProvider();u&&(r.removeListener("accountsChanged",u),u=void 0),g&&(r.removeListener("chainChanged",g),g=void 0),M&&(r.removeListener("disconnect",M),M=void 0)}})}C();z();j();Q.type="coinbaseWallet";function Q(w={}){let I,u,g,M;return a=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",rdns:"com.coinbase.wallet",type:Q.type,async connect({chainId:e,withCapabilities:r,...o}={}){try{let n=await this.getProvider(),t=(await n.request({method:"eth_requestAccounts",params:"instantOnboarding"in o&&o.instantOnboarding?[{onboarding:"instant"}]:[]})).map(i=>N(i));u||(u=this.onAccountsChanged.bind(this),n.on("accountsChanged",u)),g||(g=this.onChainChanged.bind(this),n.on("chainChanged",g)),M||(M=this.onDisconnect.bind(this),n.on("disconnect",M));let c=await this.getChainId();return e&&c!==e&&(c=(await this.switchChain({chainId:e}).catch(s=>{if(s.code===D.code)throw s;return{id:c}}))?.id??c),{accounts:r?t.map(i=>({address:i,capabilities:{}})):t,chainId:c}}catch(n){throw/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(n.message)?new D(n):n}},async disconnect(){let e=await this.getProvider();u&&(e.removeListener("accountsChanged",u),u=void 0),g&&(e.removeListener("chainChanged",g),g=void 0),M&&(e.removeListener("disconnect",M),M=void 0),e.disconnect(),e.close?.()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(r=>N(r))},async getChainId(){let r=await(await this.getProvider()).request({method:"eth_chainId"});return Number(r)},async getProvider(){if(!I){let{createCoinbaseWalletSDK:e}=await(()=>{try{return import("./dist-6YZV3F56.js")}catch{throw new Error('dependency "@coinbase/wallet-sdk" not found')}})();I=e({...w,appChainIds:a.chains.map(o=>o.id),preference:{options:"all",...w.preference??{}}}).getProvider()}return I},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:e,chainId:r}){let o=a.chains.find(t=>t.id===r);if(!o)throw new A(new v);let n=await this.getProvider();try{return await n.request({method:"wallet_switchEthereumChain",params:[{chainId:m(o.id)}]}),o}catch(t){if(t.code===4902)try{let c;e?.blockExplorerUrls?c=e.blockExplorerUrls:c=o.blockExplorers?.default.url?[o.blockExplorers?.default.url]:[];let i;e?.rpcUrls?.length?i=e.rpcUrls:i=[o.rpcUrls.default?.http[0]??""];let s={blockExplorerUrls:c,chainId:m(r),chainName:e?.chainName??o.name,iconUrls:e?.iconUrls,nativeCurrency:e?.nativeCurrency??o.nativeCurrency,rpcUrls:i};return await n.request({method:"wallet_addEthereumChain",params:[s]}),o}catch(c){throw new D(c)}throw new A(t)}},onAccountsChanged(e){e.length===0?this.onDisconnect():a.emitter.emit("change",{accounts:e.map(r=>N(r))})},onChainChanged(e){let r=Number(e);a.emitter.emit("change",{chainId:r})},async onDisconnect(e){a.emitter.emit("disconnect");let r=await this.getProvider();u&&(r.removeListener("accountsChanged",u),u=void 0),g&&(r.removeListener("chainChanged",g),g=void 0),M&&(r.removeListener("disconnect",M),M=void 0)}})}C();z();j();q.type="gemini";function q(w={}){let I,u,g,M;return a=>({id:"gemini",name:"Gemini Wallet",type:q.type,icon:"https://keys.gemini.com/images/gemini-wallet-logo.svg",async connect({chainId:e,withCapabilities:r}={}){try{let o=await this.getProvider(),n=await o.request({method:"eth_requestAccounts"});u||(u=this.onAccountsChanged.bind(this),o.on("accountsChanged",u)),g||(g=this.onChainChanged.bind(this),o.on("chainChanged",g)),M||(M=this.onDisconnect.bind(this),o.on("disconnect",M));let t=await this.getChainId();return e&&t!==e&&(t=(await this.switchChain({chainId:e}).catch(i=>{if(i.code===D.code)throw i;return{id:t}}))?.id??t),{accounts:r?n.map(c=>({address:c,capabilities:{}})):n,chainId:t}}catch(o){throw/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(o.message)?new D(o):o}},async disconnect(){let e=await this.getProvider();u&&(e.removeListener("accountsChanged",u),u=void 0),g&&(e.removeListener("chainChanged",g),g=void 0),M&&(e.removeListener("disconnect",M),M=void 0),await e.disconnect()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(o=>N(o))},async getChainId(){let r=await(await this.getProvider()).request({method:"eth_chainId"});return Number(r)},async getProvider(){if(!I){let{GeminiWalletProvider:e}=await(()=>{try{return import("./dist-HGIL4EVJ.js")}catch{throw new Error('dependency "@gemini-wallet/core" not found')}})();I=new e({appMetadata:w.appMetadata??{},chain:{id:a.chains[0]?.id??1,rpcUrl:a.chains[0]?.rpcUrls?.default?.http[0]}})}return I},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({chainId:e}){let r=a.chains.find(n=>n.id===e);if(!r)throw new A(new v);let o=await this.getProvider();try{return await o.request({method:"wallet_switchEthereumChain",params:[{chainId:m(e)}]}),r}catch(n){throw new A(n)}},onAccountsChanged(e){e.length===0?this.onDisconnect():a.emitter.emit("change",{accounts:e.map(r=>N(r))})},onChainChanged(e){let r=Number(e);a.emitter.emit("change",{chainId:r})},async onDisconnect(){a.emitter.emit("disconnect");let e=await this.getProvider();u&&(e.removeListener("accountsChanged",u),u=void 0),g&&(e.removeListener("chainChanged",g),g=void 0),M&&(e.removeListener("disconnect",M),M=void 0)}})}C();z();j();R.type="metaMask";function R(w={}){let I,u,g,M,a,e,r,o;return n=>({id:"metaMaskSDK",name:"MetaMask",rdns:["io.metamask","io.metamask.mobile"],type:R.type,async setup(){let t=await this.getProvider();t?.on&&(e||(e=this.onConnect.bind(this),t.on("connect",e)),M||(M=this.onAccountsChanged.bind(this),t.on("accountsChanged",M)))},async connect({chainId:t,isReconnecting:c,withCapabilities:i}={}){let s=await this.getProvider();r||(r=this.onDisplayUri,s.on("display_uri",r));let l=[];c&&(l=await this.getAccounts().catch(()=>[]));try{let h,d;l?.length||(w.connectAndSign||w.connectWith?(w.connectAndSign?h=await I.connectAndSign({msg:w.connectAndSign}):w.connectWith&&(d=await I.connectWith({method:w.connectWith.method,params:w.connectWith.params})),l=await this.getAccounts()):l=(await I.connect()).map(y=>N(y)));let p=await this.getChainId();return t&&p!==t&&(p=(await this.switchChain({chainId:t}).catch(y=>{if(y.code===D.code)throw y;return{id:p}}))?.id??p),r&&(s.removeListener("display_uri",r),r=void 0),h?s.emit("connectAndSign",{accounts:l,chainId:p,signResponse:h}):d&&s.emit("connectWith",{accounts:l,chainId:p,connectWithResponse:d}),e&&(s.removeListener("connect",e),e=void 0),M||(M=this.onAccountsChanged.bind(this),s.on("accountsChanged",M)),a||(a=this.onChainChanged.bind(this),s.on("chainChanged",a)),o||(o=this.onDisconnect.bind(this),s.on("disconnect",o)),{accounts:i?l.map(f=>({address:f,capabilities:{}})):l,chainId:p}}catch(h){let d=h;throw d.code===D.code?new D(d):d.code===P.code?new P(d):d}},async disconnect(){let t=await this.getProvider();a&&(t.removeListener("chainChanged",a),a=void 0),o&&(t.removeListener("disconnect",o),o=void 0),e||(e=this.onConnect.bind(this),t.on("connect",e)),await I.terminate()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(i=>N(i))},async getChainId(){let t=await this.getProvider(),c=t.getChainId()||await t?.request({method:"eth_chainId"});return Number(c)},async getProvider(){async function t(){let c=await(async()=>{let{default:h}=await(()=>{try{return import("./metamask-sdk-UBGDRADA.js")}catch{throw new Error('dependency "@metamask/sdk" not found')}})();return typeof h!="function"&&typeof h.default=="function"?h.default:h})(),i={};for(let h of n.chains)i[m(h.id)]=Y({chain:h,transports:n.transports})?.[0];I=new c({...w,_source:"wagmi",forceDeleteProvider:!1,forceInjectProvider:!1,injectProvider:!1,readonlyRPCMap:i,dappMetadata:{...w.dappMetadata,name:w.dappMetadata?.name?w.dappMetadata?.name:"wagmi",url:w.dappMetadata?.url?w.dappMetadata?.url:typeof window<"u"?window.location.origin:"https://wagmi.sh"},useDeeplink:!0});let s=await I.init(),l=s?.activeProvider?s.activeProvider:I.getProvider();if(!l)throw new S;return l}return u||(g||(g=t()),u=await g),u},async isAuthorized(){try{return!!(await k(()=>U(()=>this.getAccounts(),{timeout:200}),{delay:201,retryCount:3})).length}catch{return!1}},async switchChain({addEthereumChainParameter:t,chainId:c}){let i=await this.getProvider(),s=n.chains.find(d=>d.id===c);if(!s)throw new A(new v);try{return await i.request({method:"wallet_switchEthereumChain",params:[{chainId:m(c)}]}),await l(),await h(c),s}catch(d){let p=d;if(p.code===D.code)throw new D(p);if(p.code===4902||p?.data?.originalError?.code===4902)try{return await i.request({method:"wallet_addEthereumChain",params:[{blockExplorerUrls:(()=>{let{default:f,...y}=s.blockExplorers??{};if(t?.blockExplorerUrls)return t.blockExplorerUrls;if(f)return[f.url,...Object.values(y).map(O=>O.url)]})(),chainId:m(c),chainName:t?.chainName??s.name,iconUrls:t?.iconUrls,nativeCurrency:t?.nativeCurrency??s.nativeCurrency,rpcUrls:t?.rpcUrls?.length?t.rpcUrls:[s.rpcUrls.default?.http[0]??""]}]}),await l(),await h(c),s}catch(f){let y=f;throw y.code===D.code?new D(y):new A(y)}throw new A(p)}async function l(){await k(async()=>{let d=Z(await i.request({method:"eth_chainId"}));if(d!==c)throw new Error("User rejected switch after adding network.");return d},{delay:50,retryCount:20})}async function h(d){await new Promise(p=>{let f=y=>{"chainId"in y&&y.chainId===d&&(n.emitter.off("change",f),p())};n.emitter.on("change",f),n.emitter.emit("change",{chainId:d})})}},async onAccountsChanged(t){if(t.length===0)if(I.isExtensionActive())this.onDisconnect();else return;else if(n.emitter.listenerCount("connect")){let c=(await this.getChainId()).toString();this.onConnect({chainId:c})}else n.emitter.emit("change",{accounts:t.map(c=>N(c))})},onChainChanged(t){let c=Number(t);n.emitter.emit("change",{chainId:c})},async onConnect(t){let c=await this.getAccounts();if(c.length===0)return;let i=Number(t.chainId);n.emitter.emit("connect",{accounts:c,chainId:i});let s=await this.getProvider();e&&(s.removeListener("connect",e),e=void 0),M||(M=this.onAccountsChanged.bind(this),s.on("accountsChanged",M)),a||(a=this.onChainChanged.bind(this),s.on("chainChanged",a)),o||(o=this.onDisconnect.bind(this),s.on("disconnect",o))},async onDisconnect(t){let c=await this.getProvider();t&&t.code===1013&&c&&(await this.getAccounts()).length||(n.emitter.emit("disconnect"),a&&(c.removeListener("chainChanged",a),a=void 0),o&&(c.removeListener("disconnect",o),o=void 0),e||(e=this.onConnect.bind(this),c.on("connect",e)))},onDisplayUri(t){n.emitter.emit("message",{type:"display_uri",data:t})}})}C();z();j();function J(w={}){return I=>{let u=I.chains??w.chains??[],g=I.transports?I.transports:w.transports,M,a,e,r,o;return{async connect({chainId:n=u[0].id,...t}={}){let c="isReconnecting"in t&&t.isReconnecting||!1,i="withCapabilities"in t&&t.withCapabilities||!1,s=[],l;c&&([s,l]=await Promise.all([this.getAccounts().catch(()=>[]),this.getChainId().catch(()=>{})]),n&&l!==n&&(l=(await this.switchChain({chainId:n}).catch(p=>{if(p.code===D.code)throw p;return{id:l}}))?.id??l));let h=await this.getProvider();try{if(!s?.length&&!c){let{RpcSchema:d}=await(()=>{try{return import("./dist-K55ZMLHL.js")}catch{throw new Error('dependency "porto" not found')}})(),{z:p}=await(()=>{try{return import("./internal-3WOXZYEK.js")}catch{throw new Error('dependency "porto/internal" not found')}})(),f=await h.request({method:"wallet_connect",params:[{..."capabilities"in t?{capabilities:p.encode(d.wallet_connect.Capabilities,t.capabilities??{})}:{},chainIds:[m(n),...u.filter(y=>y.id!==n).map(y=>m(y.id))]}]});s=f.accounts,l=Number(f.chainIds[0])}if(!l)throw new v;return r&&(h.removeListener("connect",r),r=void 0),a||(a=this.onAccountsChanged.bind(this),h.on("accountsChanged",a)),e||(e=this.onChainChanged.bind(this),h.on("chainChanged",e)),o||(o=this.onDisconnect.bind(this),h.on("disconnect",o)),{accounts:s.map(d=>typeof d=="object"?i?d:d.address:i?{address:d,capabilities:{}}:d),chainId:l}}catch(d){let p=d;throw p.code===D.code?new D(p):p}},async disconnect(){let n=await this.getProvider();e&&(n.removeListener("chainChanged",e),e=void 0),o&&(n.removeListener("disconnect",o),o=void 0),r||(r=this.onConnect.bind(this),n.on("connect",r)),await n.request({method:"wallet_disconnect"})},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(c=>N(c))},async getChainId(){let t=await(await this.getProvider()).request({method:"eth_chainId"});return Number(t)},async getPortoInstance(){return M??=(async()=>{let{Porto:n}=await(()=>{try{return import("./dist-K55ZMLHL.js")}catch{throw new Error('dependency "porto" not found')}})();return n.create({...w,announceProvider:!1,chains:u,transports:g})})(),await M},async getProvider(){return(await this.getPortoInstance()).provider},icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDIyIiBoZWlnaHQ9IjQyMiIgdmlld0JveD0iMCAwIDQyMiA0MjIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MjIiIGhlaWdodD0iNDIyIiBmaWxsPSJibGFjayIvPgo8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfMV8xNSkiPgo8cGF0aCBkPSJNODEgMjg2LjM2NkM4MSAyODAuODkzIDg1LjQ1MDUgMjc2LjQ1NSA5MC45NDA0IDI3Ni40NTVIMzI5LjUxMUMzMzUuMDAxIDI3Ni40NTUgMzM5LjQ1MiAyODAuODkzIDMzOS40NTIgMjg2LjM2NlYzMDYuMTg4QzMzOS40NTIgMzExLjY2MiAzMzUuMDAxIDMxNi4wOTkgMzI5LjUxMSAzMTYuMDk5SDkwLjk0MDRDODUuNDUwNSAzMTYuMDk5IDgxIDMxMS42NjIgODEgMzA2LjE4OFYyODYuMzY2WiIgZmlsbD0id2hpdGUiIGZpbGwtb3BhY2l0eT0iMC41Ii8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNOTAuOTQwNCAyMzQuODI4Qzg1LjQ1MDUgMjM0LjgyOCA4MSAyMzkuMjY2IDgxIDI0NC43MzlWMjcxLjUzMUM4My44NDMyIDI2OS42MzMgODcuMjYyMiAyNjguNTI2IDkwLjk0MDQgMjY4LjUyNkgzMjkuNTExQzMzMy4xODggMjY4LjUyNiAzMzYuNjA4IDI2OS42MzMgMzM5LjQ1MiAyNzEuNTMxVjI0NC43MzlDMzM5LjQ1MiAyMzkuMjY2IDMzNS4wMDEgMjM0LjgyOCAzMjkuNTExIDIzNC44MjhIOTAuOTQwNFpNMzM5LjQ1MiAyODYuMzY2QzMzOS40NTIgMjgwLjg5MyAzMzUuMDAxIDI3Ni40NTUgMzI5LjUxMSAyNzYuNDU1SDkwLjk0MDRDODUuNDUwNSAyNzYuNDU1IDgxIDI4MC44OTMgODEgMjg2LjM2NlYzMDYuMTlDODEgMzExLjY2NCA4NS40NTA1IDMxNi4xMDEgOTAuOTQwNCAzMTYuMTAxSDMyOS41MTFDMzM1LjAwMSAzMTYuMTAxIDMzOS40NTIgMzExLjY2NCAzMzkuNDUyIDMwNi4xOVYyODYuMzY2WiIgZmlsbD0id2hpdGUiIGZpbGwtb3BhY2l0eT0iMC41Ii8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNOTAuOTQwNCAxOTMuMjAxQzg1LjQ1MDUgMTkzLjIwMSA4MSAxOTcuNjM4IDgxIDIwMy4xMTJWMjI5LjkwM0M4My44NDMyIDIyOC4wMDYgODcuMjYyMiAyMjYuODk5IDkwLjk0MDQgMjI2Ljg5OUgzMjkuNTExQzMzMy4xODggMjI2Ljg5OSAzMzYuNjA4IDIyOC4wMDYgMzM5LjQ1MiAyMjkuOTAzVjIwMy4xMTJDMzM5LjQ1MiAxOTcuNjM4IDMzNS4wMDEgMTkzLjIwMSAzMjkuNTExIDE5My4yMDFIOTAuOTQwNFpNMzM5LjQ1MiAyNDQuNzM5QzMzOS40NTIgMjM5LjI2NSAzMzUuMDAxIDIzNC44MjggMzI5LjUxMSAyMzQuODI4SDkwLjk0MDRDODUuNDUwNSAyMzQuODI4IDgxIDIzOS4yNjUgODEgMjQ0LjczOVYyNzEuNTNDODEuMjE3NSAyNzEuMzg1IDgxLjQzODMgMjcxLjI0NSA4MS42NjI0IDI3MS4xMDlDODMuODMyNSAyNjkuNzk0IDg2LjMwNTQgMjY4LjkyNyA4OC45NTIzIDI2OC42MzVDODkuNjA1MSAyNjguNTYzIDkwLjI2ODQgMjY4LjUyNiA5MC45NDA0IDI2OC41MjZIMzI5LjUxMUMzMzAuMTgzIDI2OC41MjYgMzMwLjg0NiAyNjguNTYzIDMzMS40OTggMjY4LjYzNUMzMzQuNDE5IDI2OC45NTcgMzM3LjEyOCAyNjkuOTggMzM5LjQ1MiAyNzEuNTNWMjQ0LjczOVpNMzM5LjQ1MiAyODYuMzY2QzMzOS40NTIgMjgxLjAyMSAzMzUuMjA2IDI3Ni42NjMgMzI5Ljg5MyAyNzYuNDYyQzMyOS43NjcgMjc2LjQ1NyAzMjkuNjQgMjc2LjQ1NSAzMjkuNTExIDI3Ni40NTVIOTAuOTQwNEM4NS40NTA1IDI3Ni40NTUgODEgMjgwLjg5MyA4MSAyODYuMzY2VjMwNi4xODhDODEgMzExLjY2MiA4NS40NTA1IDMxNi4xMDEgOTAuOTQwNCAzMTYuMTAxSDMyOS41MTFDMzM1LjAwMSAzMTYuMTAxIDMzOS40NTIgMzExLjY2MiAzMzkuNDUyIDMwNi4xODhWMjg2LjM2NloiIGZpbGw9IndoaXRlIiBmaWxsLW9wYWNpdHk9IjAuNSIvPgo8cGF0aCBvcGFjaXR5PSIwLjMiIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNOTguMDE0NiAxMDRDODguNjE3NyAxMDQgODEgMTExLjU5NSA4MSAxMjAuOTY1VjE4OC4yNzZDODMuODQzMiAxODYuMzc5IDg3LjI2MjIgMTg1LjI3MiA5MC45NDA0IDE4NS4yNzJIMzI5LjUxMUMzMzMuMTg4IDE4NS4yNzIgMzM2LjYwOCAxODYuMzc5IDMzOS40NTIgMTg4LjI3NlYxMjAuOTY1QzMzOS40NTIgMTExLjU5NSAzMzEuODMzIDEwNCAzMjIuNDM3IDEwNEg5OC4wMTQ2Wk0zMzkuNDUyIDIwMy4xMTJDMzM5LjQ1MiAxOTcuNjM4IDMzNS4wMDEgMTkzLjIwMSAzMjkuNTExIDE5My4yMDFIOTAuOTQwNEM4NS40NTA1IDE5My4yMDEgODEgMTk3LjYzOCA4MSAyMDMuMTEyVjIyOS45MDNDODEuMjE3NSAyMjkuNzU4IDgxLjQzODMgMjI5LjYxOCA4MS42NjI0IDIyOS40ODJDODMuODMyNSAyMjguMTY3IDg2LjMwNTQgMjI3LjMgODguOTUyMyAyMjcuMDA4Qzg5LjYwNTEgMjI2LjkzNiA5MC4yNjg0IDIyNi44OTkgOTAuOTQwNCAyMjYuODk5SDMyOS41MTFDMzMwLjE4MyAyMjYuODk5IDMzMC44NDYgMjI2LjkzNiAzMzEuNDk4IDIyNy4wMDhDMzM0LjQxOSAyMjcuMzMgMzM3LjEyOCAyMjguMzUyIDMzOS40NTIgMjI5LjkwM1YyMDMuMTEyWk0zMzkuNDUyIDI0NC43MzlDMzM5LjQ1MiAyMzkuMzkzIDMzNS4yMDYgMjM1LjAzNiAzMjkuODkzIDIzNC44MzVDMzI5Ljc2NyAyMzQuODMgMzI5LjY0IDIzNC44MjggMzI5LjUxMSAyMzQuODI4SDkwLjk0MDRDODUuNDUwNSAyMzQuODI4IDgxIDIzOS4yNjUgODEgMjQ0LjczOVYyNzEuNTNMODEuMDcwNyAyNzEuNDgzQzgxLjI2NTMgMjcxLjM1NSA4MS40NjI1IDI3MS4yMyA4MS42NjI0IDI3MS4xMDlDODEuOTA4MyAyNzAuOTYgODIuMTU4MSAyNzAuODE3IDgyLjQxMTcgMjcwLjY3OUM4NC4zOTUzIDI2OS42MDUgODYuNjA1NCAyNjguODk0IDg4Ljk1MjMgMjY4LjYzNUM4OS4wMDUyIDI2OC42MjkgODkuMDU4IDI2OC42MjQgODkuMTExIDI2OC42MThDODkuNzEyNSAyNjguNTU3IDkwLjMyMjggMjY4LjUyNiA5MC45NDA0IDI2OC41MjZIMzI5LjUxMUMzMjkuNzM4IDI2OC41MjYgMzI5Ljk2NSAyNjguNTMgMzMwLjE5MiAyNjguNTM5QzMzMC42MzEgMjY4LjU1NSAzMzEuMDY3IDI2OC41ODcgMzMxLjQ5OCAyNjguNjM1QzMzNC40MTkgMjY4Ljk1NyAzMzcuMTI4IDI2OS45OCAzMzkuNDUyIDI3MS41M1YyNDQuNzM5Wk0zMzkuNDUyIDI4Ni4zNjZDMzM5LjQ1MiAyODEuMDIxIDMzNS4yMDYgMjc2LjY2MyAzMjkuODkzIDI3Ni40NjJMMzI5Ljg2NSAyNzYuNDYxQzMyOS43NDggMjc2LjQ1NyAzMjkuNjI5IDI3Ni40NTUgMzI5LjUxMSAyNzYuNDU1SDkwLjk0MDRDODUuNDUwNSAyNzYuNDU1IDgxIDI4MC44OTMgODEgMjg2LjM2NlYzMDYuMTg4QzgxIDMxMS42NjIgODUuNDUwNSAzMTYuMTAxIDkwLjk0MDQgMzE2LjEwMUgzMjkuNTExQzMzNS4wMDEgMzE2LjEwMSAzMzkuNDUyIDMxMS42NjIgMzM5LjQ1MiAzMDYuMTg4VjI4Ni4zNjZaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMjY5Ljg2OCAxMzEuNzUyQzI2OS44NjggMTI2LjI3OCAyNzQuMzE4IDEyMS44NCAyNzkuODA4IDEyMS44NEgzMTEuNjE4QzMxNy4xMDggMTIxLjg0IDMyMS41NTggMTI2LjI3OCAzMjEuNTU4IDEzMS43NTJWMTYxLjQ4NUMzMjEuNTU4IDE2Ni45NTkgMzE3LjEwOCAxNzEuMzk2IDMxMS42MTggMTcxLjM5NkgyNzkuODA4QzI3NC4zMTggMTcxLjM5NiAyNjkuODY4IDE2Ni45NTkgMjY5Ljg2OCAxNjEuNDg1VjEzMS43NTJaIiBmaWxsPSJ3aGl0ZSIvPgo8L2c+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzFfMTUiPgo8cmVjdCB3aWR0aD0iMjU5IiBoZWlnaHQ9IjIxMyIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDgxIDEwNCkiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K",id:"xyz.ithaca.porto",async isAuthorized(){try{return!!(await k(()=>this.getAccounts())).length}catch{return!1}},name:"Porto",async onAccountsChanged(n){I.emitter.emit("change",{accounts:n.map(t=>N(t))})},onChainChanged(n){let t=Number(n);I.emitter.emit("change",{chainId:t})},async onConnect(n){let t=await this.getAccounts();if(t.length===0)return;let c=Number(n.chainId);I.emitter.emit("connect",{accounts:t,chainId:c});let i=await this.getProvider();i&&(r&&(i.removeListener("connect",r),r=void 0),a||(a=this.onAccountsChanged.bind(this),i.on("accountsChanged",a)),e||(e=this.onChainChanged.bind(this),i.on("chainChanged",e)),o||(o=this.onDisconnect.bind(this),i.on("disconnect",o)))},async onDisconnect(n){let t=await this.getProvider();I.emitter.emit("disconnect"),t&&(e&&(t.removeListener("chainChanged",e),e=void 0),o&&(t.removeListener("disconnect",o),o=void 0),r||(r=this.onConnect.bind(this),t.on("connect",r)))},async setup(){if(!r){let n=await this.getProvider();r=this.onConnect.bind(this),n.on("connect",r)}},async switchChain({chainId:n}){let t=u.find(i=>i.id===n);if(!t)throw new A(new v);return await(await this.getProvider()).request({method:"wallet_switchEthereumChain",params:[{chainId:m(n)}]}),t},type:"injected"}}}C();z();j();_.type="safe";function _(w={}){let{shimDisconnect:I=!1}=w,u,g;return M=>({id:"safe",name:"Safe",type:_.type,async connect({withCapabilities:a}={}){let e=await this.getProvider();if(!e)throw new S;let r=await this.getAccounts(),o=await this.getChainId();return g||(g=this.onDisconnect.bind(this),e.on("disconnect",g)),I&&await M.storage?.removeItem("safe.disconnected"),{accounts:a?r.map(n=>({address:n,capabilities:{}})):r,chainId:o}},async disconnect(){let a=await this.getProvider();if(!a)throw new S;g&&(a.removeListener("disconnect",g),g=void 0),I&&await M.storage?.setItem("safe.disconnected",!0)},async getAccounts(){let a=await this.getProvider();if(!a)throw new S;return(await a.request({method:"eth_accounts"})).map(N)},async getProvider(){if(typeof window<"u"&&window?.parent!==window){if(!u){let{default:e}=await(()=>{try{return import("./esm-XC2734JN.js")}catch{throw new Error('dependency "@safe-global/safe-apps-sdk" not found')}})(),r=new e(w),o=await U(()=>r.safe.getInfo(),{timeout:w.unstable_getInfoTimeout??10});if(!o)throw new Error("Could not load Safe information");let n=await(async()=>{let t=await(()=>{try{return import("./dist-TF4GZQVD.js")}catch{throw new Error('dependency "@safe-global/safe-apps-provider" not found')}})();return typeof t.SafeAppProvider!="function"&&typeof t.default.SafeAppProvider=="function"?t.default.SafeAppProvider:t.SafeAppProvider})();u=new n(o,r)}return u}},async getChainId(){let a=await this.getProvider();if(!a)throw new S;return Number(a.chainId)},async isAuthorized(){try{return I&&await M.storage?.getItem("safe.disconnected")?!1:!!(await this.getAccounts()).length}catch{return!1}},onAccountsChanged(){},onChainChanged(){},onDisconnect(){M.emitter.emit("disconnect")}})}C();z();j();var H="7.1.2";C();z();j();W.type="walletConnect";function W(w){let I=w.isNewChainsStale??!0,u,g,M="eip155",a,e,r,o,n,t;return c=>({id:"walletConnect",name:"WalletConnect",type:W.type,async setup(){let i=await this.getProvider().catch(()=>null);i&&(r||(r=this.onConnect.bind(this),i.on("connect",r)),n||(n=this.onSessionDelete.bind(this),i.on("session_delete",n)))},async connect({chainId:i,withCapabilities:s,...l}={}){try{let h=await this.getProvider();if(!h)throw new S;o||(o=this.onDisplayUri,h.on("display_uri",o));let d=i;if(!d){let O=await c.storage?.getItem("state")??{};c.chains.some(G=>G.id===O.chainId)?d=O.chainId:d=c.chains[0]?.id}if(!d)throw new Error("No chains found on connector.");let p=await this.isChainsStale();if(h.session&&p&&await h.disconnect(),!h.session||p){let O=c.chains.filter(L=>L.id!==d).map(L=>L.id);await h.connect({optionalChains:[d,...O],..."pairingTopic"in l?{pairingTopic:l.pairingTopic}:{}}),this.setRequestedChainsIds(c.chains.map(L=>L.id))}let f=(await h.enable()).map(O=>N(O)),y=await this.getChainId();return i&&y!==i&&(y=(await this.switchChain({chainId:i}).catch(L=>{if(L.code===D.code&&L.cause?.message!=="Missing or invalid. request() method: wallet_addEthereumChain")throw L;return{id:y}}))?.id??y),o&&(h.removeListener("display_uri",o),o=void 0),r&&(h.removeListener("connect",r),r=void 0),a||(a=this.onAccountsChanged.bind(this),h.on("accountsChanged",a)),e||(e=this.onChainChanged.bind(this),h.on("chainChanged",e)),t||(t=this.onDisconnect.bind(this),h.on("disconnect",t)),n||(n=this.onSessionDelete.bind(this),h.on("session_delete",n)),{accounts:s?f.map(O=>({address:O,capabilities:{}})):f,chainId:y}}catch(h){throw/(user rejected|connection request reset)/i.test(h?.message)?new D(h):h}},async disconnect(){let i=await this.getProvider();try{await i?.disconnect()}catch(s){if(!/No matching key/i.test(s.message))throw s}finally{e&&(i?.removeListener("chainChanged",e),e=void 0),t&&(i?.removeListener("disconnect",t),t=void 0),r||(r=this.onConnect.bind(this),i?.on("connect",r)),a&&(i?.removeListener("accountsChanged",a),a=void 0),n&&(i?.removeListener("session_delete",n),n=void 0),this.setRequestedChainsIds([])}},async getAccounts(){return(await this.getProvider()).accounts.map(s=>N(s))},async getProvider({chainId:i}={}){async function s(){let l=c.chains.map(d=>d.id);if(!l.length)return;let{EthereumProvider:h}=await(()=>{try{return import("./dist-6A3EXUP6.js")}catch{throw new Error('dependency "@walletconnect/ethereum-provider" not found')}})();return await h.init({...w,disableProviderPing:!0,optionalChains:l,projectId:w.projectId,rpcMap:Object.fromEntries(c.chains.map(d=>{let[p]=Y({chain:d,transports:c.transports});return[d.id,p]})),showQrModal:w.showQrModal??!0})}return u||(g||(g=s()),u=await g,u?.events.setMaxListeners(Number.POSITIVE_INFINITY)),i&&await this.switchChain?.({chainId:i}),u},async getChainId(){return(await this.getProvider()).chainId},async isAuthorized(){try{let[i,s]=await Promise.all([this.getAccounts(),this.getProvider()]);return i.length?await this.isChainsStale()&&s.session?(await s.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:i,chainId:s}){let l=await this.getProvider();if(!l)throw new S;let h=c.chains.find(d=>d.id===s);if(!h)throw new A(new v);try{await Promise.all([new Promise(p=>{let f=({chainId:y})=>{y===s&&(c.emitter.off("change",f),p())};c.emitter.on("change",f)}),l.request({method:"wallet_switchEthereumChain",params:[{chainId:m(s)}]})]);let d=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...d,s]),h}catch(d){let p=d;if(/(user rejected)/i.test(p.message))throw new D(p);try{let f;i?.blockExplorerUrls?f=i.blockExplorerUrls:f=h.blockExplorers?.default.url?[h.blockExplorers?.default.url]:[];let y;i?.rpcUrls?.length?y=i.rpcUrls:y=[...h.rpcUrls.default.http];let O={blockExplorerUrls:f,chainId:m(s),chainName:i?.chainName??h.name,iconUrls:i?.iconUrls,nativeCurrency:i?.nativeCurrency??h.nativeCurrency,rpcUrls:y};await l.request({method:"wallet_addEthereumChain",params:[O]});let L=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...L,s]),h}catch(f){throw new D(f)}}},onAccountsChanged(i){i.length===0?this.onDisconnect():c.emitter.emit("change",{accounts:i.map(s=>N(s))})},onChainChanged(i){let s=Number(i);c.emitter.emit("change",{chainId:s})},async onConnect(i){let s=Number(i.chainId),l=await this.getAccounts();c.emitter.emit("connect",{accounts:l,chainId:s})},async onDisconnect(i){this.setRequestedChainsIds([]),c.emitter.emit("disconnect");let s=await this.getProvider();a&&(s.removeListener("accountsChanged",a),a=void 0),e&&(s.removeListener("chainChanged",e),e=void 0),t&&(s.removeListener("disconnect",t),t=void 0),n&&(s.removeListener("session_delete",n),n=void 0),r||(r=this.onConnect.bind(this),s.on("connect",r))},onDisplayUri(i){c.emitter.emit("message",{type:"display_uri",data:i})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){return u?u.session?.namespaces[M]?.accounts?.map(s=>Number.parseInt(s.split(":")[1]||"",10))??[]:[]},async getRequestedChainsIds(){return await c.storage?.getItem(this.requestedChainsStorageKey)??[]},async isChainsStale(){if(!I)return!1;let i=c.chains.map(h=>h.id),s=this.getNamespaceChainsIds();if(s.length&&!s.some(h=>i.includes(h)))return!1;let l=await this.getRequestedChainsIds();return!i.every(h=>l.includes(h))},async setRequestedChainsIds(i){await c.storage?.setItem(this.requestedChainsStorageKey,i)},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}export{F as baseAccount,Q as coinbaseWallet,q as gemini,V as injected,R as metaMask,B as mock,J as porto,_ as safe,H as version,W as walletConnect};
